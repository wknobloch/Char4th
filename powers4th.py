from classes import *

BASEATTACK=[Power("Basic Attack",["weapon"],"at-will","standard",
          [Atk([STRMOD],"ac", damage(raising(1,20), [STRMOD]),["melee"])
          ,Atk([DEXMOD,["heavy thrown",lambda x:x.mod("str")-x.mod("dex")]],"AC", damage(raising(1,20), [DEXMOD,[["heavy thrown"],lambda x:x.mod("str")-x.mod("dex")]]),["ranged"])])]

def chandiv7(character):
    if character.level<11:
        return ""
    else:
        return str(raising(1,10)(character)-1)+"d6+"
basePowers={
       "Channel Divinity: Divine Fortune":Power("Channel Divinity: Divine Fortune",["divine"],"encounter","free"
                                  ,[Effect("You gain a +1 bonus to your next attack roll or saving throw before the end of your next turn")],"cleric","channel divinity"),
           "Channel Divinity: Turn Undead":Power("Channel Divinity: Turn Undead",["divine","implement","radiant"],"encounter","standard"
                                      ,[Target("Each undead creature in burst",("close burst",2)),
                                        Atk([WISMOD],"will",damage([raiselist(1,[5,11,15,21,25]),10],[WISMOD])),
                                        Hit(["Push the target ",MOD("cha",3)," squares.  The target is immobilized until the end of your next turn."])
                                        ,Miss("The target is not pushed or immobilized")],"cleric","channel divinity"),
           "Channel Divinity: Healer's Mercy":Power("Channel Divinity: Healer's Mercy",["divine","healing"],"encounter","standard"
                                  ,[Target("each bloodied ally in burst",("close burst",5)),
                                    Effect("Each target can spend a healing surge. You are weakened until the end of your next turn.")],"cleric","channel divinity"),
           "Channel Divinity: Divine Mettle":Power("Channel Divinity: Divine Mettle",["divine"],"encounter","minor"
                                      ,[Target("one creature in burst",("close burst",10)),
                                        Effect(["The target makes a saving throw with a +",MOD("cha")," bonus"])],"paladin","channel divinity"),
           "Channel Divinity: Divine Strength":Power("Channel Divinity: Divine Strength",["divine"],"encounter","minor"
                                      ,[Effect(["",MOD("str")," extra damage on your next attack this turn"])],"paladin","channel divinity"),
           "Channel Divinity: Rebuke Undead":Power("Channel Divinity: Rebuke Undead",["divine","implement","radiant"],"encounter","standard"
                                      ,[Target("Each undead creature in blast",("close burst",2)),Atk([WISMOD],"will",damage([raiselist(1,[5,11,15,21,25]),10],[WISMOD]))
                                        ,Hit("Push the target 2 squares, and it is dazed until the end of your next turn.")
                                        ,Miss()],"invoker","channel divinity"),
           "Channel Divinity: Perserver's Rebuke":Power("Channel Divinity: Perserver's Rebuke",["divine"],"encounter","immediate reaction"
                                      ,[Trigger("An enemy within 10 squares of you hits your ally")
                                        ,Effect(["Before the end of your next turn, you gain a +",MOD("int")," bonus to your next attack roll against the triggering enemy."])],"invoker","channel divinity"),
           "Channel Divinity: Armor of Wrath":Power("Channel Divinity: Armor of Wrath",["divine","radiant"],"encounter","immediate reaction"
                                      ,[Trigger("An enemy within 5 squares of you hits you")
                                        ,Target("the triggering enemy in burst",("close burst",5))
                                        ,Effect(["The target takes ",chandiv7,CONMOD," radiant damage, and you push the target 2 squares."])],"invoker","channel divinity"),
           "Channel Divinity: Maledictor's Doom":Power("Channel Divinity: Maledictor's Doom",["divine","fear"],"encounter","minor"
                                      ,[Target("each enemy in blast",("close blast",5)),
                                        Effect("Each target takes a - 1 penalty to attack rolls and saving throws until the end of your next turn. In addition, whenever the target is hit by a fear attack before the end of your next turn, you push the target 1 square as a free action.")],"invoker","channel divinity"),
           "Channel Divinity 8":Power("Channel Divinity: Abjure Undead",["divine","implement","radiant"],"encounter","standard"
                                      ,[Target("One undead creature in burst",("close burst",5)),Atk([WISMOD],"will",damage([raiselist(1,[1,1,5,11,15,21,25]),10],[WISMOD]))
                                        ,Hit(["You pull the target ",lambda x:1+x.mod("wis")," squares.  The target is also immobilized until the end of your next turn."])
                                        ,Miss("Half damage, and you pull the target 1 square.")],"avenger","channel divinity"),
           "Channel Divinity 9":Power("Channel Divinity: Divine Guidance",["divine"],"encounter","immediate reaction"
                                      ,[Trigger("An ally within 10 squares of you makes an attack against your Oath of Enmity target")
                                        ,Target("the triggering ally",("close burst",10))
                                        ,Effect("The target makes a second attack roll and uses either result.")],"avenger","channel divinity"),
           "Ardent Alacrity":Power("Ardent Alacrity",["psionic"],"encounter","no"
                                   ,[Trigger("You are bloodied by an attack")
                                     ,Target("each ally in burst",("close burst",5))
                                     ,Effect("Each target can use a free action either to shift 1 square or to move half his or her speed.")],"ardent","feature"),
           "Ardent Outrage":Power("Ardent Outrage",["psionic"],"encounter","no"
                                   ,[Trigger("You are bloodied by an attack")
                                     ,Target("each enemy in burst",("close burst",5))
                                     ,Effect("Each target grants combat advantage until the start of your next turn.")],"ardent","feature"),
           "Ardent Surge":Power("Ardent Surge",["psionic"],"encounter","minor"
                                   ,[Special(["You can use this power ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
                                     ,Target("You or one ally",("close burst",raising(5,15)))
                                     ,Effect(["The target can spend a healing surge and regain an additional ",raising(1,5),"d6",plus(lambda x:x.statret("ardentsurgeheal"))," hit points."])
                                     ,Other(["",orfeat("","Effect: The target gains a +1 bonus to all defenses until the end of your next turn.","mantle of clarity"),orfeat("","The target gains a +1 bonus to attack rolls until the end of your next turn.","mantle of elation")])],"ardent","feature"),
           "Battlemind's Demand":Power("Battlemind's Demand",["psionic"],"at-will","minor"
                                ,[Target("one creature in burst",("close burst",3)),
                                  Effect("Mark the target until you use this power again or until the end of the encounter."),
                                  Augment(1),
                                  Target("one or two creatures in burst")],"battlemind","feature"),
           "Blurred Step":Power("Blurred Step",["psionic"],"at-will","free"
                                ,[Special("You can use this power only once per turn."),
                                  Trigger("An adjacent enemy marked by you shifts"),
                                  Effect("You shift 1 square.")],"battlemind","feature"),
           "Mind Spike":Power("Mind Spike",["psionic"],"at-will","immediate reaction"
                                ,[Trigger("An adjacent enemy marked by you deals damage to your ally with an attack that doesn't include you as a target"),
                                  Target("the triggering enemy",("melee",1)),
                                  Effect("The target takes force and psychic damage equal to the damage that its attack dealt to your ally.")],"battlemind","feature"),
           "Battle Resilience":Power("Battle Resilience",["psionic"],"encounter","free"
                                ,[Trigger("An attack hits or misses you for the first time during an encounter"),
                                  Effect(["Until the end of your next turn, you gain resistance ",MOD("wis",raising(3,10))," to all damage"])],"battlemind","feature"),
           "Speed of Thought":Power("Speed of Thought",["psionic"],"encounter","free"
                                ,[Trigger("You roll initiative"),
                                  Effect(["You move ",MOD("cha",3)," squares"]),
                                  Special("You can use this power even if you're surprised.")],"battlemind","feature"),
           "Centered Flurry of Blows":Power("Centered Flurry of Blows",["psionic"],"at-will","free"
                                ,[Trigger("You hit with an attack during your turn"),
                                  Target(["",orfeat("one creature",orfeat("one or two creatures","each enemy adjacent to you",["level",21]),["level",11])]),
                                  Effect(["The target takes ",MOD("wis",2)," damage, and you slide it 1 square to a square adjacent to you or 1 square in any direction if the target wasn't targetted by the triggering attack."]),
                                  Special("You can use this power only once per round.")],"monk","feature"),
           "Stone Fist Flurry of Blows":Power("Stone Fist Flurry of Blows",["psionic"],"at-will","free"
                                ,[Trigger("You hit with an attack during your turn"),
                                  Target(["",orfeat("one creature",orfeat("one or two creatures","each enemy adjacent to you",["level",21]),["level",11])]),
                                  Effect(["The target takes ",MOD("str",3)," damage.  If the target wasn't targeted by the triggering attack, the damage increases by ",raising(2,10),"."]),
                                  Special("You can use this power only once per round.")],"monk","feature"),
           "Distract":Power("Distract",["psionic"],"encounter","minor"
                                ,[Target(["one",orfeat(" creature",orfeat(" or two creatures",", two, or three creatures",["level",21]),["level",11])],("range",10)),
                                  Effect("The target grants combat advantage to the next creature that attacks it before the end of your next turn."),
                                  Special("You can use this power even if you're surprised.")],"psion","feature"),
           "Far Hand":Power("Far Hand",["psionic"],"encounter","minor"
                                ,[Target("One object that weighs 20 pounds or less and isn't carried by another creature",("range",5)),
                                  Effect("You either move the target to a square within range or manipulate it.  When you move the target with this power, you can cause the target to remain aloft until the end of your next turn.  If you are holding the target when you use this power, you can put it into a container that's on your person and simultaneously move a second object that you're carrying to your hand.  The second object then becomes the target if it weighs 20 pounds or less."),
                                  Sustain("minor","You either move the target to a square within range or manipulate it.")],"psion","feature"),
           "Forceful Push":Power("Forceful Push",["psionic"],"encounter","free"
                                ,[Target("one creature",("range",10)),
                                  Effect(["You slide the target ",raising(1,10)," square",orfeat("","s",["level",11]),", but not into hindering terrain"])],"psion","feature"),
           "Send Thoughts":Power("Send Thoughts",["psionic"],"encounter","free"
                                ,[Target("one creature that shares a language with you",("range",20)),
                                  Effect("You send a message of 25 words or fewer to the target.  The target can respond in kind as a free action.")],"psion","feature"),
            "Rune of Mending":Power("Rune of Mending",["divine, healing","runic"],"encounter","minor"
                                 ,[Special(["You can use this power ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
                                   ,Target("You or one ally in burst",("close burst",raising(5,10)))
                                   ,Effect(["The target can spend a healing surge and regain an additonal ",raising(1,5),"d6 hit points"])
                                   ,Other(["Rune of Destruction:  You and each ally in the burst gain a +",raising(2,10)," power bonus to damage rolls until the end of your next turn."])
                                   ,Other("Rune of Protection: You and each ally in the burst gain a +1 bonus to all defenses until the end of your next turn.")],"runepriest","feature"),
           "Encaging Spirits":Power("Encaging Spirits",["primal"],"encounter","minor"
                                ,[Target("each enemy in burst",("close burst",raising(1,10))),
                                  Effect("You push each target 1 square, and each target is slowed until the end of your next turn.")],"seeker","feature"),
           "Inevitable Shot":Power("Inevitable Shot",["primal"],"encounter","free"
                                ,[Trigger("You miss a target with a ranged attack"),
                                  Effect(["You make a ranged basic attack against an enemy within ",orfeat(5,10,"inescapable shot")," squares of the creature you missed, using a square in that creature's space as the attack's origin square."]),
                                  Special("You regain the use of this power when you spend an action point")],"psion","feature"),
           "Spirits' Rebuke":Power("Spirits' Rebuke",["primal"],"encounter","immediate reaction"
                                ,[Requirement("You must be wielding a light thrown or a heavy thrown weapon."),
                                  Target("one creature that shares a language with you",("range",20)),
                                  Effect("You send a message of 25 words or fewer to the target.  The target can respond in kind as a free action.")],"psion","feature"),
           "Aegis of Assault":Power("Aegis of Assault",["arcane","teleportation"],"at-will","minor"
                                ,[Target("One creature in burst",("close burst",2))
                                  ,Effect("You mark the target.  The target remains marked until you use this power against another target.  If you mark other creatures using other powers, the target is still marked.  A creature can be subjected to only one mark at a time.  A new mark supersedes a mark that was already in place.")
                                  ,Line("If your marked target makes an attack that doesn't include you as a target, it takes a -2 penalty to attack rolls.  If that attack hits and the marked target is within 10 squares of you, you can use an immediate reaction to teleport to a square adjacent to the target and make a melee basic attack against it.  If no unoccupied space exists adjacent to the target, you can't use this immediate reaction.")],"swordmage","feature"),
           "Aegis of Shielding":Power("Aegis of Shielding",["arcane","teleportation"],"at-will","minor"
                                ,[Target("One creature in burst",("close burst",2))
                                  ,Effect("You mark the target.  The target remains marked until you use this power against another target.  If you mark other creatures using other powers, the target is still marked.  A creature can be subjected to only one mark at a time.  A new mark supersedes a mark that was already in place.")
                                  ,Line(["If your marked target makes an attack that doesn't include you as a target, it takes a -2 penalty to attack rolls.  If that attack hits and the marked target is within 10 squares of you, you can use an immediate interrupt to reduce the damage dealt by that attack to any one creature by ",lambda x:x.mod("con")+ raising(5,10)(x),"."])],"swordmage","feature"),
           "Aegis of Ensnarement":Power("Aegis of Ensnarement",["arcane","teleportation"],"at-will","minor"
                                ,[Target("one creature in burst",("close burst",2))
                                  ,Effect("You mark the target. The target remains marked until you use this power against another target. If you mark another creature using other powers, the target is still marked.")
                                  ,Line("Until the mark ends, if the target makes any attack that does not include you as a target, it takes a -2 penalty to the attack roll.")
                                  ,Line("If a target marked by this power is within 10 squares of you when it hits with an attack that does not include you as a target, you can use an immediate reaction after the target's entire attack is resolved to teleport the target to any space adjacent to you. In addition, the target grants combat advantage to all creatures until the end of your next turn. If no unoccupied space exists adjacent to you, you can't use this immediate reaction, and the target doesn't grant combat advantage as a result of this effect.")],"swordmage","feature"),
           "Healing Infusion: Curative Admixture":Power("Healing Infusion: Curative Admixture",["arcane","healing"],"encounter","minor"
                                ,[Special(["You can use healing infusion powers ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
                                  ,Target("You or one ally in burst",("close burst",raiselist(5,[10,15])))
                                  ,Effect(["The target can spend a healing surge and regain an additional ",lambda x:x.statret("wis")+raising(2,5)(x)-2," hit points, and you spend an infusion crafted with your Healing Infusion class feature."])],"artificer","feature"),
           "Healing Infusion: Resistive Formula":Power("Healing Infusion: Resistive Formula",["arcane"],"encounter","minor"
                                ,[Special(["You can use healing infusion powers ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
                                  ,Effect(["The target gains a +1 power bonus to AC until the end of the encounter, and you expend an infusion crafted with your Healing Infusion class feature.  The target can end the bonus as a free action to gain temporary hit points equal to its healing surve value +",lambda x:raising(1,10)(x)*x.mod("con"),"."])],"artificer","feature"),
           "Combat Agility":Power("Combat Agility",["martial","weapon"],"at-will","opportunity"
                                ,[Trigger("An enemy adjacent to you takes an action that provokes an opportunity attack"),
                                  Effect(["After the triggering enemy completes the action, you shift ",MOD("dex")," squares. You must end the shift closer to the target than you were when you began the shift. Then make the following attack."]),
                                  Target("The triggering enemy"),Atk([STRMOD],"AC",damage(raising(1,20),[STRMOD]),["melee"]),
                                  Hit("You knock the target prone.")],"fighter","feature"),
           "Oath of Enmity":Power("Oath of Enmity",["divine"],"encounter","minor"
            ,[Trigger("one enemy you can see in burst",("close burst",10))
              ,Effect("When you make a melee attack against the target and the target is the only enemy adjacent to you, you make two attack rolls and use either result.  This effect lasts until the end of the encounter or until the target drops to 0 hit points, at which point you regain the use of this power.")
              ,Line("If another effect lets you roll twice and use the higher result when making an attack roll, this power has no effect on that attack.  If an effect forces you to roll twice and use the lower result when making an attack roll, this power has no effect on that attack either.")
              ,Line("If an effect lets you reroll an attack roll and you rolled twice because of this power, you reroll both dice.")],"avenger","feature"),
           "Call Spirit Companion":Power("Call Spirit Companion",["conjuration","primal"],"at-will","minor"
          ,[Effect("You conjure your spirit companion in an unoccupied square in the burst.  The spirit lasts until you fall unconscious or until you dismiss it as a minor action, or until you use this power again.  The spirit occupies 1 square.  Enemies cannot move through its space, but allies can.  When you take a move action, you can also move the spirit a number of squares equal to your speed.",("close burst",20)),
            Line(["The spirit can be targetted by melee or ranged attacks, although it lacks hit points.  If a single melee or ranged attack deals ",MOD("half level",10)," or more damage, the spirit disappears, and you take ",lambda x:5+x.statret("level")/2," damage.  Otherwise, the spirit is unaffected by the attack."])],"shaman","feature"),
           "Healing Spirit":Power("Healing Spirit",["healing","primal"],"encounter","minor"
          ,[Target("you or one ally in burst",("close burst",5))
            ,Effect(["The target can spend a healing surge.  If the target does so, one ally adjacent to your spirit companion, other than that target, regains ",raising(1,5),"d6 hit points"]),
            Special(["You can use this power ",lambda x:2+x.check("level",16)," times per encounter, but only once per round."])],"shaman","feature"),
           "Speak with Spirits":Power("Speak with Spirits",["primal"],"encounter","minor"
          ,[Effect(["During this turn, gain a +",MOD("wis")," bonus to your next skill check"])],"shaman","feature"),
           "Spirit's Fangs":Power("Spirit's Fangs",["implement","primal","spirit"],"at-will","opportunity"
                                ,[Trigger("An enemy leaves a square adjacent to your spirit companion without shifting")
                                     ,Target("the triggering enemy"),Atk([WISMOD],"reflex",damage([raising(1,20),10],[WISMOD]))],"shaman","feature"),
           "Spirit's Shield":Power("Spirit's Shield",["healing","implement","primal","spirit"],"at-will","opportunity"
                                ,[Trigger("An enemy leaves a square adjacent to your spirit companion without shifting")
                                     ,Target("the triggering enemy"),Atk([WISMOD],"reflex",damage([0,0],[WISMOD]))
                                     ,Effect(["One ally within 5 squares of your spirit companion regains ",MOD("wis")," hit points"])],"shaman","feature"),
           "Spirit's Prey":Power("Spirit's Prey",["primal","spirit"],"at-will","opportunity"
                                ,[Trigger("An enemy leaves a square adjacent to your spirit companion without shifting")
                                     ,Target("the triggering enemy")
                                     ,Effect(["One ally within 10 squares of your spirit companion can make a ranged basic attack against the target as a free action with combat advantage."])],"shaman","feature"),
           "World Speaker's Command":Power("World Speaker's Command",["implement","primal","spirit"],"at-will","opportunity"
                                ,[Trigger("An enemy leaves a square adjacent to your spirit companion without shifting")
                                     ,Target("the triggering enemy"),Atk([WISMOD],"will",None)
                                     ,Hit("The target stops moving and must use a different action to resume moving.")],"shaman","feature"),
           "Healing Word":Power("Healing Word",["divine, healing"],"encounter","minor"
          ,[Special(["You can use this power ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
          ,Target("You or one ally in burst",("close burst",raising(5,10)))
          ,Effect(["The target can spend a healing surge and regain an additonal ",raising(1,5),"d6 hit points"])],"cleric","feature"),
            "Lay on Hands":Power("Lay on Hands",["divine", "healing"], "at-will","minor"
                                ,[Target("one creature",("melee",1))
                                    ,Special(["You can use this power ",lambda x:max(x.mod("wis"),1)," times per day"])
                                    ,Effect(["You spend a healing surge but regain no hit points.  Instead, the target regains hit points as if it had spend a healing surge",plus(lambda x:x.featuretotal("layonhands")),".  You must have at least one healing surge remaining to use this power."])],"paladin","feature"),
            "Ardent Vow":Power("Ardent Vow",["divine"], "daily","minor"
                               ,[Target("one creature",("melee","touch"))
                                    ,Effect(["The next time you attack the target before the end of your next turn, you gain a +",lambda x:x.mod("wis")," bonus to the damage roll. In addition, whenever you attack the target before the end of the encounter, it is subject to your divine sanction until the end of your next turn."])
                                    ,Special(["You can use this power ",lambda x:max(x.mod("wis"),1)," times per day, but only once per round"])],"paladin","feature"),
            "Virtue's Touch":Power("Virtue's Touch",["divine", "healing"], "daily","minor"
                               ,[Target("one creature",("melee","touch"))
                                    ,Effect("You remove one condition from the target: blinded, dazed, deafened, slowed, stunned, or weakened.")
                                    ,Special(["You can use this power ",lambda x:max(x.mod("wis"),1)," times per day, but only once per round"])],"paladin","feature"),
           "Divine Challenge":Power("Divine Challenge",["divine","radiant"],"daily","minor"
          ,[Target("one creature in a burst",("close burst",5))
            ,Effect("You mark the target.  Target remains marked until you use this power on another target, or if you fail to engage the target.  A creature can only be subjected to one mark at a time.  A new mark supersedes a mark that was already in place.")
          ,Line("",["While the target is marked, it takes a -2 penalty to attack rolls for any attack that doesn't include you as a target.  Also, it takes ",lambda x:x.mod("cha")+raising(3,10)(x)+x.modmux(["radiant"],"damage")," radiant damage the first time it makes an attack that doesn't include you as a target before the start of your next turn."])],"paladin","feature"),
           "Darkspiral Aura":Power("Darkspiral Aura",["arcane"], "at-will","immediate interrupt"
           ,[Trigger("An enemy makes a melee or ranged attack against you")
             ,Target("the triggering enemy")
             ,Effect(["Deal 1d",lambda x:raising(2,10)(x)+4+x.statret("darkspiraldie")," necrotic or psychic damage to the enemy for each point of your Darkspiral Aura's current value.  If this attack deals less than 12 damage, the value of your Darkspiral Aura becomes 0.  If this attack deals 12 damage or more, you can cause the enemy to be weakened for its attack and the value of your Darkspiral Aura becomes 1."])],"warlord","feature"),
           "Inspiring Word":Power("Inspiring Word",["martial","healing"], "encounter","minor"
           ,[Special(["You can use this power ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])
             ,Target("You or one ally in burst",("close burst",raiselist(5,[10,15])))
           ,Effect(["The target can spend a healing surge and regain an additional ",raising(1,5),"d6",plus(lambda x:x.statret("inspiringwordheal"))," hit points"])],"warlord","feature"),
           "Ghost Sound":Power("Ghost Sound",["arcane","illusion"],"at-will","standard"
             ,[Target("one object or unoccupied square",("ranged",10)),
               Effect("You cause a sound as quiet as a whisper or as loud as a yelling or fighting creature to emanate from the target.")],"wizard","feature"),
           "Light":Power("Light",["arcane"],"at-will","minor"
             ,[Target("one object or unoccupied square",("ranged",5)),Effect("You cause the target to shed bright light, filling the target's square and all squares within 4 squares of it.  The light lasts for 5 minutes.  Putting out the light is a free action.  You can only have one light cantrip active at a time.")],"wizard","feature"),
           "Mage Hand":Power("Mage Hand",["arcane","conjuration"],"at-will","minor"
             ,[Effect("You conjure a spectral, floating hand which can pick up, move, or manipulate objects weighting 20 pounds or less, and can move an item held by the caster into a container, and pull out a new item in its place, as a single action as part of the casting",("ranged",5))],"wizard","feature"),
            "Prestidigitation":Power("Prestidigitation",["arcane"],"at-will","standard"
              ,[Effect("Creates many minor magical effects, including: harmless sensory effects; cleaning objects; lighting candles, torches, or campfires; chilling, warming, or flavoring nonliving matter; making a small mark appear on a surface; producing a small object out of nothingness or a minor image; make a small, handheld item invisible for a short time.",("ranged",2))],"wizard","feature"),
            "Earthshock":Power("Earthshock",[],"encounter","minor"
              ,[Target("enemies in burst that are touching the ground",("close burst",1)),
                Atk([choosestat("earthshock",["str","con","dex"]),raising(2,10)],"fortitude",None),
                Hit("The target is knocked prone")],"genasi","racial power"),
            "Firepulse":Power("Firepulse",["fire"],"encounter","immediate reaction"
              ,[Trigger("an enemy hits you with a melee attack"),
                Target("the triggering enemy",("melee",1)),
                Atk([choosestat("firepulse",["str","con","dex"]),raising(2,10)],"reflex",damage([raising(1,10),6],[choosestat("firepulse",["str","con","dex"])])),
                Hit("The target is knocked prone")],"genasi","racial power"),
            "Promise of Storm":Power("Promise of Storm",["lightning","thunder"],"encounter","minor"
              ,[Effect(["Until the end of your next turn, you deal an extra ",raising(1,10),"d8 damage with any lightning or thunder powers."])]),
            "Swiftcurrent":Power("Swiftcurrent",[],"encounter","move"
              ,[Effect(["You can shift up to ",lambda x:x.statret("speed")+x.statret("swiftcurrentmove")," squares over ground or liquid terrain.  You take no penalties for squeezing during this movement, can move through enemy spaces, ignore difficult terrain, and take no damage if the surface or substance you move across would ordinarily deal damage to you."])],"genasi","racial power"),
            "Windwalker":Power("Windwalker",[],"encounter","move"
              ,[Effect(["Fly ",lambda x: 8+x.statret("windwalkermove")," squares.  If you don't end your move on solid ground, you float to the ground without taking falling damage."])],"genasi","racial power"),
            "BeastAttack":Power("Beast Melee Basic Attack",["beast"],"at-will","standard",
                  [Target("one creature",("melee beast",1)),Atk([lambda x:x.statret("beastatk")],"AC",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.statret("beastdmg")]))]),
           "Roar of Triumph":Power("Roar of Triumph",["fear","primal"],"encounter","free"
                            ,[Trigger("Your attack reduces an enemy to 0 hit points"),
                               Target("each enemy in burst",("close burst",5)),
                               Effect("Each target takes a -2 penalty to all defenses until the end of your next turn.")],"barbarian","feature"),
           "Swift Charge":Power("Swift Charge",["primal"],"encounter","free"
                            ,[Trigger("Your attack reduces an enemy to 0 hit points"),
                               Effect("You charge an enemy")],"barbarian","feature"),
           "War Cry":Power("War Cry",["fear","primal"],"encounter","free"
                            ,[Trigger("Your attack reduces an enemy to 0 hit points"),
                               Target("each enemy in blast",("close blast",3)),
                               Effect("You push each target 1 square")],"barbarian","feature"),                               
           "Rage Strike":Power("Rage Strike",["primal","weapon"],"daily","standard"
             ,[Requirement("You must be raging and have at least one unused barbarian rage power."),
               Special("To make this attack you spend an unused barbarian rage power"),
               Target("one creature"),
               Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
               Special("Deal additional damage for expending higher level powers:"),
               Line("5th: +1[W], 9th: +2[W], 15th: +3[W], 19th: +4[W], 20th: +4[W], 25th: +5[W], 29th: +6[W]"),
               Miss(),
               Special("You can use this power twice a day.")],"barbarian","feature"),
           "Majestic Word":Power("Majestic Word",["arcane","healing"],"encounter","minor"
             ,[Target("You or ally in burst",("close burst",raising(5,10))),
               Effect(["The target can spend a healing surge and regain ",orfeat("",[lambda x:raising(1,5)(x)-1,"d6+"],["level",6]),CHAMOD," additional hit points.  You also slide the target 1 square."])
               ,Special(["You can use this power ",lambda x:1+raising(1,15)(x)," times per encounter, but only once per round"])],"bard","feature"),
           "Words of Friendship":Power("Words of Friendship",["arcane"],"encounter","minor"
             ,[Effect("You gain a +5 power bonus to the next Diplomacy check you make before the end of your next turn.")],"bard","feature"),
            "Wild Shape":Power("Wild Shape",["polymorph","primal"],"at-will","minor"
             ,[Effect("You change from your humanoid form to beast form or vice-versa.  When you change from beast form back to your humanoid form, you shift 1 square.  While you are in beast form, you can't use attack, utility, or feat powers that lack the beast form keyword, although you can sustain such powers."),
               Other("   You choose a specific form whenever you use wild shape to change into beast form.  The beast form is your size, resembles a natural beast or a fey best, and normally doesn't change your game statistics or movement modes.  Your equipment becomes part of your beast form, but you drop anything you are holding, except implements you can use.  You continue to gain the benefits of the equipment you wear, except a shield."),
               Other("   You can use the properties and powers of implements as well as magic items that you wear, but not the properties or the powers of weapons or the powers of wondrous items.  While equipment is part of your beast form, it cannot be removed, and anything in a container that is part of your beast form is inaccessible."),
               Special("You can use this power once per round.")],"druid","feature"),
            "Warden's Fury":Power("Warden's Fury",["primal","weapon"],"at-will","immediate interrupt"
             ,[Trigger("An enemy marked by you makes an attack that does not include you as a target"),
               Target("the triggering enemy"),
               Atk([STRMOD],"fortitude",damage(raising(1,20),[STRMOD]),["melee"]),
               Hit("The target grants combat advantage to you and your allies until the end of your next turn.")],"warden","feature"),
            "Warden's Grasp":Power("Warden's Grasp",["primal","weapon"],"at-will","immediate reaction"
             ,[Trigger(["An enemy marked by you that is within ",orfeat(5,10,"far-reaching grasp")," squares of you makes an attack that does not include you as a target"]),
               Target("the triggering enemy",["close burst",orfeat(5,10,"far-reaching grasp")]),
               Effect(["You slide the target 1 square.  The target is ",orfeat("slowed","immobilized","tangling grasp")," and cannot shift until the end of its turn."])],"warden","feature"),
}
powerList={}
def addPowers(addList):
    for key in addList.keys():
        if key not in powerList.keys(): powerList[key]={}
        for power in addList[key]:
            powerList[key][power.name()]=power.copy()
def ardent():
    ardentList={"ardentat-will1":[
      Power("Demoralizing Strike",["augmentable","fear","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The target takes a -2 penalty to all defenses until the end of your next turn."),
          Augment(1),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["The target takes a -",lambda x:x.mod("con")+1," penalty to Will until the end of your next turn."]),
          Augment(2),
           Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["The target takes a -",lambda x:x.mod("con")+1," penalty to all defenses until the end of your next turn."])],"ardent","at-will",1),
      Power("Energizing Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["One ally within 5 squares of you gains ",lambda x:x.statret("level")/2+x.mod("cha")," temporary hit points."]),
          Other("Augment 1 (Healing)"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["One dying ally within 5 squares of you regains ",MOD("cha")," hit points."]),
          Augment(2),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit("You or one ally within 5 squares of you can spend a healing surge.")],"ardent","at-will",1),
      Power("Focusing Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("You or one ally within 5 squares of you can make a saving throw."),
          Augment(1),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["As above, and if the saving throw is against a charm or a fear effect, it gains a +",MOD("wis")," power bonus."]),
          Augment(2),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit("You and each ally within 5 squares of you can make a saving throw.")],"ardent","at-will",1),
      Power("Ire Strike",["augmentable","psionic"],"at-will","standard",
          [Target("one enemy",("melee",1)),
          Effect("One ally adjacent to you can make a melee basic attack against the target as a free action.  If the attack hits, the target has vulnerable 2 to all damage until the end of your next turn."),
          Augment(1),
           Effect(["As above, except if the attack hits, the target only gains vulnerable ",lambda x:x.statret("cha")+1," to psychic damage until the end of your next turn."]),
          Augment(2),
           Effect(["One ally within 5 squares of you can use a free action to shift to a square adjacent to the target and then make a melee basic attack against it.  If the attack hits, it deals 1d8 extra damage to the target, and the target has vulnerability ",lambda x:x.statret("cha")+1," to all damage until the end of your next turn."])],"ardent","at-will",1),
      Power("Psionic Shield",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("One ally within 5 squares of you gains a +1 power bonus to all defenses until the end of your next turn."),
          Augment(1),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["One ally within 5 squares of you gains a +",MOD("wis")," power bonus to Will until the end of your next turn."]),
          Augment(2),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit("Each ally within 5 squares of you gains a +2 power bonus to all defenses until the end of your next turn.")],"ardent","at-will",1),
],"ardentdaily1":[
      Power("Adrenaline Strike",["psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter, whenever you or any of your allies hits the target, the character who made the attack can shift 1 square as a free action.")],"ardent","attack",1),
      Power("Battleborn Acuity",["psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
           Miss(),
          Effect(["Until the end of your next turn, your allies gain both a +1 power bonus to attack rolls and a +",MOD("con")," power bonus to damage rolls while they are adjacent to you."]),
          Sustain("minor","The effect persists.")],"ardent","attack",1),
      Power("Implanted Suggestion",["charm","psionic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(2, [CHAMOD]),["melee"]),
          Miss(),
          Effect("The target is affected by your suggestion (save ends).  Until the suggestion ends, whenever the target makes an attack, one ally adjacent to the target can make a melee basic attack agaisnt it as a free action after the target's attack is resolved.")],"ardent","attack",1),
      Power("Mental Turmoil",["psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit(["The target takes a -",MOD("wis")," penalty to attack rolls (save ends)."]),
          Miss(["The target takes a -",lambda x:x.mod("wis")/2," penalty to attack rolls (save ends)."]),
          Effect(["Until the end of the encounter, whenever the target misses with a melee attack, you or one ally adjacent to you gains ",lambda x:x.statret("level")+5," temporary hit points."])],"ardent","attack",1),
      Power("Wormhole Plunge",["psionic","teleportation","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Miss(),
          Effect(["You teleport the target ",MOD("wis")," squares, and then one ally adjacent to the target can make a melee basic attack against it as a free action."]),
          Line("The attack creates a zone in the space that the target vacated.  The zone lasts until the end of your next turn.  Any creature that starts its turn within 3 squares of the zone is pulled 1 square toward it or into it.  As a free action, you can teleport a creature within the zone 3 squares.")],"ardent","attack",1),
],"ardentutility2":[
      Power("Bend Space",["psionic"],"encounter","minor",
          [Target("one ally",("ranged",5))
           ,Effect(["Until the end of your next turn, the target's reach increases by 1, and the target adds ",MOD("wis")," to the range of his or her ranged powers."])],"ardent","utility",2),
      Power("Dimension Swap",["psionic","teleportation"],"encounter","move",
          [Target("one ally in burst",("close burst",5)),
           Effect("You teleport yourself and the target, swapping places.")],"ardent","utility",2),
      Power("Mind over Matter",["psionic"],"daily","minor",
          [Target("you or one ally",("ranged ",5)),
           Effect("The target gains temporary hit points equal to his or her healing surge value")],"ardent","utility",2),
      Power("Psionic Conduit",["psionic"],"encounter","minor",
          [Target("one ally",("melee","touch")),
           Effect("You transfer 1 or 2 power points to the target.")],"ardent","utility",2),
      Power("Wellspring of Vigor",["psionic"],"daily","minor",
          [Target("you or one ally",("melee","touch")),
           Effect(["Until the end of the encounter, whenever the target starts his or her turn and is not bloodied, he or she gains ",lambda x:x.mod("con")+1," temporary hit points."])],"ardent","utility",2),
],"ardentat-will3":[
      Power("Distracting Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("Either you or an ally adjacent to the target marks it until the end of your next turn."),
          Augment(1),
          Effect("The marked condition ends on allies adjacent to you, who can each shift 1 square as a free action."),
          Augment(2),
          Target("each enemy in burst",("close burst",2))],"ardent","at-will",3),
      Power("Impatient Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("One ally adjacent to the target gains a +2 power bonus to damage rolls against it until the start of your next turn"),
          Augment(1),
          Hit("As above, and each ally adjacent to you can stand up as a free action."),
          Augment(2),
          Hit(["+1[W] damage.  Until the end of your next turn, allies gain a +",MOD("con")," bonus to damage rolls while they are adjacent to you"])],"ardent","at-will",3),
      Power("Prescient Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("When the target attacks you or an ally adjacent to you during its next turn, you can make the following secondary attack against it as an immediate interrupt."),
          Atk([CHAMOD],"will",None,["melee"]),
          Hit(["The target takes a -",MOD("wis")," penalty to its attack roll"]),
          Augment(1),
          Hit(["As above, but you can make the secondary attack only if the target attacks your or the ally's will.  You gain a +",MOD("wis")," bonus to the secondary attack."]),
          Augment(2),
          Hit(["+1[W] damage.  When the target attacks you or an ally you can see during its next turn, you can make the secondary attack as above.  You gain a +",MOD("wis")," bonus to the secondary attack roll."])],"ardent","at-will",3),
      Power("Unnerving Shove",["augmentable","fear","psionic", "weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([CHAMOD],"fortitude", damage(1, [CHAMOD]),["melee"]),
          Hit(["You push the target ",MOD("con")," squares."]),
          Augment(1),
          Hit(["If the target is dazed, you push it ",lambda x:x.mod("con")+2," squares."]),
          Augment(2),
          Hit(["+1[W] damage.  You push the target ",lambda x:x.mod("con")+1," squares.  The target grants combat advantage to your allies adjacent to it at the end of the push."])],"ardent","at-will",3)
],"ardentdaily5":[
      Power("Empowered Arsenal",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Effect(["The atttack creates a zone in a close burst 1.  The zone lats until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  While within the zone, your allies gain a +",MOD("con")," bonus to damage rolls, and their melee attacks ingore the insubstantial quality."]),
          Sustain()],"ardent","attack",5),
      Power("Enlightening Pulse",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Effect(["The attack creates a zone in close burst 2.  The zone lasts until the end of your next turn.  When an ally damages an enemy that is within the zone, one ally within the zone can make a saving throw with a +",MOD("wis")," bonus."]),
          Sustain()],"ardent","attack",5),
     Power("Fate Exchange",["healing","psionic","teleportation"],"daily","standard",
          [Target("you and one ally in burst",("close burst",5)),
          Effect(["The targets teleport, swapping positions, and can then each make a basic attack as a free action, with a +2 power bonus to the attack rolls.  For each of these attacks that hits, you or one ally you can see can both spend a healing surge and make a saving throw.  If both basic attacks miss, you regain use of this power."])],"ardent","attack",5),
      Power("Persistent Veil",["charm","psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The target is blinded (save ends)."),
          Aftereffect("All creatures have concealment against the target, and it takes a -5 penalty to perception checks (save ends both)."),
          Miss("Half damage, and the target is blinded until the end of your next turn."),
          Aftereffect("All creatures have concealment against the target, and it takes a -5 penalty to perception checks (save ends both).")],"ardent","attack",5)
],"ardentutility6":[
      Power("Battle Link",["psionic"],"daily","minor",
          [Target("two allies you can see or you and one ally you can see",("ranged",5)),
           Effect("Until the end of the encounter, whenever the targets are within 5 squares of each other, neither grants combat advantage for being flanked unless both are flanked.")],"ardent","utility",6),
      Power("Body Adjustment",["psionic"],"encounter","minor",
          [Target("you or one ally",("melee","touch")),
           Effect(["The target gains 1d12+",MOD("cha")," temporary hit points"])],"ardent","utility",6),
      Power("Evade Attack",["psionic","teleportation"],"encounter","immediate interrupt",
          [Trigger("an ally is hit by an opportunity attack"),
           Target("the triggering ally",("ranged",20)),
           Effect(["You teleport the target",MOD("cha")," squares."])],"ardent","utility",6),
      Power("Mend Wounds",["healing","psionic"],"daily","minor",
          [Target("you or one ally",("melee","touch")),
           Effect("The target regains hit points as if her or she had spent a healing surge.")],"ardent","utility",6),
      Power("Thought Shield",["psionic","zone"],"encounter","minor",
          [Effect("The burst creates a zone that lasts until the end of your next turn.  You and your allies gain both resist 3 to all damage and a +2 bonus to saving throws while within the zone.",("close burst",1))],"ardent","utility",6),
],"ardentat-will7":[
      Power("Courageous Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([CHAMOD],"will", damage(1, [CHAMOD]),["melee"]),
          Hit("You and one ally adjacent to you gain a +2 power bonus to AC against the target's attacks until the end of your next turn."),
          Augment(1),
          Hit("As above, but the power bonus applies to all defenses, not just AC."),
          Augment(2),
          Target("each enemy in burst",("close burst",1)),
          Hit(["Damage as above.  The burst creates a zone that lasts until the end of your next turn.  You and your allies gain a +",MOD("wis")," power bonus to AC while within the zone."])],"ardent","at-will",7),
      Power("Forward-Thinking Cut",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("Each ally adjacent to you gains a +1 power bonus to attack rolls until the start of your next turn."),
          Special("When charging, you can use this power unaugmented in place of a melee basic attack."),
          Augment(1),
          Effect("If you make a charge attack with this power, you can shift 1 square before the charge."),
          Augment(2),
          Effect(["One or two allies you can see each charge creatures other than the target as a free action, with a +",MOD("con")," power bonus to their damage rolls."])],"ardent","at-will",7),
      Power("Mindlink Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Effect("One ally adjacent to you can make a melee basic attack against the target as an opportunity action.  On a hit, you and the ally can each shift as a free action."),
          Augment(1),
          Effect("As above, and the ally gains a +3 power bonus to the damage roll if he or she is marking the target."),
          Augment(2),
          Target("each enemy you can see in burst",("close burst",1)),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),[]),
          Hit("One ally adjacent to the target can make a melee basic attack against it as an opportunity action.")],"ardent","at-will",7),
      Power("Rewarding Strike",["augmentable","healing","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["The next ally who hits the target before the start of your next turn regains ",MOD("con")," HP."]),
          Augment(1),
          Hit("Damage as above.  Allies who hit the target's Will before the start of your next turn can spend a healing surge."),
          Augment(2),
          Hit("+1[W] damage.  Allies who hit the target before the end of your next turn can spend a healing surge.")],"ardent","at-will",7),
      Power("Unhinging Strike",["augmentable","charm","psionic","psychic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(None, [CHAMOD]),["melee"]),
          Hit("The target makes a melee basic attack as a free action against a creature of your choice."),
          Augment(1),
          Hit("Damage as above.  Until the end of the target's next turn, enemies provoke opportunity attacks from the target, and it must make those attacks."),
          Augment(2),
          Atk([CHAMOD],"will", damage(1,[CHAMOD]),["melee"]),
          Hit("The target makes a melee basic attack as a free action against one or two creatures of your choice.")],"ardent","at-will",7)
],"ardentdaily9":[
      Power("Agony Field",["psionic","psychic","weapon","zone"],"daily","standard",
          [Effect("Before and after the attack you shift 5 squares"),
           Target("one creature"),Atk([CHAMOD],"will", damage(1, [CHAMOD]),["melee"]),
           Hit("Ongoing 5 psychic damage (save ends)."),
          Miss(),
          Effect("The attack creates a zone in a close burst 1.  The zone lasts until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  Whenever you take damage from an attack, each enemy within the zone takes 5 psychic damage."),
          Sustain()],"ardent","attack",9),
      Power("Dulled Reflexes",["psionic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
           Hit("The target takes a -2 penalty to speed (save ends).  Until the penalty ends, it worsens by 2 whenever the the target attacks.  When the target's speed reaches 0 in this way, the penalty ends, but the target is restrained and stunned (save ends both)."),
          Effect("Until the end of the encounter, any enemy that starts its turn adjacent to the target is slowed (save ends).")],"ardent","attack",9),
      Power("Feast of Despair",["psionic","psychic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(3, [CHAMOD]),["melee"]),
          Effect("Until the end of the encounter, the target takes a -2 penalty to all defenses, and whenever it misses with an attack, you or an ally you can see regains 1 power point.")],"ardent","attack",9),
      Power("Feast of Plenty",["psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Effect(["Until the end of the encounter, whenever the target takes damage, you and each ally adjacent to you gain ",lambda x:x.mod("wis")+3," temporary hit points."])],"ardent","attack",9),
      Power("Passage of Swords",["psionic","weapon"],"daily","standard",
          [Target("one enemy in burst"),Atk([CHAMOD],"fortitude", None,[]),
           Hit("The target is dazed (save ends)."),
          Effect(["You slide the target 5 squares.  Each ally adjacent to the target during this slide can make a melee basic attack against it as a free action, with a +",MOD("cha")," bonus to the damage roll."])],"ardent","attack",9),
],"ardentutility10":[
      Power("From the Brink",["healing","psionic"],"daily","minor",
          [Target("one ally",("close burst",10)),
          Effect(["The target regains hit points as if he or she had spent a healing surge.  If the target is dying, he or she recovers 2d10+",MOD("cha")," additional hit points.  In addition, the target can stand up as a free action."])],"ardent","utility",10),
      Power("Incite Bravery",["psionic"],"encounter","minor",
          [Target("you and each ally in burst",("close burst",1)),
           Effect("Until the end of your next turn, each target gains a +2 power bonus to attack rolls and a +2 power bonus to saving throws against fear effects.")],"ardent","utility",10),
      Power("Reactive Resistance",["psionic"],"encounter","immediate interrupt",
          [Trigger("An attack damages you or an ally"),
           Target("you or the ally in burst",("close burst",10)),
           Effect(["The damage the target takes from the triggering attack is reduced by ",lambda x:x.statret("level"),"."])],"ardent","utility",10),
      Power("Tower of Iron Will",["psionic","zone"],"daily","minor",
          [Effect(["The burst creates a zone that lasts until the end of your next turn.  While within the zone, you and your allies gain resist 10 psychic, a +4 power bonus to Will, and a+2 power bonus to AC, Fortitude, and Reflex.  In addition, any ally who starts his or her turn within the zone can make a saving throw against a dominating or stunning effect."]),
           Sustain()],"ardent","utility",10)
],"ardentat-will13":[
      Power("Confusing Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC",damage(1,[CHAMOD]),"melee"),
          Hit("The target takes a +2 penalty to attack rolls until the end of your next turn."),
          Augment(1),
          Hit("As above. and the target also takes a -2 penalty to Will until the end of your next turn."),
          Augment("4 (Zone)"),
          Target("each enemy you can see in burst",("close burst",1)),
          Hit("Damage as above, and the target is dazed until the end of your next turn."),
          Effect("The burst creates a zone that lasts until the end of your next turn. Enemies take a +2 penalty to attack rolls while within the zone.")],"ardent","at-will",13),
      Power("Field of Alacrity",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC",damage(1,[CHAMOD]),"melee"),
          Hit("Until the end of your next tum. allies adjacent to the target can shift as a minor action."),
          Augment(1),
          Hit("As above. and each ally within 5 squares of you can stand up as a free action."),
          Augment(4),
          Target("Each enemy in burst",("close burst",1)),
          Hit("Damage as above. One ally within 5 squares of you can take a move action as a free action.")],"ardent","at-will",13),
      Power("Hope's Audacity",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("Until the end of your next turn, allies within 5 squares of you can score a critical hit against the target on a roll of 19-20."),
          Augment(1),
          Hit("As above. and whenever an ally scores a critical hit against the target before the start of your next turn, you and each ally within 5 squares of you can shift 1 square as a free action."),
          Augment(4),
          Hit("+1[W] damage. Until the start of your next turn. allies within 5 squares of you can score a critical hit on a roll of 19+20.")],"ardent","at-will",13),
      Power("Revelatory Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
           Hit("One any adjacent to you or the target can either make a saving throw or gain a +1 power bonus to all defenses until the end of your next turn."),
           Augment(1),
           Hit(["One ally adjacent to you or the target can either make a saving throw with a +5 power bonus against a charm or illusion effect or gain a +",MOD("wis")," power bonus to Will Wisdom until the end of your next turn."]),
           Augment("4 (Zone)"),
           Hit(["+1[W] damage. The attack creates a zone in a close burst 2. The zone lasts until the end of your next turn. Any ally who starts his or her turn within the zone can either make a saving throw with a +2 power bonus or gain a +",MOD("wis")," power bonus to all defenses until the end of his or her next turn"])],"ardent","at-will",13),
      Power("Victorious Urging",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("One ally adjacent to you or the target gains a + 2 power bonus to attack rolls against the target until the end of your next turn."),
          Augment(1),
          Hit(["One ally adjacent to you or the target gains a +",MOD("con")," power bonus to attack rolls against the target's Fortitude until the end of your next turn."]),
          Augment(4),
          Hit("+1[W] damage, and you push the target 1 square. Until the end of your next turn, you and your allies gain a +2 power bonus to attack rolls against the target and any enemies adjacent to it.")],"ardent","at-will",13),
],"ardentdaily15":[
      Power("Extermination Urge",["charm","psionic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"AC", None,["melee"]),
           Hit(["The target is dominated and gains vulnerability ",MOD("wis")," to all damage (save ends both)."]),
            Miss(["The target is dazed and gains vulnerability ",lambda x:x.mod("wis")/2," to all damage (save ends both)"])],"ardent","attack",15),
      Power("Imminent Demise",["psionic","psychic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
           Miss(),
          Effect("The attack creates a zone in a close burst 1. The zone lasts until the end of your next turn. Bloodied enemies that start their turn within the zone take 10 psychic damage."),
          Sustain()],"ardent","attack",15),
      Power("Mountainfall Strike",["psionic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
           Hit("The target is immobilized (save ends).  Until the condition ends, any enemy that Starts its turn adjacent to the target is immobilized until the start of that enemy's next turn."),
           Miss("Half damage, and the target is slowed (save ends).  Until the condition ends, any enemy that starts its turn adjacent to the target is slowed until the start of that enemy's next turn.")],"ardent","attack",15),
      Power("Unchecked Aggression",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Effect(["The attack creates a zone in a close burst 1. The zone lasts until the end of your next turn. While within the zone, allies gain a +",MOD("con")," bonus to damage rolls, and enemies grant combat advantage."])],"ardent","attack",15),
      Power("Vigorous Offensive",["psionic","weapon"],"daily","standard",
          [Target("one, two, three, or four creature"),
           Atk([CHAMOD],"AC", damage(11, [CHAMOD]),["melee"]),
           Effect(["For each attack you make with this power, an ally within 5 squares of you gains ",lambda x:x.mod("cha")+3," temporary hit points."])],"ardent","attack",15)
],"ardentutility16":[
      Power("Bountiful Life",["psionic","zone"],"daily","standard",
          [Effect("The burst creates a zone that lasts until the end of your next turn. Whenever you regain hit points, each ally within the zone gains temporary hit points equal to half the hit points you regained."),
           Sustain()],"ardent","utility",16),
      Power("Fortunate Recovery",["psionic"],"encounter","no",
          [Trigger("You succeed on a saving throw"),
           Target("each ally in burst",("close burst",10)),
           Effect(["The next saving throw each target makes before the end of your next turn gains a +",MOD("con")," bonus."])],"ardent","utility",16),
      Power("Mental Rejuvenation",["healing","psionic"],"daily","standard",
          [Target("you or one ally in burst or you and each ally in burst"),
           Effect("If you target only one creature with this power, the target regains hit points as if he or she had spent two healing surges. If you target more than one creature, each target regains hit points as if he or she had spent a healing surge,")],"ardent","utility",16),
      Power("Re-Form Mind",["psionic"],"daily","standard",
          [Requirement("You must be taking a short rest."),
           Target("one creature",("melee","touch")),
           Effect("The target gains training in a skill of your choice until you take an extended rest,")],"ardent","utility",16),
      Power("Uncanny Awareness",["psionic"],"daily","standard",
          [Trigger("You roll initiative"),
           Target("you and each ally in burst",("close burst",3)),
           Effect("Each target can move half his or her speed as a free action.")],"ardent","utility",16),
],"ardentat-will17":[
      Power("Diamond Defense Assault",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("One ally adjacent to the target marks it until the end of your next turn."),
          Augment(1),
          Hit("If the target shifts during in next turn, one ally can make a melee basic attack against it as a free action."),
          Augment("4 (Zone)"),
          Target("each enemy in burst",("close burst",2)),
          Hit("Damage as above, and you slide the target 1 square."),
          Effect("The burst creates a zone that lasts until the end of your next turn. While within the zone, allies gain a +4 bonus to all defenses against attacks from outside the zone, and enemies take a -2 penalty to attack rolls.")],"ardent","at-will",17),
      Power("Illuminating Strike",["augmentable","psionic","radiant","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit(["One ally adjacent to you or the target gains resistance ",MOD("wis")," to all damage until the start of your next turn."]),
          Augment(1),
          Hit(["Damage as above. One ally within 5 squares of you gains necrotic, psychic, or radiant resistance ",lambda x:x.mod("wis")+3," until the start of your next turn."]),
          Augment(4),
          Target("each enemy in burst",("close burst",1)),
          Hit("+1[W] damage."),
          Effect(["If you hit at least one target. one ally within 5 squares of you gains resistance ",lambda x:x.mod("wis")+3," to all damage until the start of your next turn."])],"ardent","at-will",17),
      Power("Temporal Strike",["augmentable","psionic","weapon","zone"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The attack creates a zone in a close burst 2. The zone lasts until the end of your next turn. While within the zone, you and your allies are insubstantial against opportunity attacks."),
          Augment(1),
          Hit("As above. but you and your allies are instead insubstantial against attacks that target Reflex."),
          Augment(4),
          Hit("+1[W] damage, and the target is slowed until the end of your next turn. The attack creates a zone in a close burst 2. The zone lasts until the end of your next turn. While within the zone. you and your allies are insubstantial.")],"ardent","at-will",17),
      Power("Terrifying Deluge",["augmentable","fear","psionic", "weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The next time an ally hits the target before the end of your next turn, you can slide the target 1 square as a free action."),
          Augment(1),
          Hit("Damage as above. When any ally hits the target with an attack against Will before the start of your next turn, you can slide the target 1 square as a free action."),
          Augment(4),
          Target("each enemy in burst",("close burst",2)),
          Hit("Damage as above, and you slide the target 1 square. When any ally hits the target before the start of your next turn, you can slide the target 1 square as a free action.")],"ardent","at-will",17)
],"ardentdaily19":[
      Power("Chains of Affinity",["psionic","psychic","weapon","zone"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([CHAMOD],"AC", damage(3, [CHAMOD])),
          Effect("The burst creates a zone that lasts until the end of your next turn. When any ally takes damage from an attack while within the zone, each enemy within the zone takes 5 psychic damage."),
          Sustain()],"ardent","attack",19),
      Power("Deflecting Disk",["conjuration","psionic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(4, [CHAMOD]),["melee"]),
          Hit("You push the target 2 squares."),
          Miss(),
          Effect("You conjure a shimmering disk of force in a square within 5 squares of you. Allies in the disk's square or adjacent to it gain a +2 power bonus to all defenses. You can move the disk 3 squares as part of a move action. When an atack hits an ally adjacent to the disk, you can use an immediate Interrupt to grant the ally a + 2 bonus to all defenses against that attack. The disk lasts until the end of the encounter or until you use the immediate interrupt.")],"ardent","attack",19),
      Power("Shared Vigor",["healing","psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Effect("The attack creates a zone in a close burst 2. The zone lasts until the end of the encounter. When any ally within the zone spends a healing surge, all other allies within the zone regain 1d10 hit points.")],"ardent","attack",19),
      Power("Temporal Acceleration",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(4, [CHAMOD]),["melee"]),
          Hit("The target is slowed and cannot shift (save ends both)."),
          Miss("Half damage, and the target is slowed and cannot shift until the end of your next turn."),
          Effect("The attack creates a zone in a close burst 2. The zone lasts until the end of your next turn. Any enemy that starts its turn within the zone is slowed until the end of its next turn. Any ally that starts his or her turn within the zone gains a +2 power bonus to speed until the end of his or her next turn."),
          Sustain(),
          Special("When charging, you can use this power in place of a melee basic attack.")],"ardent","attack",19),
      Power("Vitality Transfer",["healing","psionic","reliable","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([CHAMOD],"fortitude", damage(3, [CHAMOD]),["melee"]),
          Hit("Once before the end of the encounter, when the target starts its turn bloodied or drops to 0 hit points, each ally you can see regains hit points as if he or she had spent a healing surge.")],"ardent","attack",19),
],"ardentutility22":[
      Power("Borrowed Time",["psionic"],"daily","standard",
          [Target("one creature",("melee","touch")),
           Effect("The target can use a free action to take a standard, a move, and a minor action.")],"ardent","utility",22),
      Power("Guided Opportunity",["psionic"],"encounter","immediate interrupt",
          [Trigger("An ally within 3 squares of you makes an opportunity attack"),
           Target("The triggering ally in burst",("close burst",3)),
           Effect(["The target gains a +",MOD("cha")," power bonus to the attack roll and the damage roll."])],"ardent","utility",22),
      Power("Insensate Mind",["psionic"],"encounter","minor",
          [Target("one creature",("melee","touch")),
           Effect(["The target gains resist ",lambda x:x.statret("level")/2," to all damage until the end of your next turn."])],"ardent","utility",22),
      Power("Rapid Recovery",["healing","psionic","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts until the end of your next turn. When you move. the zone moves with you, remaining centered on you. Any ally who starts his or her turn within the zone regains 10 hit points.",("close burst",1)),
           Sustain()],"ardent","utility",22)
],"ardentat-will23":[
      Power("Flood of Madness",["augmentable","charm","psionic","psychic","weapon"],"at-will","standard",
        [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage(None, [CHAMOD]),["melee"]),
          Hit("The target makes a melee basic attack as a free action against a creature of your choice."),
          Augment(2),
          Atk([CHAMOD],"will", damage(1, [CHAMOD]),["melee"]),
          Hit(" The target makes a melee basic attack as a free action against an enemy granting combat advantage to you. If that attack hits. Ihe target makes a melee basic attack against another enemy granting combat advantage to you."),
          Augment(6),
          Hit("Damage as above, and the target makes a melee basic attack as a free action against each of your enemies adjacent to it")],"ardent","at-will",23),
      Power("Perception Shift",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The next time the target makes an attack before the start of your next turn, It attacks a defense of your choice."),
          Augment(2),
          Target("each enemy you can see in burst",("close burst",1)),
          Hit("Damage as above.  Whenever the target attacks before the end of your next turn, it attacks a defense of your choice."),
          Augment("6 (Zone)"),
          Target("each enemy you can see in burst",("close burst",1)),
          Hit("+1[W] damage.  Whenever the target attacks before the end of your next turn, it attacks a defense of your choice."),
          Effect("The burst creates a zone that lasts until the end of your next turn, When any enemy attacks while within the zone, the enemy attacks a defense of your choice.")],"ardent","at-will",23),
      Power("Revealing Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("The target takes a -2 penalty to all defenses until the start of your next turn."),
          Augment(2),
          Hit("+1[W] damage, and the target takes a -2 penalty to all defenses and can't benefit from concealment or invisibility until the end of your next turn."),
          Augment(6),
          Hit("+3[W] damage, and the target takes a -3 penalty to all defenses until the end of your next turn, In addition. you and each ally adjacent to you gain blindslght 10 until the end of your next turn.")],"ardent","at-will",23),
      Power("Revelatory Slash",["augmentable","psionic"],"at-will","standard",
          [Target("one ally in burst",("close burst",10)),
           Effect("The target can make a melee basic attack as a free action. If that attack hits. the creature that is hit grants combat advantage until the end of your next turn."),
           Augment(2),
           Effect(["The target can make a melee basic attack as a free action against a creature granting combat advantage to you. The target gains a ",MOD("con")," power bonus to the damage roll. If that attack hits, the creature that is hit is dazed until the end of your next turn."]),
           Augment(6),
           Target("one or two allies in burst"),
           Effect("Each target can make an at-will attack as a free action.  If a target's attack hits, he or she gains 15 temporary hit points,")],"ardent","at-will",23),
],"ardentdaily25":[
      Power("Blistering Aversion",["fire","psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"fortitude", damage(3, [CHAMOD]),["melee"]),
           Hit("Ongoing 15 fire damage (save ends)"),
           Miss(),
           Effect("The attack creates a zone in a close burst 3. The zone lasts until the end of your next turn. Any enemy that ends its turn within the zone takes ongoing 10 fire damage (save ends)."),
           Sustain()],"ardent","attack",25),
      Power("Corona of Battle",["healing","psionic","zone"],"daily","standard",
          [Effect("The burst creates a zone that lasts until the end of your next turn. When you move, the zone moves with you, remaining centered on you. While within the zone, allies gain regeneration 5 and a +2 power bonus to attack rolls, and their attacks deal 1d10 extra damage."),
           Sustain()],"ardent","attack",25),
      Power("Intellect Bomb",["psionic","psychic","weapon"],"daily","standard",
          [Target("one creature",("close burst",5)),Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Hit("You slide the primary target 1 square"),
          Effect("Before the end of the encounter, you can make the following secondary attack once, either when the primary target drops to 0 hit points or as a minor action.  The secondary attack is a close burst 2 centered on the primary target."),
          Target("Each enemy in burst"),Atk([CHAMOD],"will",([2,10],[CHAMOD]),["melee"]),
          Hit("The secondary target is dazed until the end of your next turn.")],"ardent","attack",25),
      Power("Revealed Assets",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(4, [CHAMOD]),["melee"]),
          Miss(),
          Effect("The attack creates a zone in a close burst 2. The zone lasts until the end of your next turn. While within the zone, allies gain a bonus to all defenses equal to the number of enemies within the zone."),
          Sustain()],"ardent","attack",25),
      Power("Summons to Doom",["psionic","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(4, [CHAMOD]),["melee"]),
           Hit("You pull the target 4 squares. and it takes the damage from the attack. The enemy then chooses either to be pushed 3 squares or to take a -2 penalty to attack rolls (save ends)."),
          Miss()],"ardent","attack",25),
],"ardentat-will27":[
      Power("Dismissive Strike",["augmentable","psionic","teleportation","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("You teleport the target S squares to a square adjacent to an ally."),
          Augment(2),
          Target("each enemy you can see in burst",("close burst",1)),
          Hit("Damage as above, and you teleport the target to a square adjacent to an ally who is adjacent to you."),
          Augment("6 (Zone)"),
          Hit("+1[W] damage."),
          Effect("The attack creates a zone in a close burst 1. The zone lasts until the end of your next turn. When any enemy enters the zone or starts its turn there. you can teleport that enemy 5 squares as a free action. Any ally who enters the zone or starts his or her turn there can teleport 5 squares as a free action.")],"ardent","at-will",27),
      Power("Exhilarating Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one ally in burst",("close burst",5)),
          Effect("The target can make a melee basic attack as a free action."),
          Augment(2),
          Effect(["The target can make a melee basic attack as a free action, with a +",MOD("wis")," power bonus to the damage roll.  If that attack hits, the target can make a saving throw."]),
          Augment(6),
          Target("each ally in burst"),
          Effect(["Each target can use a free action either to make a basic attack or to charge, with a +",MOD("wis")," power bonus to the damage roll.  If a target hits, he or she can make a saving throw."])],"ardent","at-will",27),
      Power("Restorative Bastion",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Effect("one ally within 5 squares of you Can make a saving throw."),
          Augment(2),
          Hit("+1[W] damage, and one ally within 5 squares of you can make a saving throw, with a +5 power bonus if it's against ongoing damage."),
          Augment(6),
          Hit("+3[W] damage, and each ally you can see can make a saving throw.")],"ardent","at-will",27),
      Power("Unnerving Disruption",["augmentable","psionic","psychic", "weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(1, [CHAMOD]),["melee"]),
          Hit("Until the end of your next turn, the target takes a -2 penalty to attack rolls."),
          Augment(2),
          Target("each enemy in burst",("close burst",1)),
          Hit(["Damage as above. Until the end of your next turn, the target takes a -",MOD("con")," penalty to attack rolls against Will."]),
          Augment("6 (Zone)"),
          Target("each enemy in burst",("close burst",1)),
          Hit(["Damage as above. Until the end of your next turn, the target is weakened and takes a -",MOD("con")," penalty to attack rolls."]),
          Effect(["The burst creates a zone that lasts until the end of your next turn. While within the zone. allies gain a +",MOD("con")," bonus to damage rolls."])],"ardent","at-will",27),
],"ardentdaily29":[
      Power("Empathic Projection",["psionic","weapon"],"daily","standard",
          [Target("each enemy you can see in burst",("close burst",1)),Atk([CHAMOD],"AC", damage(4, [CHAMOD])),
          Hit("You push the target 2 squares."),
          Miss(),
          Effect("Until the end of the encounter, whenever you hit with an attack, allies within 3 squares of you gain a +2 power bonus to attack rolls until the end of your next turn, and whenever you miss with an attack, allies within 3 squares of you gain a +2 power bonus to all defenses until the end of your next turn.")],"ardent","attack",29),
      Power("Image of Doom",["fear","psionic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(5, [CHAMOD])),
          Miss(),
          Effect("Until the end of the encounter, the target takes a -2 penalty to attack rolls and all defenses while it can see you. and you can slide it 1 square as a free action when it takes damage from any attack.")],"ardent","attack",29),
      Power("Undeniable Weakness",["psionic","weapon","zone"],"daily","standard",
          [Target("each enemy in burst"),Atk([CHAMOD],"AC", damage(4, [CHAMOD])),
          Miss("Half damage, and the target is weakened until the end of your next turn."),
          Effect(["The burst creates a zone that lasts until the end of the encounter.  While within the zone, your allies have resist ",MOD("wis")," to all damage."])],"ardent","attack",29),
      Power("Violent Spark",["psionic"],"daily","standard",
          [Target("each ally in burst",("close burst",10)),
           Effect(["Each target can make an at-will attack as a free action, with a +",MOD("wis")," power bonus to the damage roll. If a target misses, he or she can make a saving throw."])],"ardent","attack",29),
]}
    addPowers(ardentList)

def artificer():
    artificerList={"artificerat-will1":[
     Power("Aggravating Force",["arcane","force","weapon"],"at-will","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(raising(1,20),[INTMOD]),["melee"]),
          Hit("The next ally to attack the target before the end of your next turn gains a +2 power bonus to the attack roll.")],"artificer","at-will",1),
     Power("Magic Weapon",["arcane","weapon"],"at-will","standard",
          [Target("one creature"),Atk([INTMOD,1],"AC", damage(raising(1,20),[INTMOD]),[]),
           Hit(["Each ally adjacent to you gains a +1 power bonus to attack rolls and a +",lambda x:max(x.mod("wis"),x.mod("con"))," bonus to damage rolls until the end of your next turn."])],"artificer","at-will",1),
     Power("Static Shock",["arcane","implement", "lightning"],"at-will","standard",
          [Special("This power can be used as a melee power"),
           Target("one creature",("ranged",10)),Atk([INTMOD],"will", damage([raising(1,20),8],[INTMOD])),
          Hit(["The next attack the target makes before the end of your next turn takes a -",MOD("con")," penalty to the damage roll."])],"artificer","at-will",1),
      Power("Thundering Armor",["arcane","implement","thunder"],"at-will","standard",
          [Target("you or one ally in burst",("close burst",10)),
           Effect("The primary target gains a +1 power bonus to AC until the end of your next turn. Make an attack."),
           Target("one creature adjacent to the primary target in burst"),Atk([INTMOD],"fortitude", damage([raising(1,20),8],[INTMOD])),
          Hit("You push the secondary target 1 square away from the primary target.")],"artificer","at-will",1),
],"artificerencounter1":[
     Power("Burning Weapons",["arcane","fire","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(1,[INTMOD]),[]),
           Hit(["Until the end of your next turn, you and any ally within 2 squares of you deals ",MOD("con")," extra fire damage with weapon or fire attacks."])],"artificer","attack",1),
     Power("Scouring Weapon",["acid","arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(2,[INTMOD]),[])
          ,Hit("The target takes a -2 penalty to AC until the end of your next turn.")],"artificer","attack",1),
     Power("Shielding Cube",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD]))
          ,Effect("Until the end of your next turn, any ally gains a +1 power bonus to AC while adjacent to the target.")],"artificer","attack",1),
     Power("Spike Wire",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"fortitude", damage([1,8],[INTMOD]))
           ,Hit(["Until the end of your next turn, any attack deals ",MOD("wis")," extra damage to the target."])],"artificer","attack",1),
],"artificerdaily1":[
     Power("Caustic Rampart",["acid","arcane","conjuration","implement"],"daily","standard",
          [Effect(["You conjure a wall of acidic fumes. The wall can be up to 2 squares high and must rest on a solid surface, and it lasts until the end of your next turn. The wall is difficult terrain, and its squares are lightly obscured. Any creature that starts its turn within the wall or adjacent to it takes ",dmg(INTMOD,1,6),"."]),
           Sustain("minor","The wall persists.")],"artificer","attack",1),
     Power("Icebound Sigil",["arcane","cold"],"daily","minor",
          [Target("one weapon or implement",("melee","touch")),
          Effect(["Until the end of the encounter, any attack that uses the target as a weapon or an implement deals ",MOD("con")," extra cold damage"]),
          Line("As a free action, the target's wielder can end the effect when he or she hits a creature. That creature is then immobilized (save ends).")],"artificer","attack",1),
     Power("Life-Tapping Darts",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"reflex", damage([2,10],[INTMOD])),
           Hit("One ally within 10 squares of you gains 10 temporary hit points."),
          Miss("Half damage, and one ally within 10 squares of you gains 5 temporary hit points.")],"artificer","attack",1),
      Power("Obedient Servant",["arcane","implement","summoning"],"daily","minor",
          [Effect(["You create a Medium obedient servant in an unoccupied square within range. The servant has speed 6.  Any marked enemy that starts its turn adjacent to the servant takes ",MOD("wis")," damage.  You can give the obedient servant the following special commands."]),
           Other("Standard Action"),
           Target("one creature",("ranged",5)),
           Special("This attack can also have a range of Melee 1"),Atk([INTMOD,2],"AC", damage([1,10],[INTMOD])),
           Other("Opportunity Attack"),
           Target("one creature",("melee",1)),Atk([INTMOD,2],"AC", damage([1,10],[INTMOD])),
           Hit("The target is marked until the end of your next turn.")],"artificer","attack",1),
],"artificerutility2":[
      Power("Arcane Springboard",["arcane","conjuration"],"daily","standard",
          [Effect(["You conjure an arcane springboard in a square within range. The springboard lasts until the end of your next turn. You or any ally who enters the square can jump ",MOD("wis")," squares. The distance jumped does not count toward a character's movement. A character can benefit from this conjuration's effect only once per turn."]),
           Sustain("minor","The conjuration persists.")],"artificer","utility",2),
      Power("Bolster Armor",["arcane"],"daily","minor",
          [Trigger("you or one ally",("melee","touch")),
           Effect("The target gains a +1 power bonus to AC. When hit by an attack, the target can end this bonus as a free action to gain a +4 bonus to AC against that attack.")],"artificer","utility",2),
      Power("Reinforced Minion",["arcane"],"daily","immediate interrupt",
          [Trigger("One of your summoned creatures within 5 squares of you is hit by an attack",("close burst",5)),
           Effect("The triggering attack misses the summoned creature.")],"artificer","utility",2),
      Power("Restorative Infusion",["arcane"],"daily","minor",
          [Target("you or one ally",("ranged",5)),
           Effect("The target gains 20 temporary hit points. As a minor action, the target can transfer any number of these temporary hit points to an ally within 5 squares of him or her.")],"artificer","utility",2),
      Power("Swift Mender",["arcane"],"encounter","minor",
          [Target("You or one ally",("ranged",5)),
           Effect("The target makes a saving throw")],"artificer","utility",2),
      Power("Use Magic Item",["arcane"],"daily","free",
          [Effect("The next magic item daily power you use before the end of your next turn does not count toward your limit of magic item daily power uses.")],"artificer","utility",2),
],"artificerencounter3":[
     Power("Altered Luck",["arcane","implement"],"encounter","standard",
          [Target("one creature in burst",("area burst",2,10)),Atk([INTMOD],"AC", damage([1,6],[INTMOD])),
           Hit("The target takes a -2 penalty to saving throws until the end of your next turn."),
          Effect(["One ally within the burst gains ",lambda x:x.mod("wis")+5," temporary hit points and a +2 bonus to an attack roll, a skill check, an ability check, or a saving throw before the end of your next turn. The ally can use the bonus after determining the result of a roll."])],"artificer","attack",3),
     Power("Force Infusion",["arcane","force","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"fortitude", damage(1,[INTMOD]),[]),
          Effect("Until the end of your next turn, whenever any ally hits the target with a melee attack, that ally pushes the target 1 square.")],"artificer","attack",3),
      Power("Lightning Sphere",["arcane","implement","lightning"],"encounter","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([INTMOD],"fortitude", damage([1,8],[INTMOD])),
          Hit("The target grants combat advantage until the end of your next turn.")],"artificer","attack",3),
      Power("Repulsion Strike",["arcane","force","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"reflex", damage(2,[INTMOD]),[]),
          Hit(["The target takes a -",MOD("con")," penalty to melee attack rolls until the end of your next turn."])],"artificer","attack",3),
],"artificerdaily5":[
     Power("Corrosive Sigil",["acid","arcane"],"daily","minor",
          [Target("one weapon",("melee","touch")),
          Effect("Until the end of the encounter, any attack that uses the target as a weapon deals ongoing 5 acid damage (save ends)."),
          Line(["As a free action, the target's wielder can end the effect when he or she hits a creature using the target in order to give that creature a -",MOD("con")," penalty to AC (save ends)."]),
          Miss(),
          Effect("You push the target 3 squares.")],"artificer","attack",5),
     Power("Dancing Weapon",["arcane","summoning","weapon"],"daily","minor",
          [Requirement("you must be holding a melee weapon"),
          Effect("You throw a melee weapon you are holding into an unoccupied square within range. The weapon has speed 0 and fly 6 (hover). The weapon is considered to be a Small creature. When the dancing weapon drops to 0 hit points, it is not destroyed, and you don't lose a healing surge. Instead, the weapon returns to your hand. The dancing weapon cannot open or close a door or container, or pick up or drop an item. You can give the dancing weapon the following special commands."),
          Other("Minor Action"),
          Target("one creature",("melee",1)),Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Other("Opportunity Attack"),
          Target("one creature",("melee",1)),Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"])],"artificer","attack",5),
     Power("Flameheart Defender",["arcane","fire","implement","summoning"],"daily","standard",
          [Effect("You create a Small flameheart defender in an unoccupied square within range. The flameheart defender has speed 6. Any enemy adjacent to the flameheart defender at the start of your turn is marked by it. You can give the flameheart defender the following special commands."),
           Other("Standard Action"),
           Target("one creature",("ranged",5)),Atk([INTMOD,2],"AC",damage([2,6],[INTMOD])),
           Special("This ability can be used as a melee 1 attack"),
           Other("Opportunity Attack"),
           Target("One creature",("Melee",1)),Atk([INTMOD,2],"AC",damage([2,6],[INTMOD])),
           Other("No Action"),
           Special("When the flameheart defender drops to 0 hit points, it must use this attack."),
           Target("each creature in burst",("close burst",2)),Atk([INTMOD],"reflex",damage([1,8],[WISMOD]))],"artificer","attack",5),
     Power("Predatory Shards",["arcane","force","weapon","zone"],"daily","standard",
          [Target("each enemy in burst"),Atk([INTMOD],"AC", damage(2,[INTMOD]),["melee"]),
           Miss(),
           Effect("The burst creates a zone of magical shards that lasts until the end of the encounter. Any enemy that starts its turn within the zone takes 5 force damage.")],"artificer","attack",5),
],"artificerutility6":[
      Power("Animate Helper",["arcane"],"encounter","free",
          [Effect(["You gain a +",MOD("wis")," bonus to your next skill check before the end of your next turn."])],"artificer","utility",6),
      Power("Healing Reserve",["arcane","healing"],"daily","free",
          [Trigger("An ally within 10 squares of you spends a healing surge to regain hit points"),
           Target("the triggering ally",("ranged",10)),
           Effect(["The target does not expend the healing surge but still gains its benefit. The target regains ",MOD("wis")," additional hit points."])],"artificer","utility",6),
      Power("Phantom Structure",["arcane","conjuration"],"daily","standard",
          [Effect(["Choose a square within range and another square within range and within ",MOD("int",2)," squares of the chosen square. You create a phantasmal bridge between the two squares that lasts until the end of your next turn. The bridge connects the two chosen squares by the shortest path. The bridge has no height, and a creature can pass through a square containing the bridge as though it were normal terrain, even if it normally contains no terrain, difficult terrain, challenging terrain, or hindering terrain."],("ranged",20)),
           Sustain("minor","The bridge persists")],"artificer","utility",6),
      Power("Regeneration Infusion",["arcane","healing"],"daily","minor",
          [Target("you or one ally in burst; target must be bloodied",("close burst",10)),
           Effect(["The target gains regeneration ",MOD("con")," until the end of the encounter. As a minor action, the target can end the effect to spend a healing surge."])],"artificer","utility",6),
],"artificerencounter7":[
     Power("Gale-Force Infusion",["arcane","implement"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([INTMOD],"reflex", damage([1,10],[INTMOD])),
          Hit("You slide the target 2 squares."),
          Effect(["The ally in the attack's origin square gains a +",MOD("con",2)," power bonus to AC until the end of your next turn."])],"artificer","attack",7),
     Power("Icy Weapons",["arcane","cold","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(1,[INTMOD]),[]),
          Hit("The target is slowed until the end of your next turn."),
          Effect(["You and each ally adjacent to you deal ",MOD("con")," extra cold damage with weapon or cold attacks until the end of your next turn."])],"artificer","attack",7),
     Power("Runic Resistance",["arcane","implement",";","varies"],"encounter","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD])),
           Hit("Choose a damage type: acid, cold, fire, or lightning.  The attack deals damage of that type to each target."),
          Effect(["Choose a damage type: acid, cold, fire, or lightning.  Each ally in the burst gains resistance ",MOD("wis",5)," to that type until the end of your next turn."])],"artificer","attack",7),
     Power("Vampiric Weapons",["arcane","healing","necrotic","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(1,[INTMOD]),[])
          ,Hit(["Each ally within 5 squares of you who deals damage with a weapon attack before the end of your next turn regains 1d6+",MOD("con")," hit points. An ally regains these hit points only once for each use of this power."])],"artificer","attack",7),
],"artificerdaily9":[
     Power("Brittle-Skin Missile",["arcane","weapon"],"daily","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(2,[INTMOD]),["ranged"]),
          Hit("The target is slowed and gains vulnerable 5 to melee attacks (save ends both).")],"artificer","attack",9),
     Power("Lightning Motes",["arcane","implement","lightning"],"daily","standard",
          [Target("each creature in burst",("close burst",3)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD])),
          Other("Each Failed Saving Throw: The target takes 5 lightning damage."),
          Aftereffect("The target takes ongoing 5 lightning damage (save ends)."),
          Miss("Half damage, and ongoing 5 lightning damage (save ends).")],"artificer","attack",9),
     Power("Radiant Sigil",["arcane","healing","radiant"],"daily","minor",
          [Target("one weapon or implement",("melee","touch")),
          Effect(["Until the end of the encounter, any attack that uses the target as a weapon or an implement deals radiant damage. Whenever any attack power using the target hits, the target's wielder regains ",MOD("con")," hit points."]),
          Line(["As a free action, the target's wielder can end the effect when he or she hits a creature. That creature is then dazed (save ends). In addition, the wielder can spend a healing surge and regain ",MOD("con")," additional hit points."])],"artificer","attack",9),
     Power("Relentless Harrier",["arcane","implement","summoning"],"daily","standard",
          [Effect("You create a Small relentless harrier in an unoccupied square within range. The relentless harrier has speed 8. The relentless harrier's attacks deal 1d6 extra damage to any creature granting combat advantage to it. You can give the relentless harrier the following special commands."),
           Other("Standard Action"),
           Target("one creature",("melee",1)),Atk([INTMOD,2],"AC",damage([1,8],[INTMOD])),
           Hit("The relentless harrier shifts 2 squares."),
           Other("Opportunity Attack"),
           Target("one creature",("melee",1)),Atk([INTMOD,2],"AC",damage([1,8],[INTMOD]))],"artificer","attack",9),
],"artificerutility10":[
      Power("Dancing Shield",["arcane","conjuration"],"daily","minor",
          [Target("one ally",("ranged",5)),
          Effect("You conjure a shield of metal and magic to protect the target. The target gains a +4 power bonus to AC and Reflex until the end of the encounter or until you move the shield. As a minor action, you can move the shield to a new target within range. That ally then gains the bonus")],"artificer","utility",10),
      Power("Healing Figurine",["arcane","healing","summoning"],"daily","standard",
          [Effect(["You create a Small healing figurine in an unoccupied square within range. The healing figurine has speed 5. It has a +2 bonus to AC and to Fortitude. Any ally who spends a healing surge while adjacent to the figurine gains ",MOD("wis")," additional hit points. In addition, three times before the end of the encounter, an ally adjacent to the healing figurine can use a minor action to make a saving throw and to regain hit points as if he or she had spent a healing surge. You can give the healing figurine the following special command."],("ranged",5)),
          Other("Minor Action: The healing figurine administers first aid to an ally adjacent to it. The figurine uses your Heal skill for the check.")],"artificer","utility",10),
      Power("Sigil of Luck",["arcane"],"daily","minor",
          [Target("one weapon or implement",("melee","touch")),
           Effect(["Until the end of the encounter, any attack that uses the target gains a +1 power bonus to attack rolls and a +",MOD("con")," bonus to damage rolls.  As a minor action, the target's wielder can end the effect in order to remove an effect on him or her that a save can end."])],"artificer","utility",10),
      Power("Slick Concoction",["arcane"],"encounter","minor",
          [Target("each ally in burst",("close burst",3)),
          Effect("You slide each target 5 squares. Each target gains a +4 bonus to Reflex until the end of your next turn.")],"artificer","utility",10),
],"artificerencounter13":[
     Power("Barbed Automaton",["arcane","conjuration","implement"],"encounter","standard",
          [Effect("You create a barbed automaton in an unoccupied square within range. The automaton occupies a square and counts as an ally for the purpose of flanking. The automaton lasts until the end of your next turn. Any enemy that enters a space adjacent to the automaton or starts its turn there is subject to the following attack.",("ranged",10)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD,WISMOD]))],"artificer","attack",13),
     Power("Energy Shroud",["arcane","force","implement"],"encounter","standard",
          [Target("you and each ally in burst",("close burst",2)),
           Effect("Until the end of your next turn, any enemy that hits or misses the primary target with a melee attack is subject to the following attack."),
           Target("The attacking enemy"),
           Atk([INTMOD],"will", damage([1,10],[INTMOD]))],"artificer","attack",13),
     Power("Forceful Weapon",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(2,[INTMOD]),[]),
           Hit(["You push the target ",MOD("con")," squares and knock it prone"]),],"artificer","attack",13),
     Power("Positive Energy Infusion",["arcane","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(2,[INTMOD]),[]),
           Hit(["Until the end of your next turn, any ally who hits the target can spend a healing surge and regain ",MOD("con")," additional hit points."])],"artificer","attack",13),
],"artificerdaily15":[
     Power("Animate Arbalester",["arcane","summoning","weapon"],"daily","standard",
          [Requirement("You must be holding a crossbow",("ranged",5)),
           Effect("You throw a crossbow you are holding into an unoccupied square within range. The crossbow has speed 0 and fly 6 (hover). The crossbow is considered to be a Small creature. When the animate arbalester drops to 0 hit points, it is not destroyed, and you don't lose a healing surge. Instead, the crossbow returns to your hand. The animate arbalester cannot open or close a door or container, or pick up or drop an item. You can give the animate arbalester the following special command."),
           Other("Minor Action"),
           Target("one creature",("Ranged","15/30")),
           Atk([INTMOD],"ac",damage(2,[INTMOD]),["ranged"],["crossbow"])],"artificer","attack",13),
     Power("Clockroach Swarm",["arcane","implement","zone"],"daily","standard",
          [Target("each enemy in blast"),Atk([INTMOD],"AC", damage([2,8],[INTMOD])),
          Hit("Ongoing 5 damage (save ends)."),
          Effect("You create a zone of tiny mechanical cockroaches that lasts until the end of the encounter. Any enemy within the zone grants combat advantage.")],"artificer","attack",15),
     Power("Lightning Sigil",["arcane","lightning"],"daily","minor",
          [Target("one weapon or implement",("melee","touch")),
          Effect(["Until the end of the encounter, any attack that uses the target as a weapon or an implement deals ",MOD("con",5)," extra lightning damage modifier."]),
          Line("As a free action, the target's wielder can end the effect when he or she hits a creature. That creature is then dazed (save ends)")],"artificer","attack",15),
     Power("Stalwart Defender",["arcane","implement","summoning"],"daily","standard",
          [Effect("You create a Small stalwart defender in an unoccupied square within range. The stalwart defender has speed 6 and a +2 bonus to AC. Any enemy that starts its turn adjacent to the stalwart defender is marked by the defender until the end of your next turn. You can give the stalwart defender the following special commands.",("ranged",5)),
           Other("Standard Action"),
           Target("one creature",("melee",1)),Atk([INTMOD,2],"AC",damage([2,8],[INTMOD])),
           Hit("The target is immobilized until the end of your next turn."),
           Other("Opportunity Attack"),
           Target("one creature",("melee",1)),Atk([INTMOD,2],"AC",damage([2,8],[INTMOD]))],"artificer","attack",15),
],"artificerutility16":[
      Power("Good Luck Charm",["arcane"],"daily","standard",
          [Target("one object",("melee","touch")),
           Effect(["You charge the target with luck that lasts until the end of your next extended rest. Any ally who is holding or wearing the target can expend the charge to gain a ",MOD("wis")," bonus to his or her next saving throw or skill check before the end of his or her next turn."])],"artificer","utility",16),
      Power("Iron-Hide Infusion",["arcane"],"encounter","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("Each target gains a +4 bonus to Ac until the end of your next turn.")],"artificer","utility",16),
      Power("Protection from Elements",["arcane"],"daily","minor",
          [Target("one ally",("close burst",5)),
           Effect("Choose a damage type: acid, cold, fire, lightning, or thunder. The target gains resist 1 5 to that damage type until the end of the encounter. In addition, while you or any ally is adjacent to the target, you or that ally gains resist 10 to the chosen damage type.")],"artificer","utility",16),
      Power("Vorpal Edge",["arcane"],"daily","minor",
          [Target("one melee weapon",("melee","touch")),
           Effect("Until the end of the encounter, attacks with the target score critical hits on rolls of 18 or higher.")],"artificer","utility",16)
],"artificerencounter17":[
     Power("Earth's Embrace",["arcane","force","implement"],"encounter","standard",
          [Target("one ally",("ranged",10)),
           Effect(["You slide the primary target ",MOD("wis")," squares. You then make an attack that is an area burst 1 centered on the primary target."]),
            Target("each enemy in burst"),Atk([INTMOD],"fortitude",damage([2,10],[INTMOD])),
            Hit("you slide the secondary target 1 square or immobilize it until the end of your next turn.")],"artificer","attack",17),
     Power("Radiant Burst",["arcane","healing","implement","radiant"],"encounter","standard",
          [Effect(["You or one ally within 10 squares of you can spend a healing surge and regain ",MOD("int")," additional hit points."]),
          Target("one creature adjacent to the character who spent the healing surge"),
          Atk([INTMOD],"fortitude",damage([2,8],[INTMOD])),
          Hit("The target is dazed until the end of your next turn.")],"artificer","attack",17),
     Power("Skipping Shot",["arcane","force","weapon"],"encounter","standard",
          [Target("one creature"),Atk([INTMOD],"AC", damage(2,[INTMOD]),["melee"])
          ,Hit(["You teleport an ally within 10 squares of you to a space adjacent to you.",orfeat("",["  Until the end of your next turn, the ally also gains a +",MOD("con")," power bonus to attack rolls against the target."],"virtue of valor")])],"artificer","attack",17),
     Power("Unstable Infusion",["arcane"," implement"],"encounter","standard",
          [Target("each creature in blast"),
          Atk([INTMOD],"reflex",damage([2,10],[INTMOD])),
          Hit("You knock the target prone.")],"artificer","attack","17"),
],"artificerdaily19":[
      Power("Burrowing Projectile",["Arcane","Weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),["ranged"]),
          Hit("The target takes ongoing 5 damage and grants combat advantage(save ends both)."),
          Aftereffect("The target takes ongoing 5 damage (save ends). If the target drops to 0 hit points before the ongoing damage ends, you choose an enemy within 5 squares of the target to take ongoing 5 damage (save ends)."),
          Miss("Half damage, and the target grants combat advantage (save ends).")],"artificer","attack","19"),
      Power("Clockwork Acid Wasp",["Acid","Arcane","Implement","Summoning"],"daily","standard",
          [Effect("You create a Small clockwork acid wasp in an unoccupiedsquare within range. The wasp has speed 4and fly 8 (hover). It has a +2 bonus to AC and to Reflex.When the clockwork wasp drops to 0 hit points, youdon't lose a healing surge. You can give the clockworkacid wasp the following special commands.",("ranged","5")),
           Other("Standard Action"),
           Target("One creature",("range",5)),
           Special("This ability can be used as a melee 1 attack"),
           Atk([INTMOD,2],"AC",damage([1,10],[INTMOD])),
           Hit("Ongoing 10 acid damage (save ends)."),
           Other("Opportunity Attack"),
           Target("one creature",("melee",1)),
           Atk([INTMOD,2],"AC",damage([1,10],[INTMOD])),
           Hit("Ongoing 10 acid damage (save ends)."),
           Other("No Action"),
           Special("When the clockwork acid wasp drops to 0 Hit Points, it must make the following attack."),
           Target("each creature in burst",("Close burst",1)),
           Atk([INTMOD],"reflex",damage([2,8],[WISMOD]))],"artificer","attack","19"),
      Power("Grasping Rope",["arcane","implement","zone"],"daily","standard",
          [Target("Each enemy in burst",("area burst",2,10)),
          Atk([INTMOD],"reflex",damage([3,10],[INTMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is slowed until the end of your next turn."),
          Effect("The burst creates a zone of grasping rope that lasts until the end of your next turn. The zone is difficult terrain to enemies, and each enemy that enters the zone or starts its turn there is slowed until the end of its next turn.")],"artificer","attack","19"),
      Power("Hellfire Sigil",["arcane","fire"],"daily","minor",
          [Target("One weapon or implement",("melee","touch")),
          Effect(["Until the end of the encounter, any attack that uses the target as a weapon or an implement deals 1d8+",MOD("con")," extra fire damage."]),
          Line("As a free action, the target's wielder can end the effect when he or she hits a creature using the target in order to ignite that creature with hellfire (save ends).  While affected by hellfire, the target takes 10 fire damage at the start of its turn.  In addition, any enemy within 2 squares of the target at the start of its turn takes 10 fire damage.")],"artificer","attack","19"),
],"artificerutility22":[
      Power("Bag Of The Four Winds",["arcane"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect(["You slide each target a ",MOD("wis")," squares."])],"artificer","utility","22"),
      Power("Cure-All Admixture",["arcane","healing"],"daily","minor",
          [Effect("The target regains hit points as if he or she had spent a healing surge, and the target can choose to end any effects on him or her. In addition, the target gains a +2 power bonus to saving throws until the end of the encounter.",("melee","touch"))],"artificer","utility","22"),
      Power("Diminutive Bodyguard",["arcane","summoning"],"daily","standard",
          [Effect("You create a Small diminutive bodyguard in an unoccupied square within range. The bodyguard has speed 3. It has a +2 bonus to AC and a +4 bonus to Fortitude, Reflex, and Will. Any ally adjacent to the diminutive bodyguard gains resist 5 to all damage. You can give the diminutive bodyguard the following special command.",("ranged",5)),
           Other("Immediate Interrupt:  When an ally within 5 squares of the diminutive bodyguard is hit by an attack, the ally gains a +4 bonus to all defenses against the triggering attack.")],"artificer","utility","22"),
      Power("Hero's Elixir",["arcane","healing"],"daily","minor",
          [Target("You or one ally",("melee","touch")),
          Effect("The target spends one healing surge and is restored to the maximum number of hit points possible. If the target cannot spend a healing surge, the target instead regains hit points equal to his or her bloodied value.")],"artificer","utility","22"),
],"artificerencounter23":[
      Power("Armor Of Acid",["acid","arcane","implement"],"encounter","standard",
          [Target("Each enemy in burst",("area burst 1 centered on one ally within ",10)),
          Atk([INTMOD],"reflex",damage([3,8],[INTMOD])),
          Effect(["Until the end of your next turn, the ally in the attack's origin square gains resist 15 acid, and any creature that makes a melee attack against that ally takes ",MOD("wis",10)," acid damage."])],"artificer","attack","23"),
      Power("Beetle Of Force",["arcane","force","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([1,8],[INTMOD])),
          Hit("You push the primary target 6 squares."),
          Effect("Make a secondary attack that is an area burst 2 centered on the primary target."),
          Target("Each creature in burst"),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("You knock the secondary target prone.")],"artificer","attack","23"),
      Power("Chaos Weapon",["arcane","weapon; varies"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),[]),
          Hit(["Choose a damage type:  acid, cold, fire, force, lightning, or thunder.  The attack deals damage of this type to the target.  Until the end of your next turn, the weapon attacks of each ally within 2 squares of you deal 1d8+",MOD("con")," extra damage of the chosen type."])],"artificer","attack","23"),
      Power("Prismatic Strike",["arcane","fire","force","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"fortitude, reflex, and will",damage(1,[INTMOD]),[],[],""),
           Special("Compare the result against all three defenses. the target might be hit up to three times, depending on which defenses are hit."),
           Other("Hit (Fortitude):  Thunder damage, and you knock the target prone."),
           Other(["Hit (Reflex):  Force damage, and you push the target ",MOD("con")," squares. The target can't stand up from prone until the end of your next turn."]),
           Other(["Hit (Will):  Fire damage, and the target takes a -",MOD("wis")," penalty to attack rolls until the end of your next turn."])],"artificer","attack","23"),
],"artificerdaily25":[
      Power("All-Consuming Missile",["arcane","fire","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),["ranged"]),
          Hit("Ongoing 10 fire damage (save ends)."),
          Other("First Failed Saving Throw:  The target takes ongoing 15 fire damage (save ends)."),
          Other("Second Failed Saving Throw:  The target takes ongoing 20 fire damage (save ends)."),
          Miss("Half damage, and ongoing 5 fire damage (save ends)."),
          Other("First Failed Saving Throw:  The target takes ongoing 10 fire damage (save ends)."),
          Other("Second Failed Saving Throw:  The target takes ongoing 15 fire damage (save ends).")],"artificer","attack","25"),
      Power("Dimensional Shifter",["arcane","implement","summoning"],"daily","standard",
          [Effect("You create a Small dimensional shifter in an unoccupied square within range. The dimensional shifter has speed 6 and can teleport 6 squares as a move action. If the dimensional shifter and one of your allies are adjacent to an enemy, that enemy grants combat advantage to all creatures adjacent to it. You can give the dimensional shifter the following special commands.",("ranged",5)),
           Other("Standard Action"),
           Target("one creature",("melee",1)),
           Atk([INTMOD,2],"AC",damage([2,8],[INTMOD])),
           Hit("The dimensional shifter teleports 3 squares."),
           Other("Opportunity Attack"),
           Target("one creature",("melee",1)),
           Atk([INTMOD,2],"AC",damage([2,8],[INTMOD])),
           Hit("The dimensional shifter teleports 3 squares."),],"artificer","attack","25"),
      Power("Life-Shock Sigil",["arcane","healing"],"daily","minor",
          [Target("One weapon or implement",("melee","touch")),
          Effect(["Until the end of the encounter, once per round when an attack that uses the target as a weapon or an implement hits, one bloodied ally within 5 squares of the target's wielder regains ",MOD("con",10)," hit points."]),
                  Line("As a free action, the target's wielder can end the effect when he or she hits a creature using the target in order to spend a healing surge. In addition, the target of that attack is stunned until the end of its next turn.")],"artificer","attack","25"),
      Power("Trio Of Biting Blades",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage([3,10],[INTMOD])),
          Hit("The target takes 10 damage the first time it moves or attacks during its turn (save ends)."),
          Aftereffect("The target takes 10 damage the first time it moves or attacks during its turn (save ends)."),
          Miss("Half damage, and the target takes 5 damage the first time it moves or attacks during its turn (save ends).")],"artificer","attack","25"),
],"artificerencounter27":[
      Power("Grave-Dust Cloud",["arcane","healing","implement","necrotic"],"encounter","standard",
          [Target("Each enemy in burst",("area burst",3,20)),
          Atk([INTMOD],"fortitude",damage([1,10],[INTMOD])),
          Hit("Each ally in the burst gains a +1 power bonus to attack rolls and to all defenses until the end of your next turn."),
          Effect(["Each ally in the burst can spend a healing surge and regain 2d6+",MOD("wis")," additional hit points."])],"artificer","attack","27"),
      Power("Life-Stealing Shroud",["arcane","implement","necrotic"],"encounter","standard",
          [Target("You and each ally in burst",("close burst",2)),
          Effect("Until the end of your next turn, any enemy that hits or misses the primary target with a melee attack is subject to the following attack."),
          Target("The attacking enemy"),
          Atk([INTMOD],"fortitude",damage([4,6],[INTMOD])),
          Hit("The primary target who was attacked can make a saving throw.")],"artificer","attack","27"),
      Power("Living Caltrop Swarm",["arcane","fire","implement","zone'"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"reflex",damage([3,8],[INTMOD]),None,[],""),
          Effect(["The burst creates a zone of animate caltrops that lasts until the end of your next turn. Any enemy within the zone grants combat advantage to you and your allies. Any creature within the zone at the end of your next turn takes ",dmg(WISMOD,2,10),"."])],"artificer","attack","27"),
      Power("Thunder-Shock Weapon",["arcane","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),[]),
          Hit("You knock the target prone. The target is dazed until the end of your next turn.")],"artificer","attack","27"),
],"artificerdaily29":[
      Power("Bitter-Frost Bolt",["arcane","cold","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"fortitude",damage(3,[INTMOD]),[]),
          Hit("The target is immobilized and gains vulnerable 10 to all damage (save ends both)."),
          Aftereffect("The target is slowed and gains vulnerable 5 to all damage (save ends both)."),
          Miss("Half damage, and the target is slowed and gains vulnerable 5 to all damage (save ends both).")],"artificer","attack","29"),
      Power("Haste Sigil",["arcane"],"daily","minor",
          [Target("One weapon or implement",("melee","touch")),
          Effect("Until the end of the encounter, the creature wielding the target gains a +3 power bonus to speed."),
          Line("As a free action, the target's wielder can end the effect when he or she hits a creature using the target in order to take an extra standard action.")],"artificer","attack","29"),
      Power("Runes Of The Shadow Tendrils",["arcane","implement"],"daily","standard",
          [Target("Each enemy in burst",("area burst",1,10)),
          Special("Must be centered on an ally"),
          Atk([INTMOD],"will",damage([4,6],[INTMOD])),
          Hit("The target is blinded and slowed (save ends both)."),
          Other("Each Failed Saving Throw:  You slide the target 1 square."),
          Miss("Half damage, and the target is blinded (save ends)."),
          Effect("Until the end of the encounter, any enemy that attacks the ally who was in the attack's origin square is blinded until the end of your next turn.")],"artificer","attack","29"),
      Power("Simulacrum",["arcane","implement","summoning"],"daily","minor",
          [Effect("You create a Medium simulacrum in an unoccupied square within range. The simulacrum has whatever speed and modes of movement you have without bonuses or penalties. The simulacrum has nonmagical copies of any implements or weapons you possessed at the time of its creation. These disappear when this power ends or when they are removed from the simulacrum. You can give the simulacrum the following special commands.",("ranged",5)),
          Other("Standard Action:  The simulacrum uses an at-will or encounter artificer attack power that you know, regardless of whether you've already expended that power. The simulacrum's use of an encounter attack power does not count toward your use of that power. The simulacrum uses your attack bonus with the power. It can use each encounter attack power only once for each use of this power."),
          Other("Standard Action:  The simulacrum uses an artificer daily attack power that you know, regardless of whether you've already expended that power. The simulacrum cannot use simulacrum. The simulacrum's use of a daily attack power does not count toward your use of that power. The simulacrum uses your attack bonus with the power. After the simulacrum uses a daily attack power, simulacrum ends."),
          Other("Opportunity Attack:  The simulacrum uses your melee basic attack when making opportunity attacks.")],"artificer","attack","29"),
]}
    addPowers(artificerList)


def avenger():
    avengerList={"avengerat-will1":[
      Power("Bond Of Censure",["charm","divine","implement","radiant"],"at-will","standard",
          [Target("One creature",("ranged",5)),
          Atk([WISMOD],"will",None),
          Special("If the target is your Oath of Enmity target and no enemies are adjacent to you, you can make two attack rolls and use either result."),
          Hit(["You pull the target ",MOD("int")," squares. If the target ends this movement adjacent to you, it takes ",dmg(0,raising(1,20),10),"."])],"avenger","at-will","1"),
      Power("Bond of Pursuit",["divine","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(raising(1,20), [WISMOD]),["melee"]),
          Hit(["If the target doesn't end its turn adjacent to you, you can shift ",MOD("dex",1)," squares as a free action, and you must end that shift closer to the target"])],"avenger","at-will",1),
      Power("Bond of Retribution",["divine","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(raising(1,20), [WISMOD]),["melee"]),
          Hit(["The first time an enemy other than the target hits or misses you before the end of your next turn, the target takes ",MOD("int")," radiant damage."])],"avenger","at-will",1),
      Power("Leading Strike",["divine","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(raising(1,20),[WISMOD]),["melee"]),
          Hit(["One ally adjacent to you or to the target gains a +",MOD("int")," bonus to his or her next damage roll against the target."])],"avenger","at-will","1"),
      Power("Overwhelming Strike",["divine","radiant","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit(["You shift 1 square and slide the target 1 square into the space you occupied."])],"avenger","at-will",1),
      Power("Radiant Vengeance",["divine","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",10)),
           Atk([WISMOD],"reflex", damage([raising(1,20),8], [WISMOD])),
          Hit(["Gain ",MOD("wis")," temporary HP"])],"avenger","at-will",1)
],"avengerencounter1":[
      Power("Angelic Alacrity",["divine","weapon"],"encounter","standard",
          [Effect(["Before the attack you shift ",orfeat(2,lambda x:1+x.mod("dex"),"censure of pursuit")," squares"]),
           Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"])],"avenger","attack",1),
      Power("Avenging Echo",["divine","radiant","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(1, [WISMOD]),["melee"]),
          Hit(["Until the end of your next turn, any enemy that ends its turn adjacent to you or that hits or misses you takes ",orfeat(5,lambda x:5+x.mod("int"),"censure of retribution")," radiant damage"])],"avenger","attack",1),
      Power("Relentless Attack",["divine","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD]),["melee"]),
          Hit("You push the target 2 squares and then shift 3 squares to a square adjacent to it.")],"avenger","encounter","1"),
      Power("Shared Madness",["divine","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),
           Atk([WISMOD],"will", damage([1,10], [WISMOD])),
           Hit("A second creature you can see takes the same damage.")],"avenger","attack",1),
      Power("Whirlwind Charge",["divine","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Special("When charging, you can use this power in place of a basic melee attack.  If you charge, you gain a +4 bonus to AC against opportunity attacks you provoke while moving to the target.")],"avenger","attack",1)
],"avengerdaily1":[
      Power("Aspect of Might",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter, you gain a +5 power bonus to Athletics checks, a +2 power bonus to speed, and a +2 power bonus to the damage rolls of melee attacks.")],"avenger","attack",1),
      Power("Oath of the Final Duel",["divine","teleportation","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter, if the target is more than 3 squares away from you at the start of your turn, you can teleport to a space within 3 squares of it as a minor action.  This effect ends if you end your turn more than 3 squares away from the target.")],"avenger","attack",1),
      Power("Renewing Strike",["divine","healing","implement","lightning"],"daily","standard",
          [Target("one creature",("ranged",10)),
           Atk([WISMOD],"ref", damage([2,10], [WISMOD])),
          Miss("Half damage."),
          Effect("You can spend a healing surge.")],"avenger","attack",1),
      Power("Strength Of Many",["divine","weapon"],"daily","standard",
          [Effect("Whenever you make a damage roll before the end of your next turn, you gain a +2 bonus for each ally within 2 squares of you."),
          Target("One creature"),
          Atk([WISMOD],"AC",damage(3,[WISMOD]),["melee"]),
          Miss()],"avenger","daily","1"),
      Power("Temple of Light",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Effect("The attack creates a zone of radiant energy in a burst 2 centered on the target.  The zone lasts until the end of the encounter.  When the target moves, the zone moves with it, remaining centered on it.  Whenever you hit a creature that is within the zone, that attack deals 1d6 extra radiant damage.")],"avenger","attack",1),
],"avengerutility2":[
      Power("Blessing of Vengeance",["divine"],"daily","free",
          [Trigger("Your Oath of Enmity target drops to 0 hit points"),
           Effect(["You gain ",lambda x:x.statret("surge")," temporary hit points."])],"avenger","utility",2),
      Power("Distracting Flare",["divine"],"encounter","move",
          [Effect("You become invisible and move your speed.  You are invisible until the end of the movement.")],"avenger","utility",2),
      Power("Refocus Enmity",["divine"],"encounter","minor",
          [Target("one creature you can see in burst",("close burst",10)),
           Effect("The target becomes the target of your Oath of Enmity, replacing the current target.")],"avenger","utility",2),
      Power("Resonant Escape",["divine","teleportation"],"encounter","immediate reaction",
          [Trigger("An enemy hits or misses you with a melee attack"),
           Effect("You teleport 3 squares.")],"avenger","utility",2),
],"avengerencounter3":[
      Power("Deflecting Thunder",["divine","thunder","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(1, [WISMOD]),["melee"]),
          Hit("Until the end of your next turn, the next melee or ranged attack against you instead targets an enemy adjacent to you other than the attacker.")],"avenger","attack",3),
      Power("Enmity's Reach",["divine","implement","thunder"],"encounter","standard",
          [Target("one creature in burst",("close burst",5)),
           Atk([WISMOD],"fortitude", damage([1,10], [WISMOD])),
          Hit("Pull the target 2 squares.  The target is slowed until the end of your next turn.")],"avenger","attack",3),
      Power("Halo of Fire",["divine","fire","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Hit(["Until the end of your next turn, any enemy that ends its turn adjacent to the target takes ",orfeat(5,lambda x: 5+x.mod("int"),"censure of retribution")," fire damage."])],"avenger","attack",3),
      Power("Sequestering Strike",["divine","teleportation", "weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Hit(["You teleport the target ",orfeat(2,lambda x: 1+x.mod("dex"),"censure of pursuit")," squares.  You then teleport to a square adjacent to the target."])],"avenger","attack",3)
],"avengerdaily5":[
      Power("Bond of Foresight",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Miss(),
          Effect("When the target hits or misses you or shifts, the target provokes an opportunity attack from you (save ends).")],"avenger","attack",5),
      Power("Dawn Fire Sigil",["divine","radiant","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Miss(),
          Effect("The target doesn't benefit from cover or concealment against your attacks (save ends).  The target can still benefit from superior cover or total concealment against your attacks.  Until the end of the encounter, you gain a +1 bonus to attack rolls against the target.")],"avenger","attack",5),
     Power("Executioner's Cloak",["divine","illusion","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
           Hit("You are invisible to the target (save ends)."),
           Aftereffect("You are invisible to the target until the end of your next turn."),
          Miss("Half damage, and you are invisible to the target until the end of your next turn.")],"avenger","attack",5),
      Power("Oath of Consuming Light",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",10)),
           Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
          Hit("Whenever you hit the target with a divine power, the target takes 1d6 extra radiant damage (save ends)."),
          Aftereffect("Whenever you hit the target with a divine power, the target takes 1d4 extra radiant damage (save ends)."),
          Miss("Half damage.  Whenever you hit the target with a divine power, the target takes 1d4 extra radiant damage (save ends).")],"avenger","attack",5)
],"avengerutility6":[
      Power("Aspect of Agility",["divine"],"encounter","move",
          [Effect("You shift 5 squares, and you gain a +5 bonus to AC and Reflex until the end of your next turn.")],"avenger","utility",6),
      Power("Oath of Enduring Wrath",["divine"],"daily","minor",
          [Effect("You gain a +2 power bonus to saving throws until the end of the encounter.")],"avenger","utility",6),
      Power("Oath of the Relentless Hunter",["divine"],"daily","minor",
          [Target("one creature",("melee","touch")),
           Effect("Until you use this power on a different target, you can take a standard action to determine the distance and the direction to the target.  The distance and direction are based on a straight line between you and the target, ignoring any barriers.  If the target is on a different plane from you, you know which plane but gain no other information.")],"avenger","utility",6),
      Power("Wrath of the Divine",["divine","radiant"],"daily","immediate reaction",
          [Trigger("an enemy scores a critical hit against you"),
           Target("your Oath of Enmity target in burst",("close burst",10)),
           Effect("The target takes radiant damage equal to the critical hit's damage.")],"avenger","utility",6)
],"avengerencounter7":[
      Power("Avenging Winds",["divine","implement"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"will", damage([2,8], [WISMOD])),
          Hit(["Until the end of your next turn, if the target moves, you can slide it 2 squares as an immediate reaction."])],"avenger","attack",7),
      Power("Blade Step",["divine","teleportation","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Hit("You teleport 10 squares to a space that must be adjacent to an enemy.")],"avenger","attack",7),
      Power("Inexorable Pursuit",["divine","weapon"],"encounter","standard",
          [Effect(["Before the attack you gain phasing until the end of your turn, and you shift ",orfeat(3,lambda x:2+x.mod("dex"),"censure of pursuit")," squares."]),
          Target("one creature"),
          Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"])],"avenger","attack",7),
      Power("Splinter the Formation",["divine","teleportation", "weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(1, [WISMOD]),["melee"]),
          Hit(["You teleport each enemy within 2 squares of the target ",orfeat(2,lambda x:2+x.mod("int"),"censure of retribution")," squares."])],"avenger","attack",7)
],"avengerdaily9":[
      Power("Aspect of Speed",["divine","weapon"],"daily","standard",
          [Effect("Before and after the attack you shift 5 squares"),
           Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Miss()],"avenger","attack",9),
      Power("Enduring Strike",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
           Hit("You make a saving throw with a +5 bonus"),
          Miss("Half damage, and you make a saving throw")],"avenger","attack",9),
      Power("Oath of Pursuit",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter, if the target moves on its turn, you can shift 3 squares at the end of the target's turn as an opportunity action.  You must end this movement closer to the target.")],"avenger","attack",9),
      Power("Temple of Shadow",["divine","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
           Miss(),
          Effect("The attack creates a zone of swirling shadows in a burst 1 centered on the target.  the zone lasts until the end of the encounter.  When the target moves, the zone moves with it, remaining centered on it.  While you are within the zone, you gain concealment and can make Stealth checks to become hidden.  When you leave the zone, you have concealment until the end of your turn.")],"avenger","attack",9),
],"avengerutility10":[
      Power("Avenger's Readiness",["divine"],"daily","no",
          [Trigger("You roll initiative at the beginning of an encounter"),
          Effect("You gain a +5 power bonus to the initiative check.  You shift 3 squares as a free action when the first creature in the initiative order starts its turn, even if you're surprised.")],"avenger","utility",10),
      Power("Channel Endurance",["divine"],"encounter","minor",
          [Effect("You gain resist 5 to all damage until the end of your next turn.")],"avenger","utility",10),
      Power("Eye of Justice",["divine"],"encounter","minor",
          [Effect("Until the end of your next turn, you can see invisible creatures within 5 squares of you.")],"avenger","utility",10),
      Power("River of Life",["divine","healing"],"daily","minor",
          [Effect("You gain regeneration 5 until the end of the encounter.")],"avenger","utility",10)
],"avengerencounter13":[
      Power("Cloud of Souls",["divine","psychic","weapon","zone"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"will", damage(2, [WISMOD]),["melee"]),
          Hit(["The attack creates a zone of shrieking souls in a close burst 1.  The zone lasts until the end of your next turn or until you dismiss it as a minor action.  Any enemy that enters the zone is dazed until the end of your next turn.",orfeat("",["  Until the end of your next turn, you gain a +",MOD("int")," bonus to attack rolls against the target."],"censure of retribution")])],"avenger","attack",13),
      Power("Light of the Avenging Sun",["divine","radiant","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"will", damage(2, [WISMOD]),["melee"]),
          Hit("The target takes a -4 penalty to attack rolls against you until the end of your next turn.")],"avenger","attack",13),
      Power("Sequestering Wind",["divine","implement","teleportation","thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),
           Atk([WISMOD],"will", damage([2,8], [WISMOD])),
          Hit(["You teleport the target ",orfeat(5,lambda x:5+x.mod("dex"),"censure of pursuit")," squares.  You then teleport to a space adjacent to the target."])],"avenger","attack",13),
      Power("Whirling Blades",["divine", "weapon"],"encounter","standard",
          [Special("You gain a +2 bonus to the attack roll if no enemy is adjacent to the target"),
           Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
          Hit("The attack deals 5 extra damage if no enemy is adjacent to the target.")],"avenger","attack",13),
],"avengerdaily15":[
      Power("Aspect of Fury",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter, any enemy that starts its turn adjacent to you or that hits or misses you with a melee attack takes 5 damage.")],"avenger","attack",15),
      Power("Bond of the Sacred Duel",["divine","psychic","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
           Miss(),
          Effect("Until the end of the encounter or until you attack anyone other than the target, the target takes 5 psychic damage whenever another enemy hits you.")],"avenger","attack",15),
      Power("Oath of Divine Lightning",["divine","lightning","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
           Hit("The target takes 5 lightning damage at the end of its turn if it doesn't move at least 1 square during its turn (save ends).  Shifting doesn't count toward this movement."),
          Miss("Half damage, and the target takes 5 lightning damage at the end of its next turn if it doesn't move at least 1 square during that turn.  Shifting doesn't count toward this movement.")],"avenger","attack",15),
      Power("Sigil of Carceri",["divine","force","implement"],"daily","standard",
          [Target("one creature",("ranged",5)),
           Atk([WISMOD],"fortitude", damage([2,10], [WISMOD])),
           Hit("The target is immobilized, and its attacks against creaures more than 5 squares away from it automatically miss (save ends both)."),
          Miss("Half damage.  Until the end of your next turn, the target is immobilized, and its attacks against creatures more than 5 squares away from it automatically miss.")],"avenger","attack",15)
],"avengerutility16":[
      Power("Astral Cloak",["divine","illusion"],"encounter","minor",
          [Effect("You become invisible until the end of your next turn.")],"avenger","utility",16),
      Power("Bulwark of Defiance",["divine"],"encounter","no",
          [Trigger("You fail a saving throw other than a death saving throw"),
           Effect("Until the end of your next turn, the effect you failed the saving throw against doesn't affect you, but you make saving throws against it as normal.")],"avenger","utility",16),
      Power("Vengeful Revenant",["divine","healing"],"daily","no",
          [Trigger("You fail a death saving throw"),
           Effect("You succeed on the death saving throw and spend a healing surge.  You gain a +5 power bonus to all defenses until the end of your next turn.")],"avenger","utility",16),
      Power("Winds of the Astral Sea",["divine","teleportation"],"encounter","move",
          [Effect("You teleport 4 squares.")],"avenger","utility",16),
],"avengerencounter17":[
      Power("Astral Fury",["divine","implement","psychic","teleportation"],"encounter","standard",
          [Target("one or two creatures",("ranged",10)),
           Atk([WISMOD],"will", damage([2,6], [WISMOD])),
          Hit("you teleport the target 3 squares.  The target is immobilized until the end of your next turn.")],"avenger","attack",17),
      Power("Ready the Final Blow",["divine","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Hit(["The target is immobilized until the end of your next turn.  You gain a +",orfeat(2,DEXMOD,"censure of pursuit")," bonus to your next attack roll against the target before the end of your next turn."])],"avenger","attack",17),
      Power("Spectral Charge",["divine","weapon"],"encounter","standard",
          [Effect("Before the attack you become insubstantial until the end of your next turn."),
           Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Special("When charging, you can use this power in place of a melee basic attack.  If you charge, you become insubstantial when you begin the charge.")],"avenger","attack",17),
      Power("Warding Blade",["divine","thunder", "weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(2, [WISMOD]),["melee"]),
          Hit(["You push any enemy within 2 squares of you, other than the target, 2 squares.  Until the end of your next turn, if any enemy other than the target enters a square adjacent to you or hits or misses you from a squaer within your reach, you can make a melee basic attack against that enemy as an opportunity action.",orfeat("",["  You gain a +",MOD("int")," power bonus to this melee basic attack roll"],"censure of retribution")])],"avenger","attack",17)
],"avengerdaily19":[
      Power("Aspect of Awe",["charm","divine","implement","psychic"],"daily","standard",
          [Target("one creature in burst",("close burst",5)),
           Atk([WISMOD],"will", damage([4,8], [WISMOD])),
          Hit("Pull the target 3 squares.  At the start of each of your turns, you pull the target 3 squares (save ends)."),
          Miss("Half damage, and you pull the target 2 squares.  At the start of your next turn, you pull the target 3 squares.")],"avenger","attack",19),
      Power("Oath of the Inevitable Blade",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(5, [WISMOD]),["melee"]),
          Miss("Half damage.  You gain a +5 power bonus to your next damage roll against the target before the end of the encounter, unless you attack another creature first.")],"avenger","attack",19),
      Power("Temple of Respite",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"reflex", damage(3, [WISMOD]),["melee"]),
          Hit("The target is slowed (save ends)."),
          Miss("Half damage, and the target is slowed until the end of your next turn."),
          Effect("The attack creates a zone of radiance in a close burst 1.  The zone lasts until the end of the encounter.  While you are within the zone, you gain a +2 bonus to all defenses.  The zone is difficult terrain to enemies.")],"avenger","attack",19),
      Power("Vengeful Recovery",["divine","healing","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
          Hit("The target is dazed (save ends).  You regain hit points as if you had spent a healing surge."),
          Miss("Half damage, and the target is dazed until the end of your next turn.  You can spend a healing surge.")],"avenger","attack",19),
],"avengerutility22":[
      Power("Ghostly Vengeance",["divine"],"daily","minor",
          [Effect("Until the end of the encounter, you gain phasing, and you take half damage from opportunity attacks.")],"avenger","utility",22),
      Power("Indomitable Resolve",["divine"],"daily","immediate interrupt",
          [Trigger("You take damage"),
           Effect("The damage is reduced to 0.")],"avenger","utility",22),
      Power("Oath of the Final Strike",["divine"],"daily","immeditate interrupt",
          [Trigger("An attack reduces you to 0 hit points or fewer and doesn't kill you"),
           Effect("You are dying but don't fall unconcious.  Until the end of your next turn, you don't take any damage after the triggering attack and you gain +4 bonus to attack rolls.  At the end of your next turn, you fall unconcious if you are still dying.")],"avenger","utility",22),
      Power("Twin Step",["divine","teleportation"],"encounter","move",
          [Effect("You teleport 8 squares.  As the last action of your turn, you can teleport 8 squares as a free action.")],"avenger","utility",22)
],"avengerencounter23":[
      Power("Avenger's Shield",["divine","implement","radiant"],"encounter","standard",
        [Target("one creature",("ranged",5)),
         Atk([WISMOD],"will", damage([4,6], [WISMOD])),
          Hit("If the target hits or misses you before the end of your next turn, as an immediate reaction you can cfause the target to be blinded until the end of your next turn.")],"avenger","attack",23),
      Power("Bond of Justice",["divine","radiant","teleportation","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(4, [WISMOD]),["melee"]),
          Hit(["If the target is not adjacent to you at the start of your next turn, you gain a +4 bonuis to attack rolls against it until the end of that turn, and during that turn, you can teleport to a square adjacent to the target as a move action.",orfeat("",["  When you use this power to teleport adjacent to the target, it takes ",lambda x:5+x.mod("dex")," radiant damage."],"censure of pursuit")])],"avenger","attack",23),
      Power("Phase Duel",["divine","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(3, [WISMOD]),["melee"]),
          Hit(["Until the end of your next turn, you and the target are immobilized.  In addition, no other creature has line of sight or line of effect to either of you, and the two of you have line of sight and line of effect only to each other.  This effect ends if the immobilized condition ends on either of you before the end of your next turn.",orfeat("",["  Until the end of your next turn, you gain a +",MOD("int")," bonus to all defenses against the target's attacks."],"censure of retribution")])],"avenger","attack",23),
],"avengerdaily25":[
      Power("Aspect of Death",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"fortitude", damage(6, [WISMOD]),["melee"]),
           Hit("the target takes 10 damage at the start of its turn if you are within 5 squares of it (save ends)."),
          Miss("Half damage, and the target takes 5 damage at the start of its turn if you are within 5 squares of it (save ends).")],"avenger","attack",25),
      Power("Bond of Destiny",["divine","implement","psychic","teleportation"],"daily","standard",
          [Target("one creature",("ranged",20)),
           Atk([WISMOD],"will", damage([6,8], [WISMOD])),
          Miss(),
          Effect("The target suffers a bond of destiny (save ends).  Until the bond ends, you can teleport to a space adjacent to the target as a minor action.  You don't need line of sight to the destination space."),
          Aftereffect("You can teleport to a space adjacent to the target as a free action once.  You don't need line of sight to the destination space.")],"avenger","attack",25),
      Power("Executioner's Justice",["divine","psychic","weapon"],"daily","standard",
          [Target("one creature",("close burst",5)),
           Atk([WISMOD],"AC", damage(4, [WISMOD]),["melee"]),
          Hit("The target is dazed (save ends)."),
          Other("First Failed Saving Throw: The target is stunned instead of dazed (save ends)."),
          Other("Each Additional Failed Saving Throw: The target takes 20 psychic damage."),
          Miss("Half damage, and the target is dazed (save ends).")],"avenger","attack",25),
      Power("Sigil of Damnation",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(4, [WISMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, when you miss the target with an avenger encounter attack power, the attack deals half damage.")],"avenger","attack",25),
],"avengerencounter27":[
      Power("Astral Charge",["divine","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(1, [WISMOD]),["melee"]),
          Hit("The target is stunned until the end of your next turn"),
          Special("When charging, you can use this power in place of a melee basic attack.")],"avenger","attack",27),
      Power("Death Stroke",["divine","weapon"],"encounter","standard",
          [Target("one creature",("melee","touch")),
           Atk([WISMOD],"AC", damage(4, [WISMOD])),
           Special("You gain a +4 bonus to the attack roll if no enemy is adjacent to the target."),
          Hit("The attack deals 2[W] extra damage if no enemy is adjacent to the target.")],"avenger","attack",27),
      Power("Inevitable End",["divine","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD,orfeat(0,DEXMOD,"censure of pursuit")],"AC", damage(4, [WISMOD]),["melee"]),
          Effect("If the target is still alive and not adjacent to you at the end of its next turn, you regain the use of this power.  You can regain the use of this power in this manner once per encounter.")],"avenger","attack",27),
      Power("Scatter to the Astral Winds",["divine","teleporation", "weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([WISMOD],"will", damage(3, [WISMOD]),["melee"]),
          Hit(["You teleport each enemy within 5 squares of you, other than the target, ",orfeat(5,lambda x: 4+x.mod("int"),"censure of retribution")," squares."])],"avenger","attack",27),
],"avengerdaily29":[
      Power("Aspect of Terror",["divine","fear","implement","psychic"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),
           Atk([WISMOD],"will", damage([5,6], [WISMOD])),
          Hit("You push the target 3 squares.   If the target hits or misses you, it is stunned until the end of its next turn."),
          Miss("Half damage.  If the target hits or misses you before the end of your next turn, it is stunned until the end of its next turn.")],"avenger","attack",29),
      Power("Fiery Vengeance",["divine","fire","healing","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),
           Atk([WISMOD],"reflex", damage([7,6], [WISMOD])),
          Miss(),
          Effect("You regain hit points as if you had spent a healing surge.  Until the end of the encounter, any enemy that ends its turn adjacent to you takes 10 fire and radiant damage.")],"avenger","attack",29),
      Power("Final Oath",["divine","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(9, [WISMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, you and the target gain a +5 bonus to attack rolls against each other.")],"avenger","attack",29),
      Power("Temple of Resolution",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("one creature"),
           Atk([WISMOD],"AC", damage(5, [WISMOD]),["melee"]),
          Miss(),
          Hit("The atttack creates a zone of radiant energy in a close burst 2.  The zone lasts until the end of the encounter.  The target takes 25 radiant damage whenever it leaves the zone.  Any enemy other than the target takes 25 radiant damage when entering or leaving the zone or ending its turn there.  Any enemy that enters or leaves the zone as a result of forced movement does not take this damage.")],"avenger","attack",29),
]}
    addPowers(avengerList)

def barbarian():
    barbarianList={"barbarianat-will1":[
      Power("Devastating Strike",["primal","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD],[raising(1,10),8]),["melee","two-handed"]),
          Effect("Until the start of your next turn, any attacker gains a +2 bonus to attack rolls against you.  If you are raging, attackers do not gain this bonus.")],"barbarian","at-will",1),
      Power("Howling Strike",["primal","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD],[raising(1,10),6]),["melee","two-handed"]),
          Special("When charging, you can use this power in place of a melee basic attack.  If you are raging, you can move 2 extra squares as part of the charge.")],"barbarian","at-will",1),
      Power("Pressing Strike",["primal","weapon"],"at-will","standard",
          [Effect("Before the attack you shift 2 squares.  You can move through an enemy's space during the shift, but you can't end there."),
           Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit("You push the target 1 square.  If you are raging, the attack deals 1d6 extra damage.")],"barbarian","at-will",1),
      Power("Recuperating Strike",["primal","weapon"],"at-will","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD],[lambda x:raising(1,10)(x)-1,6]),["melee","two-handed"]),
          Hit(["Gain ",MOD("con")," temporary hit points, or ",lambda x:x.mod("con")+5," temporary hit points if you are raging."])],"barbarian","at-will",1),
],"barbarianencounter1":[
      Power("Avalanche Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"fortitude", damage(3,[STRMOD,orfeat(0,CONMOD,"rageblood vigor")]),["melee"]),
          Effect("Until the start of your next turn, any attacker gains a +4 bonus to attack rolls against you.")],"barbarian","attack",1),
      Power("Bloodletting",["primal","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["If the target is bloodied, the attack deals ",MOD("con")," extra damage."])],"barbarian","attack",1),
      Power("Great Cleave",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),
           Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Special("This attack deals +1 damage for each enemy adjacent to you.")],"barbarian","attack",1),
      Power("Vault the Fallen",["primal","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(1, [STRMOD],[1,6]),["melee"]),
          Effect(["If you target two creatures, you can shift ",orfeat(1,CHAMOD,"thaneborn triumph")," square(s) after the first attack."])],"barbarian","attack",1),
],"barbariandaily1":[
      Power("Bloodhunt Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["You enter the rage of the bloodhunt.  Until the rage ends, you gain a +",MOD("con")," bonus to melee damage rolls if either you or your target is bloodied."])],"barbarian","attack",1),
      Power("Macetail's Rage",["primal","rage","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
           Hit("You knock the target prone"),
           Miss(),
           Effect(["You enter the rage of the macetail behemoth.  Until the rage ends, whever you hit, you gain ",MOD("str")," temporary hit points."])],"barbarian","attack",1),
      Power("Rage Drake's Frenzy",["primal","rage","weapon"],"daily","standard",
          [Special("If the target is bloodied, you gain a +2 bonus to the attack roll"),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["You enter the rage of the rage drake.  Until the rage ends, once per round when you reduce an enemy to 0 hit points, you can make a melee basic attack as a free action."])],"barbarian","attack",1),
      Power("Swift Panther Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["You enter the rage of the swift panther.  Until the rage ends, you gain a +2 bonus to speed and can shift 2 squares as a move action."])],"barbarian","attack",1),
],"barbarianutility2":[
      Power("Combat Sprint",["primal"],"encounter","move",
          [Effect(["You move your speed +4.  You gain a +4bonus to all defenses against any opportunity attack you provoke with this movement."])],"barbarian","utility",2),
      Power("Primal Vitality",["primal"],"daily","minor",
          [Target("one creature",("melee",1)),
           Effect(["You gain ",lambda x:x.statret("level")/2+x.mod("con")," temporary hit points.  If you are raging, you instead gain ",lambda x:x.statret("level")/2+x.mod("con")*2," temporary hit points."])],"barbarian","utility",2),
      Power("Stonebreaker",["primal"],"daily","minor",
          [Effect("Until the end of your next turn, you gain a +5 bonus to Strength checks to break objects, and you deal double damage against objects.")],"barbarian","utility",2),
      Power("Tiger's Leap",["primal"],"encounter","move",
          [Effect("You make an Athletics check to jump with a +5 power bonus.  You are considered to have a running start and can move as fara as the check allows.")],"barbarian","utility",2),
      Power("Shrug it Off",["primal"],"encounter","immediate reaction",
          [Trigger("You are subjected to an effect that a save can end"),
           Effect("You make a saving throw against the triggering effect.  If you succeed, you shift 1 square as a free action.")],"barbarian","utility",2),
],"barbarianencounter3":[
      Power("Blade Sweep",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Each ",orfeat("bloodied ","","rageblood vigor"),"enemy adjacent to you takes ",MOD("con")," damage."])],"barbarian","attack",3),
      Power("Blood Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("If you or the target is bloodied, the attack deals 1[W] extra damage.")],"barbarian","attack",3),
      Power("Daring Charge",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Special(["When charging, you can use this power in place of a melee basic attack.  If you charge, you gain a +2 bonus to the attack roll and the damage roll for each opportunity attack made against you while you charge.",orfeat("",["You gain a +",MOD("cha")," bonus to AC against any opportunity attack you provoke during your charge."],"thaneborn triumph")])],"barbarian","attack",3),
      Power("Hammer Fall",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("You knock the target prone.")],"barbarian","attack",3),
      Power("Shatterbone Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["The target takes a -",orfeat(2,CHAMOD,"thaneborn triumph")," penalty to AC until the end of your next turn."])],"barbarian","attack",3),
],"barbariandaily5":[
      Power("Frost Wolf Rage",["cold","primal","rage","weapon"],"daily","standard",
          [Effect("Before the attack, the target can make a melee basic attack against you as a free action.  If it does so, your attack deals 1[W] extra cold daamge."),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["You enter the rage of the frost wolf.  Until the rage ends, any enemy that hits you with a melee attack takes ",lambda x:x.mod("con")," cold damage."])],"barbarian","attack",5),
      Power("Silver Phoenix Rage",["fire","healing","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("Ongoing 5 fire damage"),
          Miss(),
          Effect("You enter the rage of the silver phoenix.  Until the rage ends, you gain regeneration 3.  In addition, the first time you are dropped to 0 hit points or fewer, you can spend a healing surge as an immediate interrupt.")],"barbarian","attack",5),
      Power("Thunder Hawk Rage",["primal","rage","thunder","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("The target is dazed (save ends)."),
           Miss(),
           Effect("You enter the rage of the thunder hawk.  Until the rage ends, you can make the following secondary attack once during each of your turns as a free action."),
           Target("one creature",("melee",1)),Atk([STRMOD],"fortitude", None,["melee"]),
           Hit("You knock the secondary target prone.")],"barbarian","attack",5),
      Power("Vengeful Storm Rage",["lightning","primal","rage","weapon"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect("You eter the rage of the vengeful storm.  Until the rage ends, at the start of each of your turns, each enemy adjacent to you takes 3 lightning damage.")],"barbarian","attack",5),
],"barbarianutility6":[
      Power("Combat Surge",["primal"],"daily","free",
          [Trigger("You miss with an attack"),
           Requirement("You must be raging."),
           Effect("You reroll the attack.")],"barbarian","utility",6),
      Power("Indomitable Shift",["primal"],"daily","minor",
          [Effect(["You shift ",MOD("con")," squares.  You gain 1d10 temporary hit points plus 1 additional temporary hit point for each enemy within 2 squares of you."])],"barbarian","utility",6),
      Power("Instinctive Charge",["primal"],"daily","no",
          [Trigger("You roll initiative at the beginning of an enounter."),
           Effect(["You gain a +5 power bonus to your initiative.  You also gain a +2 power bonus to your first attack roll during the encounter."])],"barbarian","utility",6),
      Power("Loss of Will",["primal"],"encounter","immediate reaction",
          [Trigger("An enemy misses you with an attack."),
           Target("the triggering enemy"),Effect(["Until the end of the target's next turn, the target takes a -",MOD("cha")," penalty to attack rolls against you."])],"barbarian","utility",6),
      Power("Relentless Surge",["primal"],"encounter","minor",
          [Effect(["You gain ",lambda x:x.mod("con")+5," temporary hit points."])],"barbarian","utility",6),
],"barbarianencounter7":[
      Power("Curtain of Steel",["primal","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy adjacent to you hits or misses you."),
           Target("The triggering enemy",("melee",1)),
           Atk([STRMOD,orfeat(0,CHAMOD,"thaneborn triumph")],"AC", damage(3, [STRMOD]),["melee"])],"barbarian","attack",7),
      Power("Great Shout",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Each enemy within 5 squares of you takes a -2 penalty to attack rolls until the end of your next turn.")],"barbarian","attack",7),
      Power("Feast of Violence",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Special("You can choose to provoke opportunity attacks when you make this attack.  If you do so, you gain a +1 bonus to the attack roll for each creature that attacks you, and the attack deals 1[W] extra damage.")],"barbarian","attack",7),
      Power("Tide of Blood",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["The attack deals 1 extra damage for each enemy ",orfeat("adjacent to you",["within ",MOD("con")," squares of you"],"rageblood vigor")])],"barbarian","attack",7),
],"barbariandaily9":[
      Power("Black Dragon Rage",["acid","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("Ongoing 5 acid damage (save ends)."),
           Miss(),
          Effect("You enter the rage of the black dragon.  Until the rage ends, at the start of each of your turns, each enemy adjacent to you is blinded until the end of your turn.")],"barbarian","attack",9),
      Power("Oak Hammer Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("You knock the target prone"),
           Miss(),
           Effect(["You enter the rage of the oak hammer.  Until the rage ends, whenever you hit a target with a melee attack, you knock that target prone.  If the target is already prone, your attack instead deals ",MOD("con")," extra damage."])],"barbarian","attack",9),
      Power("Stone Bear Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["You enter the rage of the stone bear.  Until the rage ends, you gain resist ",MOD("con")," to all damage."])],"barbarian","attack",9),
      Power("White Tiger Rage",["cold","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("The target is immobilized (save ends)."),
           Miss("Half damage, and the target is slowed (save ends)."),
           Effect("You enter the rage of the white tiger.  Until the rage ends, any enemy that starts its turn adjacent to you is slowed until the end of its turn.")],"barbarian","attack",9),
],"barbarianutility10":[
      Power("Deny Death",["primal"],"daily","immediate interrupt",
          [Trigger("You drop to 0 hit points or fewer and don't die"),
           Effect("You are dying but don't fall unconcious because of that condition.  At the end of your next turn, you fall unconcious if you are still dying.")],"barbarian","utility",10),
      Power("Heart Strike",["primal","stance"],"daily","minor",
          [Effect(["Until the stance ends, whenever you hit with an at-will attack power, the attack deals ",MOD("cha")," extra damage."])],"barbarian","utility",10),
      Power("Mountain Roots",["primal","stance"],"daily","immediate interrupt",
          [Trigger("You are pulled, pushed, or slid."),
           Effect("You negate the forced movement.  Until the stance ends, you can negate forced movement against you.")],"barbarian","utility",10),
      Power("Wellspring of Renewal",["primal"],"encounter","minor",
          [Effect(["You gain ",lambda x:x.statret("level")/2+x.mod("con")," temporary hit points.  In addition, if you are marked, that condition ends."])],"barbarian","utility",10),
],"barbarianencounter13":[
      Power("Blade Whirlwind",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Other(["",orfeat("","Hit: Push the target 1 square","rageblood vigor")])],"barbarian","attack",13),
      Power("Crack the Skull",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD]),["melee"]),
          Hit("The target is dazed until the end of your next turn.")],"barbarian","attack",13),
      Power("Storm of Blades",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Special("Repeat the attack until you miss or until you make three attacks.  As soon as an attack misses, this power ends.")],"barbarian","attack",13),
      Power("Terror's Cry",["fear","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD]),["melee"]),
           Hit("Make a secondary attack"),
           Target("Each enemy in burst",("close burst",1)),Atk([CHAMOD],"will", None,["melee"]),
           Hit(["The secondary target moves 2 squares away from you as a free action and takes a -",orfeat(2,CHAMOD,"thaneborn triumph")," penalty to attack rolls until the end of your next turn."])],"barbarian","attack",13),
      Power("Thunderfall",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("You push the target 1 square and knock it prone."),
          Special(["When charging, you can use this power in place of a melee basic attack.  If you charge and hit, you instead push the target ",MOD("con")," squares."])],"barbarian","attack",13),
],"barbariandaily15":[
      Power("Flameheart Rage",["fire","primal","rage","weapon"],"daily","standard",
          [Target("Each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect(["You enter the rage of the red dragon.  Until the rage ends, any creature that hits you with a melee attack takes ",lambda x:x.mod("con")+5," fire damage."])],"barbarian","attack",15),
      Power("Hunting Lion Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Miss(),
          Effect("You enter the rage of the hunting lion.  Until the rage ends, you gain a +2 power bonus to attack rolls against any target that is granting combat advantage to you.")],"barbarian","attack",15),
      Power("Iron Hammer Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit(["You push the target ",MOD("str")," squares."]),
          Miss("Half damage, and you push the target one square."),
          Effect(["You enter the rage of the iron hammer.  Until the rage ends, whenever you hit a creature with a melee attack, you push that creature 2 squares.  If the creature is adjacent to blocking terrain at the end of the push, the creature takes ",MOD("str")," damage."])],"barbarian","attack",15),
      Power("Thunderfury Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("You knock the target prone."),
          Miss(),
          Effect("You enter the rage of the thunderfury boar.  Until the rage ends, when any enemy adjacent to you hits or misses you, you can make a melee basic attack against them as an immediate reaction.")],"barbarian","attack",15),
],"barbarianutility16":[
      Power("Battle Lust",["healing","primal"],"daily","no",
          [Trigger("You are dying at the start of your turn"),
           Effect("You spend a healing surge, and can stand up as a free action.  Until the end of your next turn, you gain a +2 bonus to attack rolls and a +4 bonus to damage rolls.")],"barbarian","utility",16),
      Power("Fuel the Fire",["primal"],"encounter","minor",
          [Effect("Each enemy adjacent to you can make an opportunity attack against you.  Until the end of your next turn, you gain a bonus to attack rolls equal to +2 for each enemy that makes the opportunity attack.")],"barbarian","utility",16),
      Power("Great Stomp",["primal"],"daily","minor",
          [Effect("Each square in the burst becomes difficult terrain until the end of your next turn.",("close burst",5))],"barbarian","utility",16),
      Power("Primal Resistance",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends, you gain resist 10 against a damage type of your choice: acid, cold, fire, lightning, or thunder.")],"barbarian","utility",16),
      Power("Spur the Cycle",["primal"],"daily","free",
          [Trigger("You reduce an enemy to 0 hit points during your turn."),
           Effect("You take a standard action.")],"barbarian","utility",16)
],"barbarianencounter17":[
      Power("Devastating Blow",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit(["The target takes a -",orfeat(2,CHAMOD,"thaneborn triumph")," penalty to AC until the end of your next turn."])],"barbarian","attack",17),
      Power("Mountain Grasp",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is immobilized and grants combat advantage to you until the end of your next turn.")],"barbarian","attack",17),
      Power("Shoulder Slam",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Hit("You push the target one square.  You then shift one square and make a secondary attack."),
          Target("one creature other than the primary target"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Special(["When charging, you can use this power in place of a melee basic attack.  If you charge, you gain a +",MOD("con")," bonus to the primary attack roll."])],"barbarian","attack",17),
      Power("Threatening Fury",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Push the target 3 squares."),
          Effect("After the attack you can shift the same distance you pushed the target.  You must end your movement adjacent to the target.")],"barbarian","attack",17),
      Power("Vigorous Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Push the target 2 squares"),
          Special("All of your enemies within 2 squares of the target are marked until the end of your next turn.")],"barbarian","attack",17)
],"barbariandaily19":[
      Power("Ghost Viper Rage",["poison","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Ongoing poison 10 (save ends)."),
          Miss(),
          Effect("You enter the rage of the ghost viper.  Until the rage ends, any enemy that starts its turn next you you grants combat advantage to you and your allies until the end of its next turn.")],"barbarian","attack",19),
      Power("Hydra Rage",["primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("The target is dazed (save ends)."),
          Miss(),
          Effect("You enter the rage of the hydra.  Until the rage ends, once per round when you make an attack that misses, you can make a melee basic attack as a free action.")],"barbarian","attack",19),
      Power("Storm Drake Rage",["lightning","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Ongoing 10 lightning damage (save ends)."),
          Miss(),
          Effect("You enter the rage of the storm drake.  Until the rage ends, any enemy that hits you with a melee attack takes 5 lightning damage and is knocked prone.")],"barbarian","attack",19),
      Power("Winter Phoenix Rage",["cold","healing","primal","rage","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Ongoing 10 cold damage (save ends)."),
          Miss(),
          Effect(["You enter the rage of the winter phoenix.  Until the rage ends, you gain regeneration ",lambda x:x.mod("con")+5,".  In addition, the first time you drop to 0 hit points or fewer, you can spend a healing surge as an immediate interrupt."])],"barbarian","attack",19),
],"barbarianutility22":[
      Power("Last Stand",["primal"],"daily","immediate interrupt",
          [Trigger("You drop to 0 hit points or fewer and don't die"),
           Effect("You are dying but don't fall unconscious because of that condition.  At the end of your next turn, you fall unconscious if you are still dying."),
           Sustain("minor","You take 5 damage and don't fall unconscious.")],"barbarian","utility",22),
      Power("Primal Instinct",["healing","primal"],"daily","minor",
          [Effect("You gain blindsight 10 until the end of the encounter.")],"barbarian","utility",22),
      Power("Primal Vigor",["healing","primal"],"daily","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect(["Until the end of your next turn, you gain resistance ",lambda x:x.statret("level")/2+x.mod("con")," to all damage."])],"barbarian","utility",22),
      Power("Untouched",["healing","primal"],"daily","minor",
          [Effect(["You make a saving throw against each effect on you that a save can end.  You gain a +",MOD("con")," bonus to each saving throw."])],"barbarian","utility",22)
],"barbarianencounter23":[
      Power("Arcing Throw",["primal","weapon"],"encounter","standard",
          [Target("one creature",("ranged","5/10")),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Special("When you use this power, you can make the attack with a melee weapon as if it were a heavy thrown weapon.  If it is a magic weapon, it returns to your hand after the attack is resolved.")],"barbarian","attack",23),
      Power("Berserker's Shout",["fear","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
           Hit(["Each enemy adjacent to you takes a -",orfeat(2,CHAMOD,"thaneborn triumph")," penalty to all attack rolls until the end of your next turn."])],"barbarian","attack",23),
      Power("Crater Fall",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("You push the target 3 squares and knock it prone.  This forced movement ignores hindering terrain, such as a pit, between the target's starting square and its destination.  If you push the target through squares occupied by other enemies, those enemies are knocked prone."),
           Special(["When charging, you can use this power in place of a melee basic attack.  If you charge, you instead push the target ",MOD("str")," squares."])],"barbarian","attack",23),
      Power("Fatal Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD,orfeat(0,CONMOD,"rageblood vigor")]),["melee"]),
           Hit("The target cannot regain hit points until the start of your next turn.")],"barbarian","attack",23),
      Power("Feral Scythe",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])],"barbarian","attack",23),
      Power("Staggering Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("The target is stunned until the end of your next turn.")],"barbarian","attack",23),
],"barbariandaily25":[
      Power("Ash Hammer Rage",["primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Hit(["You push the target ",MOD("con")," squares."]),
          Miss("Half damage, and you push the target 1 square."),
          Effect(["You enter the rage of the ash hammer.  Until the rage ends, whenever you hit with an attack, you gain ",lambda x:x.mod("cha")+10," temporary hit points.  If that attack already grants temporary hit points, add ",MOD("cha")," to the number of temporary hit points gained."])],"barbarian","attack",25),
      Power("Blood Hunger Rage",["primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Hit("The target is dazed (save ends)."),
          Miss(),
          Effect("You enter the blood hunger rage.  Until the rage ends, you gain a bonus to attack rolls equal to the number of bloodied creatures within 3 squares of you.")],"barbarian","attack",25),
      Power("Blue Dragon Rage",["lightning","primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Hit("Ongoing 10 lightning damage (save ends)."),
          Miss(),
          Effect("You enter the rage of the blue dragon.  Until the rage ends, once per round when you hit a target with a melee attack, each enemy adjacent to that target takes 10 lightning damage.")],"barbarian","attack",25),
      Power("Storm Tempest Rage",["primal","rage","thunder","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Hit("You knock the target prone"),
          Miss(),
          Effect("You enter the rage of the stone tempest.  Until the rage ends, you can score a critical hit on a roll of 18-20.")],"barbarian","attack",25),
],"barbarianencounter27":[
      Power("Blood Wrath",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Special("You gain a +2 bonus to the attack roll if the target is bloodied."),
          Hit(["You gain a +",orfeat(2,CONMOD,"rageblood vigor")," bonus to attack rolls until the end of your next turn."])],"barbarian","attack",27),
      Power("Bonebreaker",["primal","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy leaves a square adjacent to you."),
           Target("the triggering enemy"),Atk([STRMOD],"fortitude", damage(4, [STRMOD]),["melee"]),
           Hit("The target takes 10 damage if it moves more than 1 square during the movement that this attack interrupts.")],"barbarian","attack",27),
      Power("Butcher's Feast",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
           Hit(["Until the end of your next turn, you can make a melee attack as a free action against any enemy adjacent to you that hits or misses you.",orfeat("",["  You also gain a +,",MOD("cha")," bonus to attack rolls until the end of your next turn."],"thaneborn triumph")])],"barbarian","attack",27),
      Power("Hurricane of Blades",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Effect("Make the attack three more times against the same target or different ones.")],"barbarian","attack",27),
      Power("Rampaging Dragon Strike",["primal","weapon"],"encounter","standard",
          [Target("one or two creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("You push the primary target 1 square."),
           Effect("You move your speed and then make a secondary attack."),
           Target("one creature other than the primary target"),Atk([STRMOD,1],"AC", damage(3, [STRMOD]),["melee"]),],"barbarian","attack",27)
],"barbariandaily29":[
      Power("Crimson Phoenix Rage",["fire","healing","primal","rage","weapon"],"daily","minor",
          [Target("each creature in burst",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Ongoing 10 fire damage (save ends)."),
          Miss(),
          Effect("You enter the rage of the crimson phoenix.  Until the rage ends, your at-will attack powers deal 1[W] extra fire damage on a hit.  In addition, whenever you drop to 0 hit points or fewer, you can spend a healing surge as an immediate interrupt.")],"barbarian","attack",29),
      Power("Rage of the Primal Beast",["primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Hit("Ongoing 10 damage (save ends)."),
          Miss(),
          Effect("You enter the rage of the Primal Beast.  Until the rage ends, you gain a bonus to attack rolls equal to the number of enemies you can see.")],"barbarian","attack",29),
      Power("Winter Ghost Rage",["cold","primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Hit("Ongoing 10 cold damage (save ends)."),
          Miss(),
          Effect("You enter rage o f the winter ghost.  Until the rage ends, you are insubstantial when you are bloodied.")],"barbarian","attack",29),
      Power("World Serpent Rage",["primal","rage","weapon"],"daily","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Miss(),
          Effect("You enter the rage of the World Serpent.  Until the rage ends, you can make a melee basic attack as a free action against any enemy adjacent to you that shifts.  In addition, on your turn, you gain a +5 bonus to damage rolls against any enemy that was adjacent to you at the start of your turn."),
          Special("When charging, you can use this power in place of a melee basic attack.")],"barbarian","attack",29),
]}
    addPowers(barbarianList)

def bard():
    bardList={"bardat-will1":[
     Power("Guiding Strike",["arcane","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(raising(1,20),[CHAMOD]),["melee"]),
          Hit(["The target takes a -2 penalty to the defense of your choice until the end of your next turn."])],"bard","at-will",1),
      Power("Jinx Shot",["arcane","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(raising(1,20),[CHAMOD]),["ranged"]),
          Hit("The-first time the target misses with an attack before the end of your next turn, it falls prone.")],"bard","at-will","1"),
     Power("Misdirected Mark",["arcane","implement"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([raising(1,20),8],[CHAMOD])),
           Hit("The target is marked by an ally within 5 squares of you until the end of your next turn.")],"bard","at-will",1),
     Power("Vicious Mockery",["arcane","charm","implement", "psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([raising(1,20),6],[CHAMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"bard","at-will",1),
      Power("War Song Strike",["arcane","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(raising(1,20),[CHAMOD]),["melee"]),
          Hit(["Any ally who hits the target before the end of your next turn gains ",MOD("con")," temporary hit points."])],"bard","at-will",1),
],"bardencounter1":[
     Power("Blunder",["arcane","charm","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([1,6],[CHAMOD])),
           Hit(["You slide the target 2 squares.  During the slide, you or one of your allies can make a melee basic attack against the target as a free action, with a +",orfeat(2,lambda x:x.mod("int")+1,"virtue of cunning")," power bonus to the attack roll."])],"bard","attack",1),
     Power("Fast Friends",["arcane","charm","implement"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", None)
          ,Hit("Choose yourself or an ally.  The target cannot attack that character until the end of the enxt turn or until you or one of your allies attacks the target.")],"bard","attack",1),
     Power("Inspiring Refrain",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"])
          ,Hit(["Each ally within 5 squares of you gains a +1 power bonus to attack rolls until the end of your next turn."])],"bard","attack",1),
     Power("Shout of Triumph",["arcane","implement","thunder"],"encounter","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([1,6],[CHAMOD]))
           ,Hit(["You push the target ",orfeat("1 square.",[CONMOD," squares."]," square.")])
           ,Effect(["You slide each ally in the blast ",orfeat("1 square.",[CONMOD," squares."],"virtue of valor")])],"bard","attack",1),
      Power("Firemetal Shot",["arcane","fire","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["ranged"]),
          Hit(["Until the end of your next turn, whenever an ally hits the target, the target takes ",MOD("int")," extra fire damage."])],"bard","encounter","1"),
      Power("Prophesied Strike",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["ranged"]),
          Hit("The next time you or an ally attacks the target before the end of your next turn, the attacker rolls a d20 twice and uses either result.")],"bard","encounter","1"),
      Power("Focused Sound",["arcane","implement","thunder"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([1,10],[CHAMOD])),
          Hit("Until the end of your next turn, any attack against the target can score a critical hit on a roll of 18-20.")],"bard","encounter","1"),
      Power("Prophetic Action",["arcane","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit(["Until the end of your next turn, the first time the target misses you or an ally with an attack, one target (your choice) of that attack can shift ",MOD("wis","min1")," squares as an immediate reaction."])],"bard","encounter","1"),
      Power("Thunder's Calling",["arcane","implement","thunder"],"encounter","standard",
          [Target("One creature",("ranged",5)),
          Atk([CHAMOD],"fortitude",damage([1,8],[CHAMOD])),
          Hit(["You slide the target ",MOD("con")," squares. If no creatures are adjacent to the target at the end of this movement, choose an ally within 10 squares of you to make a ranged basic attack against the target as a free action."])],"bard","encounter","1"),
],"barddaily1":[
     Power("Echoes of the Guardian",["arcane","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"])
           ,Hit("Until the end of your next turn, the target is marked by an ally within 5 squares of you.")
           ,Miss()
          ,Effect("Until the end of the encounter, once during each of your turns, choose an ally within 5 squares of you when you hit an enemy.  Until the end of your next turn, that enemy is marked by that ally.")],"bard","attack",1),
     Power("Slayer's Song",["arcane","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
          Hit("The target grants combat advantage to you and your allies (save ends)."),
          Miss(),
          Effect("Until the end of the encounter, whenever you hit an enemy, that enemy grants combat advantage to you and your allies until the end of your next turn.")],"bard","attack",1),
     Power("Stirring Shout",["arcane","healing","implement", "psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Effect(["Until the end of the encounter, whenever an ally hits the target, that ally regains ",MOD("cha")," hit points."])],"bard","attack",1),
      Power("Verse of Triumph",["arcane","charm","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
           Miss(),
           Effect("Until the end of the encounter, you and any ally within 5 squares of you gain a +1 power bonus to damage rolls and saving throws.  In addition, whenever you or an ally reduces an enemy to 0 hit points with an attack, you and any ally within 5 squares of the enemy can shift 1 square as a free action.")],"bard","attack",1),
      Power("Arrow Of Warning",["arcane","weapon"],"daily","immediate interrupt",
          [Trigger("An enemy within range makes an attack roll against an ally"),
          Target("The triggering enemy"),
          Atk([CHAMOD],"reflex",damage(3,[CHAMOD]),["ranged"]),
          Hit(["The ally who was attacked by the triggering enemy can make an at-will attack against that enemy as a free action. The ally gains a +",MOD("wis","min1")," bonus to this attack roll."]),
          Miss()],"bard","daily","1"),
      Power("Echoing Roar",["arcane","implement","thunder"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Effect("The target is affected by an echoing roar (save ends). While affected by the echoing roar, the target takes ongoing 5 thunder damage and cannot become hidden or benefit from concealment or cover (except for total concealment or superior cover).")],".bard","daily","1"),
      Power("Malevolent Mischief",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Miss("Half damage."),
          Effect("The target is affected by ill luck (save ends). While affected by ill luck, the target is slowed until the end of its next turn whenever you or an ally hits it with an attack.")],"bard","daily","1"),
      Power("Saga Of Rivalry",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(2,[CHAMOD]),["ranged"]),
          Miss("Half damage."),
          Effect("Choose an ally within 10 squares of you. The target takes 5 damage at the end of its turn if it is not adjacent to that ally (save ends). The ally gains a +2 power bonus to attack rolls against the target until the end of the encounter.")],"bard","daily","1"),
      Power("Satire Of Fortune",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Miss("Half damage."),
          Effect("The next time an ally misses the target with an attack during this encounter, you roll a d20 and replace the ally's attack roll with yours.")],"bard","daily","1"),
],"bardutility2":[
      Power("Hunter's Tune",["arcane"],"daily","minor",
          [Target("One ally",("ranged",10)),Effect("Until the end of your next turn, the target gains a +5 power bonus to Stealth checks and doesn't take a penalty to Stealth checks for moving more than 2 squares or running."),
           Sustain("minor","The effect persists if the target is within range.")],"bard","utility",2),
      Power("Inspire Competence",["arcane"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
           Effect("Choose a skill.  Until the end of the encounter, each target gains a +2 power bonus to his or her next check using that skill.")],"bard","utility",2),
      Power("Song of Courage",["arcane","zone"],"daily","minor",
          [Effect("The burst creates a zone of inspirational shoust that lasts until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  While within the zone, any ally gains a +1 power bonus to attack rolls."),
           Sustain()],"bard","utility",2),
      Power("Song of Defense",["arcane","zone"],"daily","minor",
          [Effect("The burst creates a zone of bolstering song that lasts until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  While within the zone, any ally gains a +1 power bonus to AC."),
           Sustain()],"bard","utility",2),
      Power("Canon Of Avoidance",["arcane"],"daily","standard",
          [Target("One ally",("ranged",10)),
          Effect("The target gains a +2 power bonus to all defenses until the end of your next turn."),
           Sustain("minor"," The effect persists. When you sustain the effect, you can transfer it to another ally within 10 squares of you.")],"bard","utility","2"),
      Power("Clockwork Precision",["arcane"],"daily","standard",
          [Target("You and each ally in burst",("close burst",10)),
          Effect("Until the end of the encounter, each target gains a +2 bonus to skill checks and to attack rolls made to aid another. When a target successfully aids another, he or she grants a +3 bonus instead of a +2 bonus.")],"bard","utility","2"),
      Power("Concerted Effort",["arcane"],"daily","standard",
          [Target("You and each ally in burst",("close burst",10)),
          Effect("Until the end of your next turn, each target gains a +1 power bonus to attack rolls. Whenever a target hits with at least one attack during his or her turn, the bonus increases by 1 for each target whose turn has not yet started.")],"bard","utility","2"),
      Power("Moment Of Escape",["arcane"],"encounter","move",
          [Target("One ally",("ranged",10)),
          Effect("You slide the target 4 squares.")],"bard","utility","2"),
      Power("Words Of Protective Fate",["arcane"],"daily","standard",
          [Target("You and each ally in burst",("close burst",10)),
          Effect("Until the end of the encounter, whenever a critical hit is scored on the target, you roll a d20. Ifyou roll a 10 or higher, the attack hits but is not a critical hit.")],"bard","utility","2"),
],"bardencounter3":[
     Power("Charger's Call",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"])
          ,Hit(["Each ally within 5 squares of you gains a +",orfeat(2,lambda x:1+x.mod("cha"),"virtue of valor")," bonus to attack rolls while charging until the end of your next turn."])],"bard","attack",3),
     Power("Cunning Ferocity",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"reflex", damage(1,[CHAMOD]),["melee"])
          ,Hit(["Each ally within 5 squares of you gains a +",orfeat(2,lambda x:1+x.mod("int"),"virtue of cunning")," bonus to damage rolls against the target until the end of your next turn."])],"bard","attack",3),
     Power("Dissonant Strain",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.  In addition, an ally within 5 squares of you can make a saving throw.")],"bard","attack",3),
      Power("Impelling Force",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([1,10],[CHAMOD])),
          Hit("You slide the target 5 squares to a space adjacent to one of your allies.")],"bard","attack",3),
      Power("Cruel Fate",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["ranged"]),
          Hit("The next time the target is hit by an attack before the end of your next turn, the attacker rerolls the attack's damage and uses the higher result.")],"bard","encounter","3"),
      Power("Entangling Opening",["arcane","psychic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"will",damage(2,[CHAMOD]),["ranged"]),
          Hit("The next time the target is hit by an attack before the end of your next turn, it is knocked prone.")],"bard","encounter","3"),
      Power("Recitation Of Foreknowledge",["arcane","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([1,6],[CHAMOD])),
          Hit("Until the end of your next turn, the target grants combat advantage to one ally within 10 squares of you."),
          Effect(["One ally within 10 squares of you gains a +",orfeat(4,MOD("wis",3),"virtue of presience")," bonus to AC against opportunity attacks until the end of your next turn."])],"bard","encounter","3"),
      Power("Rhyme Of The Blood-Seeking Blade",["arcane","weapon"],"encounter","immediate interrupt",
          [Trigger("An ally misses with a melee attack"),
          Target("The target of the triggering ally's attack"),
          Atk([CHAMOD],"reflex",damage(1,[CHAMOD]),["ranged"]),
          Hit(["The target takes a -",orfeat(4,MOD("wis",3),"virtue of prescience")," penalty to all defenses against the triggering ally's attack."])],"bard","encounter","3"),
      Power("Song Of The New Dawn",["arcane","implement","radiant"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("Each ally adjacent to the target makes a saving throw, rolling twice and using the higher result.")],"bard","encounter","3"),
],"barddaily5":[
     Power("Satire of Bravery",["arcane","implement","psychic"],"daily","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Hit(["The target is affected by your satire of bravery (save ends).  While the target is affected by the satire, if the target ends its turn closer to you than where it started its turn, the target takes ",dmg(CHAMOD,1,6)," and is dazed until the end of its next turn."]),
          Miss(),
          Effect("You push the target 3 squares.")],"bard","attack",5),
     Power("Song of Discord",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
          Hit("The target is dominated until the end of your next turn."),
          Effect("The target makes a basic attack against an enemy of your choice as a free action.")],"bard","attack",5),
     Power("Tune of Ice and Wind",["arcane","cold","implement"],"daily","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([CHAMOD],"AC", damage([2,6],[CHAMOD])),
          Hit("The target is slowed (save ends)."),
          Miss("Half damage, and The target is slowed until the end of your next turn."),
          Effect("You slide each ally in the burst 3 squares.")],"bard","attack",5),
     Power("Word of Mystic Warding",["arcane","psychic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3,[CHAMOD]),["melee"]),
           Hit(["Choose an ally within 5 squares of you.  If the target moves closer to that ally during the target's turn, the target takes ",MOD("cha")," psychic damage (save ends)."]),
           Miss()],"bard","attack",5),
      Power("Arrow Of Ill Omen",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(2,[CHAMOD]),["ranged"]),
          Miss(),
          Effect("Choose an ally within 10 squares of you. Until the end of the encounter; when that ally hits the target but does not score a critical hit, you roll a d20. Ifyou roll a 15 or higher; that attack becomes a critical hit, and this effect ends.")],"bard","daily","5"),
      Power("Compulsion",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("You slide the target 5 squares either at the start of its turn or at the end of its turn (save ends). until it saves, the target cannot take move actions on its turn."),
          Miss("Half damage. You slide the target 5 squares either at the start of its turn or at the end of its next turn, and it cannot take move actions on its next turn.")],"bard","daily","5"),
      Power("Rhyme Of Fire",["arcane","fire","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Miss("Half damage."),
          Effect(["Until the end of the encounter, whenever an ally hits the target, the target ",MOD("cha")," fire damage."])],"bard","daily","5"),
      Power("Strictures Of Fortune",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([3,8],[CHAMOD])),
          Miss("Half damage."),
          Effect("The next time the target would recharge a power before the end of the encounter, the power instead does not recharge, and you or an ally within 10 squares of you regains the use of an encounter power.")],"bard","daily","5"),
      Power("Vigorous Cadence",["arcane","healing","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Miss("Half damage."),
          Effect(["Until the end of the encounter, whenever the target makes an attack roll, your ally nearest to it regain ",MOD("cha")," hit points."])],"bard","daily","5"),
],"bardutility6":[
      Power("Allegro",["arcane"],"daily","minor",
          [Target("You and each ally in burst",("close burst",10)),
           Effect("You slide each target 2 squares.")],"bard","utility",6),
      Power("Ode to Sacrifice",["arcane"],"encounter","minor",
          [Target("one ally in burst",("close burst",5))
           ,Effect(["You transfer one effect on the target that a save can end to yourself or to another ally in the burst.  The new subject of the effect gains a +",MOD("con")," power bonus to saving throws against that effect."])],"bard","utility",6),
      Power("Song of Conquest",["arcane"],"encounter","minor",
          [Effect(["Until the end of your next turn, any ally within 5 squares of you who hits an enemy gains ",lambda x:x.mod("con")+3," temporary hit points."])],"bard","utility",6),
      Power("Trickster's Healing",["arcane","healing"],"daily","immediate reaction",
          [Trigger("An attack misses an ally within 10 squares of you."),
           Target("Each ally in burst missed by the triggering attack.",("close burst",10)),
           Effect(["Each target regains ",lambda x:x.statret("level")/2+x.mod("int")," hit points."])],"bard","utility",6),
      Power("Chord Of Resilience",["arcane"],"encounter","immediate interrupt",
          [Trigger("An attack hits an ally",("ranged",10)),
          Target("The ally who was hit",("ranged",10)),
          Effect(["The damage the target takes is reduced by ",MOD("cha",5),"."])],"bard","utility","6"),
      Power("Dramatic Shift",["arcane"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Until the end of your next turn, each target can shift as a minor action.")],"bard","utility","6"),
      Power("Glimpse The Future",["arcane"],"daily","minor",
          [Effect("Roll a d20 three times and keep the highest roll. Once before the end of the encounter, you can use this roll to replace a d20 roll of an ally within 10 squares of you.")],"bard","utility","6"),
      Power("Song Of Speed",["arcane"],"encounter","minor",
          [Target("You or an ally",("ranged",10)),
          Effect("Until the end of your next turn, the target gains a +4 power bonus to speed and can shift 1 extra square whenever he or she shifts.")],"bard","utility","6"),
      Power("Synchronicity",["arcane"],"daily","no",
          [Target("You and each ally in burst",("close burst",10)),
          Trigger("You roll initiative"),
          Effect("Each target gains a +5 bonus to initiative during this encounter.",("close burst",10))],"bard","utility","6"),
],"bardencounter7":[
     Power("Deflect Attention",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Hit("You or an ally within 10 squares of you becomes invisible to the target until the end of your next turn.")],"bard","attack",7),
     Power("Distracting Shout",["arcane","implement","thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,8],[CHAMOD])),
          Hit(["The target takes a -",orfeat(5,lambda x:x.mod("int")+4,"virtue of cunning")," penalty to opportunity attack rolls until the end of your next turn."])],"bard","attack",7),
     Power("Scorpion's Claw Strike",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
          Hit(["You slide an ally who is adjacent to the target to another space adjacent to it.",orfeat("",["  Until the end of your next turn, the ally also gains a +",MOD("con")," power bonus to AC"],"virtue of valor")])],"bard","attack",7),
     Power("Unluck",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"reflex", damage([1,8],[CHAMOD]))
          ,Hit("The next time the target makes an attack roll before the end of your next turn, you roll a d20 and can replace the target's roll with yours.  In addition, choose an ally within 5 squares of you.  The next time that ally attacks the target before the end of your next turn, you roll a d20 and can replace the ally's roll with yours.")],"bard","attack",7),
      Power("Chillsong Stroke",["arcane","cold","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(2,[CHAMOD]),["melee"]),
          Hit("The target is slowed until the end of your next turn. an ally within 3 squares of you can shift 4 squares as a free action.")],"bard","encounter","7"),
      Power("Insightful Shot",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"reflex",damage(2,[CHAMOD]),["ranged"]),
          Hit(["All the target's defenses are equal to its lowest defense until the next time it is hit by an attack.",orfeat("",["  The next attack that hits the target gains a +",MOD("int")," bonus to the damage roll."],"virtue of prescience")])],"bard","encounter","7"),
      Power("Rewrite The Future",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["ranged"]),
          Hit("You roll a d20. until the end of your next turn, you can replace an ally's attack roll against the target with your d20 roll or replace the target's attack roll with your d20 roll as a free action.")],"bard","encounter","7"),
      Power("Song Of Duplicitous Allure",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("You pull the target 2 squares. Until the end of your next turn, each time the target is hit by a ranged attack, you pull it 1 square.")],"bard","encounter","7"),
      Power("Theft Of Life",["arcane","healing","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Effect(["An ally adjacent to the target can spend a healing surge and also gains ",MOD("int")," temporary hit points."])],"bard","encounter","7"),
      Power("Timely Distraction",["arcane","charm","implement; psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Other("The target grants combat advantage until the end of your next turn.")],"bard","encounter","7"),
],"barddaily9":[
     Power("Forceful Conduit",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,8],[CHAMOD])),
          Hit("The target is affected by forceful conduit (save ends).  Choose an ally within 10 squares of you.  While the target is affected by this forceful conduit, that ally can make implement attacks during his or her turn as if occupying the target's space."),
          Miss("Half damage.  Until the end of your next turn, an ally within 10 squares of you can make implement attacks during his or her turn as if occupying the target's space.")],"bard","attack",9),
     Power("Hideous Laughter",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("The target can't take opportunity actions and takes a -2 penalty to attack rolls (save ends both)."),
          Aftereffect("The target can't take opportunity actions."),
          Miss("Half damage, and the target can't take opportunity actions until the end of your next turn.")],"bard","attack",9),
     Power("Hymn of the Daring Rescue",["arcane","teleportation","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"reflex", damage(3,[CHAMOD]),["melee"]),
          Effect("Choose an ally within 5 squares of you.  Until the end of the encounter, that ally can teleport to a space adjacent to you as a move action.")],"bard","attack",9),
     Power("Thunder Blade",["arcane","thunder","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3,[CHAMOD]),["melee"]),
           Hit("You slide the target 2 squares."),
          Effect("Until the end of the encounter, whenever you hit a target with an at-will attack power, you slide the target 2 squares to a space that must be adjacent to at least one of your allies.")],"bard","attack",9),
      Power("Counterpoint",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Miss("Half damage."),
          Effect("Whenever the target misses with an attack, it provokes opportunity attacks from you and your allies (save ends).")],"bard","daily","9"),
      Power("Rain Of Starlight",["arcane","radiant","implement"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"reflex",damage([2,6],[CHAMOD])),
          Miss("Half damage."),
          Effect("The target is affected by showering sparks (save ends). While affected by showering sparks, the target grants combat advantage. In addition, it gains no benefit from concealment, total concealment, or invisibility.")],"bard","daily","9"),
      Power("Saga Of Vengeance",["+- arcane","healing","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(3,[CHAMOD]),["ranged"]),
          Miss("Half damage."),
          Effect(["Until the end of the encounter, whenever an ally hits the target with an attack, that ally can choose to roll a saving throw or to regain ",MOD("cha")," hit points."])],"bard","daily","9"),
      Power("Symphony Of Misfortune",["arcane","implement","psychic","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"will",damage([1,10],[CHAMOD])),
          Miss("Half damage."),
          Effect("The burst creates a zone of misfortune that lasts until the end of your next turn. Choose one of the following misfortune effects; until the end of your next turn, each enemy that starts its turn within the zone is subject to that effect."),
          Line("-The enemy is slowed."),
          Line(["-The enemy takes ",MOD("cha"), " psychic damage"]),
          Line("-The enemy grants combat advantage to your allies."),
        Sustain("minor"," The zone persists. You can choose a new misfortune effect for the zone when you sustain this power.")],"bard","daily","9"),
      Power("Wail Of Anguish",["arcane","implement"],"daily","minor",
          [Effect("Until the end of your next turn, you can make the following attack."),
           Other("Opportunity Action"),
          Trigger("An enemy starts its turn within 3 squares of you"),
          Target("The triggering enemy in burst",("close burst",3)),
          Atk([CHAMOD],"will",damage([1,10],[CHAMOD])),
          Hit("The target cannot shift until the end of your next turn."),
          Sustain("minor"," The effect persists.")],"bard","daily","9"),
],"bardutility10":[
      Power("Illusory Erasure",["arcane","illusion"],"encounter","minor",
          [Target("One ally",("ranged",10)),
          Effect("The target becomes invisible until the end of your next turn, and you slide the target 2 squares.")],"bard","utility",10),
      Power("Song of Recovery",["arcane"],"encounter","minor",
          [Effect("Until the end of your next turn, any ally within 5 squares of you gains a +2 power bonus to saving throws.")],"bard","utility",10),
      Power("Veil",["arcane", "illusion"],"daily","minor",
          [Target("You and each ally in burst",("close burst",10)),
           Effect("You transform the auditory, tactile, and visual qualities of the targets' bodies and equipment.  Each target assumes the appearance of a humanoid of the same size, even the appearance of a specific individual you have seen.  The illusion lasts for 1 hour, or you can end it as a minor action.  A creature can recognize a target's form as illusory with an insight check opposed by that target's Bluff check with a +5 power bonus.")],"bard","utility",10),
      Power("Word of Life",["arcane","healing"],"daily","immediate reaction",
          [Trigger("An enemy attack reduces an ally within 20 squares of you to 0 hit points or fewer."),
           Target("The triggering ally in burst",("close burst",20)),
          Effect("The target can spend a healing surge.  In addition, the attacking enemy takes a -5 penalty to all defenses until the end of your next turn.")],"bard","utility",10),
      Power("Break Enchantment",["arcane","implement"],"daily","minor",
          [Target("Each ally in burst",("area burst",1,10)),
          Effect(["The target rolls a saving throw. If the saving throw is against a charm, a fear, or an illusion effect, the target gains a +",MOD("cha")," bonus to the saving throw."])],"bard","utility","10"),
      Power("Chant Of Accuracy",["arcane"],"daily","minor",
          [Target("You and each ally in burst",("close burst",10)),
          Effect("Each target gains a +2 power bonus to attack rolls until the end of your next turn.")],"bard","daily","1"),
      Power("Idyll Of Calm",["arcane","zone"],"daily","minor",
          [Effect("The burst creates a zone of calm that lasts until the end of the encounter. When you move, the zone moves with you, remaining centered on you. Each ally within the zone gains a +2 power bonus to Will, and any penalty to attack rolls that such an ally takes is lessened by 2.",("close burst",5))],"bard","daily","1"),
      Power("Illuminating Stars",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, you and any allies within 5 squares of you gain a +5 power bonus to Insight checks and Perception checks.")],"bard","daily","1"),
      Power("Mantle Of Unity",["arcane"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Determine the highest AC, Fortitude, Reflex, and Will among all the targets. Until the end of your next turn, use these values for the corresponding defenses of all the targets.")],"bard","utility","10"),
      Power("Savior's Song",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, each ally who ends his or her turn within 5 squares of you can reroll one saving throw that he or she fails during that turn.")],"bard","utility","10"),
],"bardencounter13":[
     Power("Earthquake Strike",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
          Hit(["You knock the target prone.  Until the end of your next turn, each ally within 10 squares of you can knock prone any creature he or she hits.",orfeat("",["  Until the end of your next turn, the allies gain a +",MOD("con")," bonus to damage rolls."],"virtue of valor")])],"bard","attack",13),
     Power("Foolhardy Fighting",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([1,10],[CHAMOD])),
           Hit(["Until the end of your next turn, any attack the target makes provokes opportunity attacks.",orfeat("",["  Until the end of your next turn, the target takes a -",MOD("int")," penalty to attack rolls."],"virtue of cunning")])],"bard","attack",13),
     Power("Harmony of the Two",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
           Hit("An ally within 2 squares of you can make a basic attack against the target as a free action."),],"bard","attack",13),
     Power("Song of Storms",["arcane","implement","lightning"],"encounter","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([CHAMOD],"reflex", damage([2,6],[CHAMOD])),
           Effect("If the attack hits at least once, each ally in the blast deals 1d6 extra lightning damage whenever he or she hits before the end of your next turn.")],"bard","attack",13),
      Power("Couplet Of Deceptive Weakness",["arcane","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy moves into a square adjacent to you"),
          Target("The triggering enemy"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["melee"]),
          Hit("An ally within 5 squares of you can shift 5 squares as a free action. That ally must end this movement adjacent to the target and then can make a melee basic attack against the target as a free action.")],"bard","encounter","13"),
      Power("Enduring Struggle",["arcane","healing","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(3,[CHAMOD]),["ranged"]),
          Hit(["Each ally within 3 squares of the target regains ",MOD("cha")," hit points."])],"bard","encounter","13"),
      Power("Insult Of Passivity",["arcane","fear","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("The target is dazed until the end of the encounter or until it is hit or missed by an attack.")],"bard","encounter","13"),
      Power("Sharp Retort",["arcane","implement","psychic"],"encounter","immediate interrupt",
          [Trigger("An enemy rolls a saving throw",("ranged",10)),
          Target("The triggering enemy",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit(["The target takes a -",orfeat(2,MOD("wis",1),"virtue of prescience")," penalty to the saving throw."])],"bard","encounter","13"),
      Power("Slippery Feet",["arcane","cold","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("The target is slowed until the end of your next turn. whenever the target is hit by an attack while it is slowed by this power, you slide the target 1 square.")],"bard","encounter","13"),
],"barddaily15":[
     Power("Confusing Chorus",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
          Hit("As the first action of each of the target's turns, the target makes a melee basic attack against a creature of your choice as a free action (save ends)."),
          Miss("Half damage.  As the first action of the target's next turn, the target makes a melee basic attack against a creature of your choice as a free action.")],"bard","attack",15),
     Power("Dance of Biting Wind",["arcane","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
          Hit("The target takes a -2 penalty to attack rolls (save ends)."),
          Effect("Until the end of the encounter, whenever an enemy's attack misses you or an ally within 5 squares of you, the target of the attack can shift 1 square as a free action.")],"bard","attack",15),
     Power("Menacing Thunder",["arcane","thunder","implement","zone"],"daily","standard",
          [Target("each enemy in burst",("close burst",2)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
          Effect("The burst creates a zone of resonating thunder that lasts until the end of the encounter.  While within the zone, any ally gains a +2 power bonus to attack rolls.")],"bard","attack",15),
     Power("Quick Steel Dance",["arcane","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3,[CHAMOD])),
          Hit("Until the end of your next turn, the target is marked by an ally within 10 squares of you."),
          Miss(),
          Effect("Until the end of the encounter, whenever an enemy that is adjacent to any of your allies shifts, those allies can each shift 1 square as an opportunity action.")],"bard","attack",15),
      Power("Fated Vulnerability",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"reflex",damage(2,[CHAMOD]),["ranged"]),
          Hit("Choose acid, cold, fire, force, lightning, or thunder. The target grants combat advantage and gains vulnerable 10 to attacks that have the chosen keyword (save ends both)."),
          Miss("Half damage. Choose acid, cold, fire, force, lightning, or thunder. Until the end of your next turn, the target grants combat advantage and gains vulnerable 10 to attacks that have the chosen keyword.")],"bard","daily","15"),
      Power("Hole In The Mind",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([3,8],[CHAMOD])),
          Hit("One ally within 10 squares of you becomes invisible to the target (save ends)."),
          Miss("Half damage. One ally within 10 squares of you becomes invisible to the target until the end of your next turn.")],"bard","daily","15"),
      Power("Iceshard Shot",["arcane","cold","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(1,[CHAMOD]),["ranged"]),
          Miss("Half damage."),
          Effect("The target takes ongoing 10 cold damage (save ends). Ifyou or an ally hits the target with an attack, it automatically fails its next saving throw against this effect.")],"bard","daily","15"),
      Power("Satire Of Evasion",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,6],[CHAMOD])),
          Hit("The target is affected by your satire of evasion (save ends). While the target is affected by the satire, whenever an ally misses it with an attack, you can roll a d20 and replace the ally's die roll with yours."),
          Miss("Half damage. Until the end of your next turn, whenever an ally misses the target with an attack, you can roll a d20 and replace the ally's die roll with yours.")],"bard","daily","15"),
      Power("Wall Of Sound",["arcane","conjuration","implement","thunder"],"daily","standard",
          [Effect(["You conjure a wall of contiguous squares filled with deafening thunder that lasts until the end of your next turn. The wall can be up to 4 squares high. A creature that starts its turn adjacent to the wall takes ",dmg(CHAMOD,1,6),". If a creature moves into the wall's space or starts its turn there, the creature takes ",dmg(CHAMOD,1,10),", and it is deafened until the end of the encounter. Each enemy that is hit by an attack while it is adjacent to the wall or in the wall's space is dazed until the end of its next turn. Entering a square occupied by the wall costs 1 extra square of movement."],("area wall",6,10)),
           Sustain("minor"," The wall persists.")],"bard","daily","15"),
      Power("Wracking Radiance",["arcane","healing","implement","radiant"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Miss(),
          Effect("The target takes ongoing 5 radiant damage (save ends). Whenever the target fails a saving throw against this effect, each ally within 5 squares of the target regains 5 hit points."),
          Aftereffect("Each ally within 5 squares of the target regains 5 hit points and also gains a +2 power bonus to AC until the end of the target's next turn.")],"bard","daily","15"),
],"bardutility16":[
      Power("Blink Zone",["arcane","teleportation","zone"],"daily","standard",
          [Effect("The burst creates a zone of planar instability that lasts until the end of your nex turn.  While within the zone, you and any ally gain a +2 power bonus to AC and Reflex and can teleport 2 squares as a move action.",("area burst",2,10)),
           Sustain()],"bard","utility",16),
      Power("Chorus of Recovery",["arcane"],"daily","minor",
          [Effect("The burst creats a zone of rejuvenation that lasts until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  Any ally who starts his or her turn within the zone can make a saving throw."),
           Sustain()],"bard","utility",16),
      Power("Elegy of the Undefeated",["arcane","healing"],"daily","standard",
          [Target("One dying ally in burst",("close burst",5)),
           Effect("The target regains hit points as if he or she has spent two healing surges.  The target can then stand up as a free action.")],"bard","utility",16),
      Power("Song of Sublime Snowfall",["arcane","healing","zone"],"daily","standard",
          [Target("Each ally in burst",("area burst",2,10)),
           Effect(["Each target regains ",MOD("cha")," hit points.  The burst creates a zone of difficult terrain for enemies that lasts until the end of your next turn.  This difficult terrain also affects flying enemies."]),
           Sustain("minor",["The zone persists, and each target within the zone regains ",MOD("cha")," hit points."])],"bard","utility",16),
      Power("Allied Rhythm",["arcane"],"encounter","minor",
          [Target("You or an ally",("ranged",10)),
          Effect("Until the end of your next turn, the target gains a power bonus to each of his or her attack rolls equal to the number of allies adjacent to the target of each of those attacks.")],"bard","utility","16"),
      Power("Chorus Of Vitality",["arcane","healing"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Each target can spend a healing surge. Also, each target can shift 2 squares as a free action.")],"bard","utility","16"),
      Power("Haste",["arcane"],"daily","minor",
          [Target("You or an ally",("ranged",10)),
          Effect("The target gains and immediately uses a standard action.")],"bard","utility","16"),
      Power("Heroic Interjection",["arcane"],"daily","immediate reaction",
          [Trigger("An enemy within 10 squares of you spends an action point",("ranged",10)),
          Target("You or an ally",("ranged",10)),
          Effect("The target gains an action point that he or she must spend before the end of the encounter. In addition, the target can spend 2 action points during this encounter instead of 1.")],"bard","utility","16"),
],"bardencounter17":[
     Power("Masks of Menace",["arcane","fear","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
           Hit("Choose an ally within 5 squares of you.  Until the end of your next turn, the target takes a -5 penalty to attack rolls for any attack that doesn't include that ally as a target.")],"bard","attack",17),
     Power("Shout of Evasion",["arcane","implement","thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD]))
          ,Hit(["You and each ally within 10 squares of you can shift ",orfeat(2,lambda x:x.mod("int")+1,"virtue of cunning")," squares as a free action."])],"bard","attack",17),
     Power("Song of Summons",["arcane","teleportation","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"])
          ,Hit(["You teleport an ally within 10 squares of you to a space adjacent to you.",orfeat("",["  Until the end of your next turn, the ally also gains a +",MOD("con")," power bonus to attack rolls against the target."],"virtue of valor")])],"bard","attack",17),
     Power("Word of Vulnerability",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3,[CHAMOD]),["melee"]),
          Hit(["Until the end of your next turn, each ally who hits the target and has combat advantage against it deals ",MOD("cha")," extra damage."])],"bard","attack",17),
      Power("Balance Of Fortune",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"will",damage(2,[CHAMOD]),["ranged"]),
          Hit(["Until the end of your next turn, whenever the target makes an attack roll, you roll a d",orfeat("4","6","virtue of prescience")," and subtract your roll from the target's attack roll. until the end of your next turn, whenever an ally makes an attack roll against the target, you roll a d4 and add your roll to your ally's attack roll."])],"bard","encounter","17"),
      Power("Inescapable Fate",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(3,[CHAMOD]),["ranged"]),
          Hit("Until the end of your next turn, when the target is hit by an attack, the attacker rerolls the attack's damage roll and uses the higher result.")],"bard","encounter","17"),
      Power("Resounding War Cry",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Hit("If an ally hits the target with an attack before the end of your next turn, the target is dazed until the end of your next turn.")],"bard","encounter","17"),
      Power("Strings Of Fate",["arcane","weapon"],"encounter","standard",
          [Target("One, two, or three creatures"),
          Atk([CHAMOD],"reflex",damage(1,[CHAMOD]),["ranged"]),
          Hit("Until the end of your next turn, attacks against the target's ac instead target its reflex.")],"bard","encounter","17"),
      Power("Turning The Tide",["arcane","healing","implement"],"encounter","standard",
          [Target("Each enemy in blast",("close blast",3)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("Until the end of your next turn, each ally who hits the target can spend a healing surge. an ally can spend only one healing surge in this way.")],"bard","encounter","17"),
],"barddaily19":[
     Power("Encircling Dance",["arcane","implement","radiant"],"daily","standard",
          [Target("one or two creatures",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,8],[CHAMOD])),
          Miss(),
          Effect("You and each ally within 10 squares of you can shift 5 squares as a free action.")],"bard","attack",19),
     Power("Increasing the Tempo",["arcane"],"daily","standard",
          [Target("one ally",("ranged",10)),
          Effect("The target makes four basic attacks as a free action.  No more than two of the attacks can be against a single target.")],"bard","attack",19),
     Power("Irresistible Dance",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
          Hit("The target grants combat advantage to you and your allies (save ends)."),
          Miss(),
          Effect(["You slide each target ",MOD("cha")," squares."])],"bard","attack",19),
     Power("Satire of Prowess",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([4,6],[CHAMOD])),
          Hit("The target is affected by your satire of prowess (save ends).  While the target is affected by the satire, the target rolls twice when it makes an attack roll and must use the lower roll, and any attacker rolls twice when it makes an attack roll against the target and must use the higher roll."),
          Miss("Half damage.  Until the end of your next turn, the target rolls twice when it makes an attack roll and must use the lower roll, and any attacker rolls twice when it makes an attack roll against the target and must use the higher roll.")],"bard","attack",19),
      Power("Corralling Song",["arcane","implement","psychic"],"daily","standard",
          [Target("Each enemy in burst",("area burst",2,10)),
          Atk([CHAMOD],"will",damage([2,6],[CHAMOD])),
          Hit("If the target is not adjacent to an enemy, you can slide the target 3 squares to a space that must be adjacent to an enemy."),
          Miss("Half damage. If the target is not adjacent to an enemy, you can slide it 1 square to a space that must be adjacent to an enemy."),
          Effect("Each target that is adjacent to an enemy after this attack is resolved takes 10 psychic damage at the end of its turn if it is not adjacent to an enemy at that time (save ends).")],"bard","daily","19"),
      Power("Linked Fortunes",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(4,[CHAMOD]),["ranged"]),
          Miss("Half damage."),
          Effect("The target is affected by linked fortunes (save ends). While it is affected by linked fortunes, as an immediate interrupt, when the target is missed by an ally's attack, you can roll a d20 and replace the ally's attack roll with yours. Whenever you do so, the target can roll a d20 once during its next turn and replace its attack roll with that roll.")],"bard","daily","19"),
      Power("Mocking Epigram",["arcane","charm","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([3,8],[CHAMOD])),
          Hit("The target is affected by your mocking epigram (save ends). while affected by the mocking epigram, the target is weakened, and whenever it hits an ally with an attack, that attack also hits one enemy of your choice within range of that attack, including the target itself. the target cannot hit a given enemy more than once with a single attack."),
          Miss("Half damage. Until the end of your next turn, the target is weakened, and whenever it hits an ally with an attack, that attack also hits one enemy of your choice within range of that attack, including the target itself. The target cannot hit a given enemy more than once with a single attack.")],"bard","daily","19"),
      Power("Saga Of The Harrying Foe",["arcane","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"will",damage(2,[CHAMOD]),["ranged"]),
          Hit("You slide the target 5 squares to a space that must be adjacent to an ally. that ally gains a +2 power bonus to attack rolls against the target until the end of the encounter. In addition, the target takes 10 psychic damage at the end of its turn if it is not adjacent to that ally (save ends)."),
          Miss("Half damage, and you slide the target 5 squares to a space that must be adjacent to an ally. That ally gains a +1 power bonus to attack rolls against the target until the end of the encounter. In addition, the target takes 5 psychic damage at the end of its turn if it is not adjacent to that ally (save ends).")],"bard","daily","19"),
      Power("Spring To Action",["arcane","implement","teleportation","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,20)),
          Atk([CHAMOD],"reflex",damage([4,6],[CHAMOD])),
          Miss("Half damage."),
          Effect("The burst creates a zone of warped space that lasts until the end of your next turn. While the zone persists, you and any allies within 20 squares of you can use a move action to teleport to an unoccupied space within the zone."),
          Sustain("minor"," The zone persists.")],"bard","daily","19"),
],"bardutility22":[
      Power("Elegy Unwritten",["arcane","healing"],"daily","immediate interrupt",
          [Trigger("An ally within 5 squares of you dies"),
           Target("The triggering ally in burst",("close burst",5)),
           Effect("The target regains hit points as if he or she had spent a healing surge.  In addition, the target can stand up and shift 2 squares as a free action.")],"bard","utility",22),
      Power("Invisible Troupe",["arcane","illusion"],"encounter","minor",
          [Target("you and each ally in burst",("close burst",3)),Effect("Each target becomes invisible until the end of your next turn.")],"bard","utility",22),
      Power("Mirrored Entourage",["arcane", "illusion"],"daily","minor",
          [Target("Each ally in burst",("close burst",20)),
           Effect("Each target gains two illusoory duplicates of him- or herself that lasts until the end of the encounter.  Until the duplicates disappear, the duplicates share the target's space and move with him or her.  In addition, the target gains a +4 power bonus to AC.  When an attack against AC misses the target, one of that target's duplicates disappears, and the power bonus to AC decreases by 2.")],"bard","utility",22),
      Power("Song of Transition",["arcane","teleporation","zone"],"daily","minor",
          [Effect("You create a zone of music that lasts until the end of your next turn.  While within the zone, you and any ally can teleport to any space within 10 squares of you as a move action.",("area burst",1,10)),
           Sustain()],"bard","utility",22),
      Power("Assured Recovery",["arcane"],"encounter","immediate interrupt",
          [Trigger("An ally fails a saving throw",("ranged",10)),
          Target("The triggering ally",("ranged",10)),
          Effect(["The target rerolls the saving throw with a +",MOD("cha")," bonus."])],"bard","utility","22"),
      Power("Note Of Aggression",["arcane"],"encounter","minor",
          [Target("You or one ally in burst",("close burst",10)),
          Effect("The target can charge or make a melee basic attack as a free action.")],"bard","utility","22"),
      Power("Climactic Chord",["arcane"],"daily","minor",
          [Target("Each ally in burst",("close burst",10)),
          Effect(["Each target can make a basic attack or use an at-will attack power as a free action, with a +",MOD("cha")," power bonus to the attack roll and the damage roll."])],"bard","utility","22"),
      Power("Ode To The Daring",["arcane","healing"],"daily","minor",
          [Target("You and each ally in burst",("close burst",10)),
          Effect(["Each target regains hit points as if he or she had spent a healing surge. Add 1d10 + ",MOD("cha")," to the hit points regained by each target. Each target can also roll a saving throw."])],"bard","utility","22"),
],"bardencounter23":[
     Power("Echoes in Time",["arcane","force","implement","teleportation"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,8],[CHAMOD])),
           Hit(["Each ally wtihin 10 squares of you, as the last action of his or her next turn, can teleport as a free action back to the space where he or she started their turn.",orfeat("",["  Until the start of your next turn, any ally who teleports using this power gains a +",MOD("int")," power bonus to all defenses."],"virtue of cunning")])],"bard","attack",23),
     Power("Rhythm of Disorientation",["arcane","implement","thunder"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([CHAMOD],"will", damage([1,6],[CHAMOD])),
           Hit("You knock the target prone.  In addition, any ally of yours adjacent to the target can make a melee basic attack against it as a free action.")],"bard","attack",23),
     Power("Song of Liberation",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"reflex", damage(4,[CHAMOD]),["melee"]),
           Hit("The immobilized, restrained, and slowed conditions end on each ally within 5 squares of you, provided a save can end the condition.")],"bard","attack",23),
     Power("Weal and Woe",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3,[CHAMOD]),["melee"]),
           Hit(["One ally adjacent to the target makes a saving throw with a +5 power bonus.",orfeat("",["  The ally gains a +",MOD("con")," power bonus to his or her next attack roll against the target."],"virtue of valor")])],"bard","attack",23),
      Power("Chant Of Bad Fortune",["arcane","implement","psychic"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",5)),
          Atk([CHAMOD],"will",damage([3,6],[CHAMOD])),
          Hit("The target takes a -5 penalty to saving throws until the end of your next turn."),
          Effect("Each ally in the burst can roll a saving throw.")],"bard","encounter","23"),
      Power("Mind Game",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("Until the end of your next turn, each ally who makes an attack roll against the target can choose to target its will instead of the defense normally targeted by the ally's attack.")],"bard","encounter","23"),
      Power("Reverberating Shot",["arcane","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"reflex",damage(3,[CHAMOD]),["ranged"]),
          Hit(["Each ally within 5 squares of the target chooses to gain a +",orfeat(2,MOD("wis",1),"virtue of prescience")," power bonus either to ac or to attack rolls until the end of your next turn."])],"bard","encounter","23"),
      Power("Sound Strike",["arcane","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(3,[CHAMOD]),["ranged"]),
          Hit("The next attack roll made against the target before the end of your next turn targets all of its defenses. For each defense the attack hits beyond the first, the attack deals 1d10 extra damage.")],"bard","encounter","23"),
],"barddaily25":[
     Power("Adversarial Song",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([3,10],[CHAMOD])),
           Miss(),
          Effect("Choose an ally within 10 squares of you.  The target deals half damage to any of your allies except the chosen ally (save ends).  In addition, that ally deals 1d10 extra damage on a hit against the target until the end of the encounter.")],"bard","attack",25),
     Power("Fraught with Failiure",["arcane","charm","psychic","weapon"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
          Hit("The target is immobilized (save ends) and weakened (save ends)."),
          Miss("Half damage, and the target is immobilized and weakened until the end of your next turn.")],"bard","attack",25),
     Power("Frenzied Rhythm",["arcane","charm","implement"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),Atk([CHAMOD],"will", None),
          Hit("You slide the target 5 squares.  The target makes a basic attack as a free action against a creature of your choice.  The target is then stunned until the end of your next turn."),
          Miss("The target is dazed until the end of your next turn.")],"bard","attack",25),
     Power("Vision Distortion",["arcane","illusion","implement","radiant"],"daily","standard",
          [Target("one creature",("area burst",2,10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("The target's vision is distorted (save ends).  While the target's vision is distorted, you are invisible to the target, and whenever an ally hits it, that ally becomes invisible to the target until the end of the ally's next turn."),
          Miss("Half damage, and you are invisible to the target until the end of your next turn.")],"bard","attack",25),
      Power("Intimidating Visage",["arcane","fear","implement","psychic"],"daily","standard",
          [Target("Each enemy in burst that is adjacent to you or an ally",("close burst",10)),
          Atk([CHAMOD],"will",damage([1,10],[CHAMOD])),
          Hit("The target takes 10 psychic damage at the end of its turn if it is not adjacent to you or an ally within 10 squares of you."),
          Miss("Half damage, and you slide the target 1 square.")],"bard","daily","25"),
      Power("Leave It Dead",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"fortitude",damage(3,[CHAMOD]),["ranged"]),
          Hit("Until the end of the encounter, whenever you or an ally rolls the maximum result on any damage die against the target, reroll the die and add that result as extra damage to the total damage dealt."),
          Miss("Half damage. Until the end of your next turn, whenever you or an ally rolls the maximum result on any damage die against the target, reroll the die and add that result as extra damage to the total damage dealt.")],"bard","daily","25"),
      Power("Sculpt Fate",["arcane","implement","psychic"],"daily","standard",
          [Target("Each enemy in burst",("area burst",2,20)),
          Atk([CHAMOD],"will",damage([4,10],[CHAMOD])),
          Miss("Half damage."),
          Effect("Roll a number of d20s equal to the number of targets you hit with this attack. Until the end of the encounter, as a free action you can force an enemy within 20 squares of you to replace an attack roll or a saving throw with one of your rolls. You can use each roll only once.")],"bard","daily","25"),
      Power("Virtuoso Of Misfortune",["arcane","implement","psychic"],"daily","standard",
          [Target("Each enemy in burst",("area burst",2,20)),
          Atk([CHAMOD],"will",damage([3,6],[CHAMOD])),
          Hit("The target takes a -5 penalty to saving throws (save ends). Until the end of the encounter, whenever the target fails a saving throw, an ally within 5 squares of the target can roll a saving throw."),
          Miss("Half damage, and the target takes a -5 penalty to saving throws until the end of your next turn.")],"bard","daily","25"),
],"bardencounter27":[
     Power("Bond of Malediction",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,10],[CHAMOD])),
          Hit(["Choose an ally wtihin 10 squares of you.  Until the end of your next turn, the target takes ",orfeat(10,lambda x:10+x.mod("int"),"virtue of cunning")," psychic damage whenever that ally takes damage."])],"bard","attack",27),
     Power("Kaleidoscopic Burst",["arcane","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD]))
          ,Effect("Each ally in the burst can shift 2 squares as a free action.")],"bard","attack",27),
     Power("Surge of Valor",["arcane","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2,[CHAMOD]),["melee"]),
           Hit(["Each ally within 10 squares of you can shift 2 squares and make a melee basic attack as a free action.",orfeat("",["  The allies gain a +",lambda x:x.mod("con")+1," bonus to the attack roll and the damage roll."],"virtue of valor")])],"bard","attack",27),
      Power("Binding Rhyme",["arcane","force","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"reflex",damage(2,[CHAMOD]),["ranged"]),
          Hit("You slide the target 5 squares to a space that must be adjacent to one of its allies. Until the end of its next turn, the target is immobilized, and each enemy that starts its turn adjacent to the target takes 20 force damage at the end of its turn if that enemy is not adjacent to the target at that time.")],"bard","encounter","27"),
      Power("Crescendo Of Victory",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(3,[CHAMOD]),["melee"]),
          Hit("Until the end of your next turn, you and your allies gain a +2 power bonus to attack rolls against the target.")],"bard","encounter","27"),
      Power("Pounding Rhythm",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each enemy in blast",("close blast",3)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Hit("If an ally hits the target before the end of your next turn, the target is stunned until the end of its next turn.")],"bard","encounter","27"),
      Power("Second Chances",["arcane","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("Each ally within 3 squares of the target can reroll one attack roll before the start of your next turn.")],"bard","encounter","27"),
      Power("Strike From Legend",["arcane","healing","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(4,[CHAMOD]),["melee"]),
          Hit(["If the target is reduced to 0 hit points or fewer by this attack, each ally within 5 squares of the target gains a +2 power bonus to attack rolls until the end of your next turn. If the target is not reduced to 0 hit points or fewer by this attack, each ally within 5 squares of the target can spend a healing surge and regain an additional ",MOD("con")," hit points."])],"bard","encounter","27"),
],"barddaily29":[
     Power("Hero's Beacon",["arcane","healing","radiant","zone"],"daily","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(4,[CHAMOD]),["melee"]),
          Effect(["The attack creates a zone of bright light in a burst 2 centered on the target.  The zone lasts until the end of the encounter.  When the target moves, the zone moves with it, remaining centered on it.  Any ally who starts his or her turn within the zone regains ",MOD("cha")," hit points.  Any enemy that starts its turn within the zone takes 10 radiant damage."])],"bard","attack",29),
     Power("Satire of Leadership",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([5,10],[CHAMOD])),
          Effect("The target and each enemy within 3 squares of it take a -2 penalty to all defenses and gain vulnerable 5 to all damage (save ends both).")],"bard","attack",29),
     Power("Spellbind",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
          Hit("The target is dominated (save ends)."),
          Aftereffect(["",dmg(CHAMOD,2,10),", and the target is dazed until the end of your next turn."]),
          Miss("The target is dazed (save ends)."),
          Aftereffect(["",dmg(CHAMOD,2,10)])],"bard","attack",29),
      Power("Arrow Of Destiny",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(2,[CHAMOD]),["ranged"]),
          Hit("The target is affected by your arrow of destiny (save ends). While the target is affected by the arrow of destiny, whenever the target is hit by an attack from an ally, you can use an immediate interrupt to make the attack a critical hit."),
          Miss("Half damage. If the target is hit by an attack from an ally before the end of your next turn, you can use an immediate interrupt to make the attack a critical hit.")],"bard","daily","29"),
      Power("Horrifying Truth",["arcane","implement"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([CHAMOD],"will",damage([4,8],[CHAMOD])),
          Effect("The target is dazed (save ends)."),
          Hit("If the target is hit by an attack while it is dazed by this power, it becomes stunned instead (save ends)."),
          Miss()],"bard","daily","29"),
      Power("Saga Of Foretold Doom",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CHAMOD],"AC",damage(5,[CHAMOD]),["ranged"]),
          Miss(),
          Effect("If the target is hit by an attack from an ally, it is weakened until the end of the target's next turn (save ends).")],"bard","daily","29"),
      Power("Shockwave Strike",["arcane","implement","thunder"],"daily","standard",
          [Target("Each enemy in burst",("close burst",5)),
          Atk([CHAMOD],"fortitude",damage([4,8],[CHAMOD])),
          Miss("Half damage."),
          Effect("The target takes a -2 penalty to AC until the end of your next turn."),
          Sustain("minor",["Each enemy within 5 squares of you takes ",MOD("con")," thunder damage and takes a -2 penalty to AC until the end of your next turn."])],"bard","daily","29"),
]}
    addPowers(bardList)

def battlemind():
    battlemindList={"battlemindat-will1":[
      Power("Conductive Defense",["augmentable","psionic","lightning","weapon"],"at-will","standard",
          [Target("One creature",("melee",1)),
          Atk([CONMOD],"reflex",damage(1,[CONMOD]),["melee"]),
          Hit(["Until the start of your next turn, the target takes ",MOD("con")," lightning damage whenever it hits one of your allies."]), 
          Other("Augment 1"),
          Hit(["As above, and until the start of your next turn, the target also takes ",MOD("con")," lightning damage whenever it shifts to a square adjacent to one of your allies."]),
          Other("Augment 2"),
          Hit(["+1[W] damage.  Until the start of your next turn, the target takes ",MOD("con")," lightning damage whenever it hits one of your allies."])],"battlemind","at-will","1"),      
      Power("Demon Dance",["augmentable","fear","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("The target takes a -5 penalty to opportunity attack rolls until the end of your next turn."), 
          Other("Augment 1"),
          Hit("As above, and the target loses threatening reach until the end of your next turn."),
          Other("Augment 2"),
          Hit("+1[W] damage, and the target can't make opportunity attacks until the end of your next turn.")],"battlemind","at-will","1"),
      Power("Iron Fist",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Effect(["Until the end of your next turn, you gain resistance ",MOD("wis")," to all damage."]),
          Other("Augment 1"),
          Effect(["Until the end of your next turn, you gain ",MOD("wis",5)," fire resistance."]),
          Other("Augment 2"),
          Hit("+1[W] damage.")],"battlemind","at-will","1"),
      Power("Bull'S Strength",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You push the target 1 square."),
          Other("Augment 1"),
          Special("Your reach increases by 1 for this attack."),
          Other("Augment 2"),
          Target("Each enemy you can see in blast",("close blast",3))],"battlemind","at-will","1"),
      Power("Twisted Eye",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Until the end of your next turn, the target takes a penalty to attack rolls equal to the number of your allies adjacent to it."),
          Other("Augment 1"),
          Special("When making an opportunity attack, you can use this power in place of a melee basic attack."),
          Other("Augment 2"),
          Hit("Damage as above, and the target is blinded until the end of your next turn.")],"battlemind","at-will","1"),
      Power("Whirling Defense",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You mark the target until the end of your next turn."),
          Other("Augment 1"),
          Effect(["Whenever you use your mind spike before the end of your next turn, the target of that power takes ",MOD("cha")," extra damage."]),
          Other("Augment 2"),
          Target("Each enemy you can see in burst",("close burst",1))],"battlemind","at-will","1"),
],"battleminddaily1":[
      Power("Allies To Enemies",["charm","psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"]),
          Hit("The target makes a melee basic attack as a free action against a creature of your choice."),
          Miss("Half damage.")],"battlemind","daily","1"),
      Power("Aspect Of Elevated Harmony",["healing","polymorph","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"]),
          Miss("Half damage."),
          Effect("You can spend a healing surge. You then assume the aspect of elevated harmony until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them. Augment 1"),
          Effect(["You gain ",MOD("wis",5)," temporary hit points. In addition, choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra damage."])],"battlemind","daily","1"),
      Power("Psionic Anchor",["psionic","teleportation","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"]),
          Hit("As a free action at the end of the target's turn, you can teleport the target to a square adjacent to you (save ends)."),
          Miss("Half damage. As a free action at the end of the target's next turn, you can teleport the target to a square adjacent to you.")],"battlemind","daily","1"),
      Power("Steel Unity Strike",["psionic","stance","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(3,[CONMOD]),["melee"]),
          Miss("Half damage."),
          Effect("You assume the steel unity stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action"),
          Trigger("An adjacent enemy marked by you moves without shifting on its turn",("melee",1)),
          Target("The triggering enemy"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"])],"battlemind","daily","1"),
],"battlemindutility2":[
      Power("Feather Step",["psionic"],"at-will","move",
          [Effect("Until the end of this turn, you ignore difficult terrain and can both move across liquid and stand on it as if it were solid ground. In addition, you move 3 squares.")],"battlemind","utility","2"),
      Power("Psionic Vigor",["psionic"],"encounter","minor",
          [Effect(["You gain ",MOD("cha",5)," temporary hit points."])],"battlemind","utility","2"),
      Power("Telepathic Challenge",[". psionic"],"encounter","minor",
          [Target("Each enemy in burst",("close burst",2)),
          Effect("You mark each target until the end of your next turn.")],"battlemind","utility","2"),
],"battlemindat-will3":[
      Power("Mind Snare",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("One ally within 5 squares of you becomes invisible to the target until the target is adjacent to him or her or until the end of your next turn."),
          Other("Augment 1 "),
          Hit("As above, but the invisibility isn't ended by the target being adjacent to the ally."),
          Other("Augment 2 "),
          Hit("+1[W] damage. Until the end of your next turn, your allies are invisible to the target while they aren't adjacent to it.")],"battlemind","at-will","3"),
      Power("Mist Weapon",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"reflex",damage(1,[CONMOD]),["melee"]),
          Other("Augment 1"),
          Hit(["As above, and if the target is insubstantial, it doesn't benefit from that quality against this attack and it takes ",MOD("wis")," extra damage."]),
          Other("Augment 2"),
          Hit("+1[W] damage, and the target doesn't benefit from being insubstantial until the end of your next turn.")],"battlemind","at-will","3"),
      Power("Spectral Legion",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Until the end of your next turn, the target grants combat advantage to your allies while they are adjacent to it."),
          Other("Augment 1"),
          Hit(["As above, and the target takes a -",MOD("cha")," penalty to the attack rolls of melee attacks and close attacks until the end of your next turn."]),
          Other("Augment 2"),
          Hit("+1[W] damage. Until the end of your next turn, the target is immobilized, and it grants combat advantage to your allies while they are adjacent to it.")],"battlemind","at-will","3"),
      Power("Visions Of Terror",["augmentable","fear","psionic","weapon"],"at-will","standard",
          [Target("one creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You push the target 2 squares."),
          Other("Augment 1"),
          Hit(["As above, but you push the target ",MOD("cha")," squares. In addition, until the end of your next turn, if you or any of your allies pulls, pushes, or slides the target, the forced movement increases by 1 square."]),
          Other("Augment 2 "),
          Hit(["You push the target ",MOD("cha")," squares. After the push, you slide each enemy adjacent to the target 1 square."])],"battlemind","at-will","3"),
],"battleminddaily5":[
      Power("Aspect Of Living Stone",["polymorph","psionic","weapon"],"daily","standard",
          [Target("Each enemy you can see in burst",("close burst",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Hit("You knock the target prone."),
          Miss(),
          Effect("You assume the aspect of living stone until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."),
          Other("Augment 1"),
          Effect(["You gain resist 5 to all damage until the end of your next turn. In addition, choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra damage."])],"battlemind","daily","5"),
      Power("Beckoning Strike",["psionic","stance","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"]),
          Miss(),
          Other("Effect:  You assume the beckoning stance. Until the stance ends, you can make the following  attack."),
          Other("Opportunity Action"),
          Trigger("An adjacent enemy marked by you moves without shifting on its turn"),
          Target("The triggering enemy",("Melee",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("At the end of the secondary target's turn, you can use a free action to pull the secondary target a number of squares equal to its speed.")],"battlemind","daily","5"),
      Power("Nightmare Vortex",["fear","psionic","weapon"],"daily","standard",
          [Target("Each enemy you can see in burst",("close burst",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Hit("You slide the target 1 square."),
          Miss(),
          Effect("Until the end of the encounter, whenever an enemy starts its turn within 3 squares of you, you can slide the target 1 square as a free action.")],"battlemind","daily","5"),
      Power("Predator To Prey",["fear","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(2,[CONMOD]),["melee"]),
          Miss(),
          Effect("The target's reach is reduced by 1 (minimum 1), and whenever the target is hit, you can slide it 1 square as a free action (save ends both).")],"battlemind","daily","5"),
],"battlemindutility6":[
      Power("Psionic Ambush",["psionic","teleportation"],"encounter","move",
          [Target("One creature marked by you",("ranged",10)),
          Effect("You teleport to a square adjacent to the target. The target grants combat advantage to you until the end of your turn.")],"battlemind","utility","6"),
      Power("Sense Minds",["psionic"],"encounter","minor",
          [Effect("Until the end of your next turn, you know the location of all living creatures within 10 squares of you. Until this effect ends, you don't grant combat advantage to those creatures, and if they have cover or concealment when you attack them, you don't take the -2 penalty to attack rolls against them.")],"battlemind","utility","6"),
      Power("Stag'S Leap",["psionic"],"at-will","move",
          [Effect("You make an Athletics check to jump with a +5 bonus. You are considered to have a running start.")],"battlemind","utility","6"),
      Power("Winged Weapon",["psionic"],"encounter","minor",
          [Effect("Choose a weapon you are holding. The next melee attack you make with that weapon before the end of your next turn becomes a ranged attack with a range of 1O. The weapon returns to your hand after you make that attack.")],"battlemind","utility","6"),
],"battlemindat-will7":[
      Power("Ego Crush",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("The target cannot gain combat advantage until the end of your next turn."),
          Other("Augment 1"),
          Special("When making an opportunity attack, you can use this power in place of a melee basic attack."),
          Other("Augment 2"),
          Target("Each enemy in burst",("close burst",1)),
          Hit("+1[W] damage, and the target cannot gain combat advantage until the end ofyour next turn.")],"battlemind","at-will","7"),
      Power("Ghost In The Steel",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit(["The first time the target hits or misses any of your allies before the end of your next turn, it takes ",MOD("wis")," psychic damage."]),
          Other("Augment 1"),
          Hit("Choose one of the target's melee basic attacks. The target hits itself with that attack."),
          Other("Augment 2"),
          Hit("Damage as above. The next time the target makes a melee attack before the end of your next turn, you can choose which creature it attacks (not including itself).")],"battlemind","at-will","7"),
      Power("Lightning Rush",["augmentable","psionic","weapon"],"at-will","immediate interrupt",
          [Trigger("An enemy within 5 squares of you targets an ally with an attack"),
          Effect("Before the attack, you move your speed to a square adjacent to the triggering enemy."),
          Target("The triggering enemy",("melee",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Effect("You don't get your normal standard action on your next turn."),
          Other("Augment 1"),
          Hit(["As above, and the target takes a -",MOD("cha")," penalty to the triggering attack roll."]),
          Other("Augment 2"),
          Hit("+1[W] damage, and you become the target of the triggering attack."),
          Effect("You get your normal standard action on your next turn.")],"battlemind","at-will","7"),
      Power("Psionic Speed",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One, two, or three creatures"),
          Atk([CONMOD],"AC",damage(1,[]),["melee"]),
          Hit("You mark the target until the end of your next turn."),
          Other("Augment 1"),
          Effect("After both the first and second attacks, you shift 1 square to a square adjacent to the next target."),
          Other("Augment 2"),
          Hit(["+",MOD("con")," damage."]),
          Effect("You mark the target until the end of your next turn.")],"battlemind","at-will","7"),
      Power("Stone Squire",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"fortitude",None),
          Hit(["",MOD("con","wis")," damage, and you knock the target prone."]),
          Other("Augment 1"),
          Effect("After the attack, you shift 2 squares to a square adjacent to the target."),
          Other("Augment 2"),
          Hit(["1[W] + ",MOD("con")," damage, and you knock the target prone."])],"battlemind","at-will","7"),
],"battleminddaily9":[
      Power("Aspect Of Disembodiment",["polymorph","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"fortitude",damage(2,[CONMOD]),["melee"]),
          Hit(["The target takes a -",MOD("wis")," penalty to attack rolls and saving throws (save ends). The penalty also ends if the target ends its turn without having made an attack during that turn."]),
          Miss(),
          Effect("You assume the aspect of disembodiment until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."),
          Other("Augment 1"),
          Effect(["You shift half your speed before or after the attack. You can move through enemies' spaces during this shift. In addition, choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra damage."])],"battlemind","daily","9"),
      Power("Inexorable Death Strike",["psionic","psychic","stance","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(1,[CONMOD]),["melee"]),
          Hit("Ongoing 5 psychic damage (save ends)."),
          Miss("Half damage, and ongoing 5 psychiC damage (save ends)."),
          Effect("You assume the inexorable death stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action"),
          Trigger("An adjacent enemy marked by you moves without shifting on its turn"),
          Target("The triggering enemy",("melee",1)),
          Atk([CONMOD],"AC",damage(raising(1,20),[lambda x:(raising(1,20)(x)-1)*x.mod("con")]),["melee"]),
          Hit("The secondary target fails its first saving throw at the end of this turn.")],"battlemind","daily","9"),
      Power("Intellect Hammer",["psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage([1],[CONMOD]),["melee"]),
          Hit("The target is dazed until the end of your next turn. In addition, you regain 2 power points."),
          Miss("Half damage. In addition, you regain 1 power point.")],"battlemind","daily","9"),
      Power("Iron Tomb",["polymorph","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"fortitude",None),
          Hit("The target is stunned and immune to all damage but psychic damage (save ends both)."),
          Miss("The target is stunned and immune to all damage but psychic damage until the end of your next turn.")],"battlemind","daily","9"),
      Power("Whelm",["psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"fortitude",damage(3,[CONMOD]),["melee"]),
          Hit("You push the target 2 squares."),
          Miss("Half damage, and you push the target 1 square.")],"battlemind","daily","9"),
],"battlemindutility10":[
      Power("Battle Aspect",["polymorph","psionic","teleportation"],"daily","minor",
          [Effect("Until the end of the encounter, you gain resist 5 to all damage and can teleport 3 squares as a move action.")],"battlemind","utility","10"),
      Power("Guardian'S Speed",["psionic"],"at-will","immediate reaction",
          [Trigger("An adjacent ally takes damage"),
          Target("The triggering ally",("melee",1)),
          Effect("You slide the target 1 square.")],"battlemind","utility","10"),
      Power("Iron Warding",["psionic"],"daily","immediate interrupt",
          [Trigger("You take damage from an attack"),
          Effect("The damage is reduced to 0, but you are subject to all other effects of the attack, if any.")],"battlemind","utility","10"),
      Power("Shadow Ally",["conjuration","illusion","psionic"],"daily","minor",
          [Effect("You conjure an illusory duplicate of yourself in an unoccupied square within range. The duplicate lasts until the end of the encounter. You gain a +4 power bonus to all defenses against any attack that doesn't include both you and the duplicate. As part of a move action, you can move the duplicate 5 squares. The duplicate can be targeted by melee attacks and ranged attacks, although it lacks hit points. The duplicate disappears if a melee or a ranged attack deals any damage to it.",("ranged",5))],"battlemind","utility","10"),
],"battlemindat-will13":[
      Power("Brutal Barrage",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(0,CONMOD)),
          Special("Make the attack three times."),
          Effect("If you hit the target two or more times, it falls prone."),
          Other("Augment 1"),
          Special("Make the attack four times."),
          Other("Augment 4"),
          Special("Make the attack four times."),
          Hit(["+",MOD("cha")," damage."])],"battlemind","at-will","13"),
      Power("Dizzying Strike",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You slide the target 1 square."),
          Other("Augment 1"),
          Hit("Damage as above. Until the end of your next turn, when the target attacks any of your allies, you can use a free action to slide the target 1 square after its attack."),
          Other("Augment 4"),
          Hit("Damage as above, and the target is dazed until the end of your next turn.")],"battlemind","at-will","13"),
      Power("Luring Steel",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("As a free action, you can use your battlemind's demand power against the target."),
          Effect(["Until the end of your next turn, whenever an enemy hits any ally who is adjacent to you with a melee attack, that enemy takes ",MOD("cha")," psychic damage."]),
          Other("Augment 1"),
          Effect("As above, but the enemy takes the damage when it hits or misses."),
          Other("Augment 4"),
          Hit("+1[W] damage, and you pull each enemy within 2 squares of you 1 square. As a free action, you can use your battlemind's demand power against each enemy adjacent to you.")],"battlemind","at-will","13"),
      Power("Overwhelming Lunge",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature",("Melee weapon","+ 1 reach")),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Other("Augment 1"),
          Special("You ignore the -2 penalty for attacking an enemy that has cover granted by other enemies."),
          Other("Augment 4"),
          Hit("+1[W] damage.  You slide each creature adjacent to the target 1 square and then slide the target 2 squares.")],"battlemind","at-will","13"),
      Power("Web Of Betrayal",["augmentable","charm","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Until the end of your next turn, the target takes 2 psychic damage when any enemy of yours attacks while adjacent to it."),
          Other("Augment 1"),
          Hit("Damage as above. Until the end of your next turn, any enemy takes a -2 penalty to attack rolls while adjacent to the target."),
          Other("Augment 4"),
          Hit("+1[W] damage. Until the end of your next turn, when any enemy attacks any ally of yours who is adjacent to the target, the enemy also makes the attack against the target.")],"battlemind","at-will","13"),
],"battleminddaily15":[
      Power("Aspect Of Enlightnening Flame",["fire","polymorph","psionic","psychic","weapon"],"daily","standard",
          [Target("One or two creatures"),
          Atk([CONMOD],"AC",damage(3,[CONMOD]),["melee"]),
          Hit("Ongoing 5 fire and psychic damage (save ends)."),
          Miss(),
          Effect("You assume the aspect of the enlightening flame until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."),
          Other("Augment 1"),
          Effect(["Choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra fire and psychic damage."])],"battlemind","daily","15"),
      Power("Intellect Sunder",[". fear","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(2,[CONMOD]),["melee"]),
          Hit("Whenever the target attacks, it can use only basic attacks and must include you as a target (save ends both)."),
          Miss("Half damage. Until the end of your next turn, whenever the target attacks, it can use only basic attacks and must include you as a target.")],"battlemind","daily","15"),
      Power("Mind Blade",["psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",None),
          Hit("The target falls unconscious (save ends)."),
          Aftereffect(["",MOD("con",10)," psychic damage."]),
          Miss("The target is dazed (save ends).")],"battlemind","daily","15"),
      Power("Paralyzing Fear Strike",["fear","psionic","stance","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(2,[CONMOD]),["melee"]),
          Hit("The primary target is immobilized (save ends)."),
          Miss("Half damage, and the primary target is immobilized until the end of your next turn."),
          Effect("You assume the paralyzing fear stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action Melee 1"),
          Trigger("An adjacent enemy marked by you moves without shifting"),
          Target("The triggering enemy"),
          Atk([CONMOD],"AC",damage(raising(1,20),[CONMOD]),["melee"]),
          Hit("The secondary target is immobilized until the end of your next turn.")],"battlemind","daily","15"),
],"battlemindutility16":[
      Power("Extend The Mind's Eye",["psionic"],"encounter","free",
          [Effect("You gain a +5 power bonus to your next insight check or Perception check during this encounter.")],"battlemind","utility","16"),
      Power("Mind Of Endurance",["healing","psionic"],"daily","minor",
          [Effect("You spend a healing surge. In addition, until the end of the encounter, you have regeneration 5 while you're bloodied.")],"battlemind","utility","16"),
      Power("Shield Of The Iron Mind",["psionic","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts until the end of the encounter. When you move, the zone moves with you, remaining centered on you. You and your allies gain a +4 power bonus to Will and saving throws while within the zone.",("close burst",5))],"battlemind","utility","16"),
      Power("Sudden Rush",["psionic","teleportation"],"encounter","move",
          [Effect("You teleport to a square adjacent to a creature marked by you.")],"battlemind","utility","16"),
],"battlemindat-will17":[
      Power("Battle Vortex",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit(["Until the end of your next turn, when any enemy starts its turn within 2 squares of you but ends its turn more than 2 squares away from you, that enemy takes ",MOD("con")," psychic damage."]),
          Other("Augment 1"),
          Hit("Damage as above. Until the end of your next turn, while the target is within 2 squares of you, it takes a -2 penalty to attack rolls against your allies who are more than 2 squares away from you."),
          Other("Augment 4(Teleportation):  "),
          Hit("+2[W] damage. Until the end of your next turn, when any enemy starts its turn within 2 squares of you but ends its turn more than 2 squares away from you, you can teleport that enemy 3 squares as a free action, and it is immobilized until the end of its next turn.")],"battlemind","at-will","17"),
      Power("Dazzling Assault",["augmentable","psionic","weapon"],"at-will","immediate interrupt",
          [Trigger("An adjacent enemy marked by you shifts",("melee",1)),
          Target("The triggering enemy",("melee",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Hit("You slide the target 1 square, and it is immobilized until the end of your next turn."),
          Effect("You don't get your normal standard action on your next turn."),
          Other("Augment 1"),
          Hit("As above, and the target cannot teleport and is immune to forced movement while immobilized by this attack."),
          Other("Augment 4"),
          Hit("+2[W] damage. You slide the target 2 squares, and it is immobilized until the end of your next turn."),
          Effect("You get your normal standard action on your next turn.")],"battlemind","at-will","17"),
      Power("Entangling Weapon",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You slide the target 1 square. you then shift 1 square into the space the target left."),
          Other("Augment 1"),
          Hit("Damage as above. Whenever the target shifts before the end of your next turn, you can use a free action to slide the target 1 square at the end of the shift."),
          Other("Augment 4"),
          Hit("+2[W] damage. When you hit any enemy before the end of your next turn, you slide that enemy 2 squares.")],"battlemind","at-will","17"),
      Power("Festering Wound",["augmentable","psionic","psychic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Your next psionic attack against the target before the end of your next turn deals 1d6 extra psychic damage."),
          Other("Augment 1"),
          Hit("Damage as above, and the target loses its psychic resistance until the end of your next turn."),
          Other("Augment 4"),
          Hit("+2[W] damage, and your next psionic attack against the target before the end of your next turn deals 1d6 extra psychic damage.")],"battlemind","at-will","17"),
      Power("Step Of The Pursuer",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("If the target moves away from you on its next turn, you can use a free action to shift 3 squares to a square closer to the target after its move."),
          Other("Augment 1"),
          Hit("Damage as above. You are immune to the slowed and immobilized conditions until the end of your next turn."),
          Other("Augment 4 (Teleportation):"),
          Hit("+2[W] damage.  If the target moves away from you on its next turn, you can use a free action to teleport to a square adjacent to the target after its move.")],"battlemind","at-will","17"),
],"battleminddaily19":[
      Power("Aspect Of Stolen Identity",["charm","polymorph","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(3,[CONMOD]),["melee"]),
          Miss(),
          Effect("You assume the aspect of stolen identity until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."),
          Other("Augment 2"),
          Effect("Choose a Single creature hit by the at-will attack, and choose a melee basic attack of that creature. The creature then hits itself with that melee basic attack as a free action.")],"battlemind","daily","19"),
      Power("Mind Wrack",["psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(3,[CONMOD]),["melee"]),
          Miss("Half damage."),
          Effect("The target takes ongoing 5 psychic damage (save ends) Whenever you hit the target before this ongoing damage ends, the ongoing damage increases by 5.")],"battlemind","daily","19"),
      Power("Relentless Strike",["psionic","stance","weapon"],"daily","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([CONMOD],"AC",damage(3,[CONMOD]),[]),
          Hit("Ongoing 5 damage (save ends)."),
          Miss(),
          Effect("You assume the perfect storm stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action"),
          Trigger("An adjacent enemy marked by you moves without shifting"),
          Target("The triggering enemy",("melee",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Hit("The secondary target is dazed until the end of your next turn."),
          Other("Level 21:  2[W] + Constitution modifier damage.")],"battlemind","daily","19"),
      Power("Vengeful Mind",["psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(4,[CONMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, when the target attacks any ally of yours, you gain a +2 power bonus to attack rolls against the target until the end of your next turn. If you already have the bonus when the target attacks an ally, the bonus increases by 1.")],"battlemind","daily","19"),
],"battlemindutility22":[
      Power("Immortal Endurance",["psionic"],"daily","minor",
          [Effect("You gain temporary hit points equal to your bloodied value.")],"battlemind","utility","22"),
      Power("Indomitable Maneuver",["psionic"],"encounter","move",
          [Effect("You shift 12 squares and can move through enemies' spaces during the shift.")],"battlemind","utility","22"),
      Power("Perfect Eye",["psionic"],"daily","minor",
          [Effect("Until the end of your next turn, you ignore all barriers to line of effect and line of sight that are within 20 squares of you. In addition, you ignore the -2 penalty for attacking enemies that have concealment or cover within that range.")],"battlemind","utility","22"),
      Power("Tactical Supremacy",["psionic"],"daily","minor",
          [Effect("Until the end of the encounter, enemies grant combat advantage to you.")],"battlemind","utility","22"),
],"battlemindat-will23":[
      Power("Armor Of Blades",["augmentable","psionic","weapon"],"at-will","immediate interrupt",
          [Trigger("An enemy adjacent to you targets one of your allies with a melee attack"),
          Target("The triggering enemy",("melee",1)),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),[]),
          Hit("The target attacks you instead of the ally."),
          Effect("You don't get your normal standard action on your next turn."),
          Other("Augment 2"),
          Hit(["+1[W] damage, and the target takes a -",MOD("cha")," penalty to its attack roll."]),
          Other("Augment 6"),
          Hit("+2[W] + Constitution modifier damage, and you slide the target 3 squares and shift 3 squares to a square adjacent to it. The target then attacks you instead of the ally."),
          Effect("You get your normal standard action on your next turn.")],"battlemind","at-will","23"),
      Power("Might Of The Ogre",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[]),["melee"]),
          Hit("You knock the target prone, and if it stands up before the end of your next turn, it provokes opportunity attacks for doing so."),
          Other("Augment 2"),
          Target("Each enemy in burst",("close burst",1)),
          Hit("+1[W] damage. You knock the target prone, and if it stands up before the end of your next turn, it provokes opportunity attacks for doing so."),
          Other("Augment 6"),
          Hit("+2[W] damage, and the target is dazed until the end of your next turn. You knock the target prone, and if it stands up before the end of your next turn, it provokes opportunity attacks for doing so.")],"battlemind","at-will","23"),
      Power("Press Of Battle",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Squares adjacent to you and squares adjacent to your allies are difficult terrain for the target until the end of your next turn."),
          Other("Augment 2"),
          Hit("+1[W] damage, and the target can't shift until the end of your next turn."),
          Other("Augment 6"),
          Hit("+2[W) damage, and the target is immobilized and grants combat advantage to your allies until the end of your next turn.")],"battlemind","at-will","23"),
      Power("Spring Assault",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Special("If you weren't adjacent to the target at the start of this turn, the target grants combat advantage to you for this attack."),
          Other("Augment 2"),
          Hit("+1[W] damage, and you shift 3 squares. If you use this power unaugmented on your next turn, you can shift 3 squares as a free action either before or after the attack."),
          Other("Augment 6"),
          Hit("+2[W] + Constitution modifier damage, and you are invisible to the target until the end of your next turn.")],"battlemind","at-will","23"),
      Power("Veil Of The Mind'S Eye",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Until the end of your next turn, any creature more than 4 squares away from the target has total concealment against it."),
          Other("Augment 1"),
          Hit("+1[W] damage, and each ally within 10 squares ofyou is invisible to the target until the end of your next turn."),
          Other("Augment 6"),
          Hit("+2[W] damage, and the target is blinded until the end of your next turn.")],"battlemind","at-will","23"),
],"battleminddaily25":[
      Power("Aspect Of Luminous Thought",["polymorph","psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Effect(["The target takes ",MOD("con",20)," psychic damage. You then assume the aspect of luminous thought until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."]),
          Other("Augment 2"),
          Effect(["Until the end of your next turn, you gain a +2 bonus to all defenses against the targets of the at-will attack. In addition, choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra damage."])],"battlemind","daily","25"),
      Power("Deadly Haste Strike",["psionic","stance","weapon"],"daily","standard",
          [Target("One, two, three, or four creatures"),
          Atk([CONMOD],"AC",damage(3,[CONMOD]),["melee"]),
          Miss(),
          Effect("Before each attack but the first, you shift your speed. After making all the attacks, you assume the deadly haste stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action Melee 1"),
          Trigger("An adjacent enemy marked by you moves without shifting"),
          Target("The triggering enemy"),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),["melee"]),
          Hit("You shift half your speed and make a melee basic attack against a different enemy.")],"battlemind","daily","25"),
      Power("Psychic Hammer",["charm","psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(3,[CONMOD]),["melee"]),
          Hit("The target is dominated (save ends). Until this domination ends, you can use a free action at the start of each of the target's turns to slide the target a number of squares equal to its speed."),
          Miss("Half damage, and the target is dazed (save ends).")],"battlemind","daily","25"),
      Power("Vitality Theft",["psionic","psychic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"will",damage(5,[CONMOD]),["melee"]),
          Miss(),
          Effect("You regain 6 power points.")],"battlemind","daily","25"),
],"battlemindat-will27":[
      Power("Brilliant Recovery",["augmentable","psionic","weapon"],"at-will","minor",
          [Target("An enemy you missed with an attack during this turn"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Other("Augment 2"),
          Special("The attack roll is vs. reflex for this attack"),
          Hit("+1[W] damage"),
          Other("Augment 6"),
          Hit("+2[W] damage."),
          Miss("You regain the power points you spent to augment this power.")],"battlemind","at-will","27"),
      Power("Cage Of Cowardice",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("You mark the target until the end of your next turn."),
          Other("Augment 2"),
          Hit("+1[W] + damage, and you mark the target until the end of your next turn."),
          Special("When making an opportunity attack, you can use this power in place of a melee basic attack."),
          Other("Augment 6"),
          Hit("+1[W] damage, and the target is stunned until the end of your next turn.")],"battlemind","at-will","27"),
      Power("Mind Of Mirrors",["augmentable","charm","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Hit("Until the end"),
          Other("Of Your Next Turn, The Target Takes A -5 Penalty To Attack Rolls Against Creatures Other Than You. Augment 2"),
          Hit("+1[W] damage. Until the end of your next turn, the target provokes opportunity attacks when it makes any attack that doesn't include at least one of your enemies as a target."),
          Other("Augment 6"),
          Hit("+2[W] damage, and the target is dominated until the end of your next turn. Until this domination ends, the target has combat advantage against itself and your enemies.")],"battlemind","at-will","27"),
      Power("Psionic Storm",["augmentable","psionic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(1,[CONMOD]),["melee"]),
          Effect(["Until the end of your next turn, your mind spike power deals ",MOD("wis",5)," extra damage."]),
          Other("Augment 2"),
          Target("Each enemy in burst",("close burst",2)),
          Hit("+1[W] damage, and you mark the target until the end of your next turn."),
          Other("Augment 6"),
          Hit("+3[W] damage."),
          Effect(["Until the end of your next turn, you can use your mind spike power as a free action, and it deals ",MOD("wis",5)," extra damage."])],"battlemind","at-will","27"),
],"battleminddaily29":[
      Power("Aspect Of Annihilation",["polymorph","psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"fortitude",damage(3,[CONMOD]),["melee"]),
          Hit("Ongoing 20 damage (save ends)."),
          Miss("Half damage. and ongoing 10 damage (save ends)."),
          Effect("You assume the aspect of annihilation until the end of the encounter. While in this aspect, you can use the following augmentation with your battlemind at-will attack powers that are augmentable. This augmentation is in addition to the effects that an at-will power might have; this augmentation doesn't supersede them."),
          Other("Augment 2"),
          Effect(["The target of the at-will attack fails its first saving throw before the end of your next turn. In addition, choose a single creature hit by the at-will attack. That creature takes ",MOD("wis")," extra damage."])],"battlemind","daily","29"),
      Power("Fatal Barrage",[". psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"AC",damage(6,[CONMOD]),["melee"]),
          Hit("The damage increases by 5 for each effect on the target that a save can end."),
          Miss("Half damage. The damage increases by 2 for each effect on the target that a save can end.")],"battlemind","daily","29"),
      Power("Mind-Sundering Burst",[". psionic","psychic","stance","weapon"],"daily","standard",
          [Target("Each creature in burst",("close burst",3)),
          Atk([CONMOD],"will",damage(4,[CONMOD]),[]),
          Hit("The primary target is dazed and immobilized (save ends both)."),
          Miss("Half damage, and the primary target is dazed until the end of your next turn."),
          Effect("You assume the mind-sundering stance. Until the stance ends, you can make the following secondary attack."),
          Other("Opportunity Action Melee 1"),
          Trigger("An adjacent enemy marked by you moves without shifting"),
          Target("The triggering enemy",("close burst",3)),
          Atk([CONMOD],"AC",damage(2,[CONMOD]),[]),
          Hit("You slide the secondary target 3 squares to a square adjacent to you, and it is immobilized (save ends).")],"battlemind","daily","29"),
      Power("Nova Strike",["psionic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([CONMOD],"reflex",damage(7,[CONMOD]),["melee"]),
          Hit("If you have no power points remaining. the damage increases by 2[W]."),
          Miss()],"battlemind","daily","29"),

]}
    addPowers(battlemindList)

def cleric():
    clericList={"clericat-will1":[
     Power("Lance of Faith",["divine","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"relex", damage([raising(1,20),8],[WISMOD])),
          Hit("One ally you can see gains a +2 power bonus to his or her next attack roll against the target")],"cleric","at-will",1),
     Power("Priest's Shield",["divine","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit("One adjacent ally gains a +1 power bonus to AC until the end of your next turn")],"cleric","at-will",1),
     Power("Righteous Brand",["divine","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit("One ally within 5 squares of you gains a +3 power bonus to melee attack rolls until the end of your next turn")],"cleric","at-will",1),
      Power("Sacred Flame",["divine","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([raising(1,20),6],[WISMOD])),
          Hit(["One ally you can see chooses to either gain ",lambda x: x.statret("level")/2+x.mod("cha")
          ," temporary hit points or to make a saving throw"])],"cleric","at-will",1)
],"clericencounter1":[
     Power("Cause Fear",["divine","fear","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", None),
          Hit(["The target moves its speed ",plus(lambda x:x.mod("cha"))," away from you.  The fleeing target avoids unsafe squares and difficult terrain if it can.  This movement provokes opportunity attacks."])],"cleric","attack",1),
     Power("Divine Glow",["divine","implement","radiant"],"encounter","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([WISMOD],"reflex",damage([1,8], [WISMOD])),
          Effect("Allies in the blast gain a +2 power bonus to attack rolls until the end of your next turn")],"cleric","attack",1),
     Power("Healing Strike",["divine","healing","radiant","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is marked until the end of your next turn.  In addition, you or one ally within 5 squares of you can spend a healing surge.")],"cleric","attack",1),
      Power("Wrathful Thunder",["divine","thunder","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1,[STRMOD]),["melee"]),
          Hit("The target is dazed until the end of your next turn")],"cleric","attack",1)
],"clericdaily1":[
     Power("Avenging Flame",["divine","fire","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2,[STRMOD]),["melee"]),
          Hit(["Ongoing 5 fire damage (save ends)"]),
          Miss(["Half damage, and no ongoing fire damage"]),
          Special(["If the target attacks on its turn, it can't attempt a saving throw against the ongoing damage"])],"cleric","attack",1),
     Power("Beacon of Hope",["divine","healing","implement"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([WISMOD],"will",None),
          Hit("The target is weakened until the end of its next turn"),
          Effect("You and all your allies in the burst regain 5 hit points, and your healing powers restore +5 hit points until the end of the encounter")],"cleric","attack",1),
     Power("Cascade of Light",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,8], [WISMOD])),
          Hit("The target gains vulerability 5 to all your attacks (save ends)."),
          Miss("Half damage, and the target gains no vulnerability")],"cleric","attack",1),
      Power("Guardian of Faith",["conjuration","divine","implement","radiant"],"daily","standard",
          [Effect("You conjure a guardian that occupies 1 square within range.  Every round you can move the guardian 3 squares as a move action.  The guardian lasts until the end of the encounter.  Any enemy that ends its turn next to the conjured guardian is subject to an attack.  Creatures can move through the space occupied by the guardian."),
          Atk([WISMOD],"fortitude", damage([1,8], [WISMOD]))],"cleric","attack",1)
],"clericutility2":[
	Power("Bless",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",20)),
           Effect("Until end of the encounter, all targets gain a +1 power bonus to attack rolls")],"cleric","utility",2),
	Power("Cure Light Wounds",["divine","healing"],"daily","standard",
          [Target("you or one creature",("melee","touch")),
           Effect("The target regains hit points as if it had spent a healing surge")],"cleric","utility",2),
	Power("Divine Aid",["divine"],"encounter","standard",
          [Target("you or one ally",("ranged",5)),
           Effect(["The target makes a saving throw with a +",MOD("str")," bonus to the roll"])],"cleric","utility",2),
	Power("Sanctuary",["divine"],"encounter","standard",
          [Target("you or one creature",("ranged",10)),
           Effect("The target recieves a +5 bonus to all defenses.  The effect lasts until the target attacks or until the end of your next turn.")],"cleric","utility",2),
	Power("Shield of Faith",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("The targets gain a +2 power bonus to AC until the end of the encounter")],"cleric","utility",2)
],"clericencounter3":[
     Power("Blazing Beacon",["divine","radiant","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("All ranged attack rolls against the target gain a +4 power bonus until the end of your next turn")],"cleric","attack",3),
     Power("Command",["charm","divine","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",None),
          Hit(["The target is dazed until the end of your next turn.  In addition, you can choose to knock the target prone or slide the target ",lambda x:x.mod("cha")+3," squares"])],"cleric","attack",3),
     Power("Daunting Light",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([2,10], [WISMOD])),
          Effect("One ally you can see gains combat advantage against the target until the end of your turn")],"cleric","attack",3),
      Power("Split the Sky",["divine","thunder","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
          Hit("Push the target 2 squares and knock it prone")],"cleric","attack",3)
],"clericdaily5":[
     Power("Consecrated Ground",["divine","healing","radiant","zone"],"daily","standard",
          [Effect(["The burst creates a zone of sanctified ground that lasts until the end of your next turn.  You can move the origin square of the zone 3 squares as a move action.  Enemies that start their turns within the zone take 1d6",plus(lambda x: x.mod("cha"))," radiant damage.  You and any allies who are bloodied and start their turns within the zone regain ",lambda x:x.mod("cha")," hit points"],("close burst",1)),
          Sustain()],"cleric","attack",5),
     Power("Rune of Peace",["charm","divine","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(1, [STRMOD]),["melee"]),
          Hit("The target cannot attack (save ends)"),
          Miss("The target cannot attack you until the end of your next turn")],"cleric","attack",5),
     Power("Spritual Weapon",["Conjuration","divine","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"AC", damage([1,10], [WISMOD])),
          Effect("You conjure a weapon that appears in the target's square and attacks.  Your allies gain combat advantage against the target. You can move the weapon up to 10 squares to another enemy's wquare as a move action.  The weapon lasts until the end of your next turn."),
          Sustain("minor","When you sustain the power, repeat the attack.  Your allies contunue to gain combat advantage against the weapon's target.")],"cleric","attack",5),
      Power("Weapon of the Gods",["divine","radiant","weapon"],"daily","minor",
          [Target("one held weapon"),
           Effect("Until the end of the encounter, all attacks made with the weapon deal an extra 1d6 radiant damage.  When the weapon hits an enemy, the enemy takes a -2 penalty to AC until the end of the weapon weilder's next turn.")],"cleric","attack",5)
],"clericutility6":[
	Power("Bastion of Health",["divine","healing"],"encounter","minor",
          [Target("you or one ally",("ranged",10)),
           Effect(["The target can spend a healing surge with a +",lambda x: x.mod("cha")," bonus to hit points regained."])],"cleric","utility",6),
	Power("Cure Serious Wounds",["divine","healing"],"daily","standard",
          [Target("you or one creature",("melee","touch")),
           Effect("The target regains hit points as if it had spent two healing surges")],"cleric","utility",6),
	Power("Divine Vigor",["divine","healing"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
           Effect("Each target regains the use of his or her second wind")],"cleric","utility",6),
	Power("Holy Lantern",["divine"],"at-will","standard",
          [Effect("You conjure a lantern that appears in 1 square within range and sheds light 5 squares in all directions.  You and allies in the light gain a +2 power bonus to perception and insight checks.  You can move the lantern up to your speed as a minor action.  The lantern lasts for 10 hours, but you can only have a single holy lantern active at a time.",("ranged",3))],"cleric","utility",6)
],"clericencounter7":[
     Power("Awe Strike",["divine","fear","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(1, [STRMOD]),["melee"]),
          Hit("The target is immobilized until the end of your next turn.")],"cleric","attack",7),
     Power("Break the Spirit",["charm","divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",damage([2,8], [WISMOD])),
          Hit(["The target takes a -",lambda x:x.mod("cha")," penalty to attack rolls until the end of your next turn."])],"cleric","attack",7),
     Power("Searing Light",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([2,6], [WISMOD])),
          Hit("The target is blinded until the end of your next turn.")],"cleric","attack",7),
      Power("Strengthen the Faithful",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["You and each ally adjacent to the target can spend a healing surge with a +",lambda x: x.mod("cha")," bonus to hit points regained."])],"cleric","attack",7)
],"clericdaily9":[
     Power("Astral Defenders",["conjuration","divine","implement","radiant"],"daily","standard",
          [Effect("You conjure two soldiers, each occupying 1 square within range.  The conjured soldiers don't attack normally, but whenever an opportunity attack would be provoked from the soldier, the solder makes an attack.  You can move one soldier or both a total of 3 squares as a move action.  Creatures can move through the space occupied by the soldiers.  The soldiers last until the end of the encounter",("ranged",10)),
          Atk([WISMOD],"AC", damage([1,10], [WISMOD]))],"cleric","attack",9),
     Power("Blade Barrier",["charm","divine","implement"],"daily","standard",
          [Effect("You conjure a wall of contiguous squares filled with spinning blades of astral energy that lasts until the end of your next turn.  The wall can be up to 5 squares long and up to 2 squares high.  The spaces occupied by the blade barrier are difficult terrain.",("Wall",5,10)),
          Line(["If a creature enters the barrier's space or starts its turn there, it takes ",dmg(WISMOD,3,6)," plus ongoing 5 damage"]),
          Sustain("minor","The barrier persists")],"cleric","attack",9),
     Power("Divine Power",["divine","healing","radiant","weapon"],"daily","standard",
          [Target("each enemy in burst you can see"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Hit("Push the target back one square"),
          Effect("Until the end of the encounter, you gain regeneration 5, and you and each ally within the burst gain a +2 power bonus to AC.")],"cleric","attack",9),
      Power("Flame Strike",["divine","fire","implement"],"daily","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"reflex",damage([2,10], [WISMOD])),
          Hit(["Ongoing ",lambda x: x.mod("wis")+5," fire damage (save ends)"]),
          Miss("Half damage, and no ongoing fire damage.")],"cleric","attack",9),
],"clericutility10":[
	Power("Astral Refuge",["divine","healing","teleportation"],"daily","standard",
          [Target("one willing ally",("melee","touch")),
           Effect("The target is whisked away to a place of safety in the Astral Sea for 3 rounds.  While there, the target can spend a healing surge each round but cannot take any other actions.  At the end of the effect, the target reappears in the space he or she left or, if the space is not vacant, in the nearest unoccupied space.")],"cleric","utility",10),
	Power("Knights of Unyielding Valor",["conjuration","divine"],"daily","standard",
          [Effect("You conjure four ghostly warriors, each occupying 1 square within range.  As a move action, you can move any of the knights 2 squares.  They can't attack or be attacked or damaged, and they last until the end of the encounter.  Enemies can't enter a square occupied by a conjured knight, but allies can move through the knights' spaces as if the knights were allies.  The conjured knights grant cover to allies but not enemies.",("ranged",10))],"cleric","utility",10),
	Power("Mass Cure Light Wounds",["divine","healing"],"daily","standard",
          [Target("you and each ally in burst",("close burst",5)),
           Effect(["The targets regain hit points as if they had spent a healing surge with a +",lambda x: x.mod("cha")," bonus to hit points regained."])],"cleric","utility",10),
	Power("Shielding Word",["divine"],"encounter","immediate interrupt",
          [Trigger("An ally is hit by an attack",("ranged",5)),
          Effect("The ally gains a +4 power bonus to AC until the end of your next turn")],"cleric","utility",10)
],"clericencounter13":[
     Power("Arc of the Righteous",["divine","lighting","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Make a secondary attack."),
          Target("one creature within 3 squares of you"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])],"cleric","attack",13),
     Power("Inspiring Strike",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You or one ally within 5 squares heals ",lambda x:x.mod("cha")+15," hit points"])],"cleric","attack",13),
     Power("Mantle of Glory",["divine","healing","implement","radiant"],"encounter","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"will",damage([2,10], [WISMOD])),
          Effect("Allies in the blast can spend a healing surge")],"cleric","attack",13),
      Power("Plague of Doom",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude",damage([3,8], [WISMOD])),
          Hit(["The target takes a -",MOD("cha")," penalty to all defenses until the end of your next turn"])],"cleric","attack",13)
],"clericdaily15":[
     Power("Holy Spark",["divine","lightning","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(2, [STRMOD]),["melee"]),
          Hit(["Target takes ongoing 10 lightning damage (save ends).  While this power's ongoing damage is in effect, any ally of the target that starts its turn within 3 squares of the target takes ",dmg(0,2,10),"."]),
          Miss("Half damage, and no ongoing lightning damage.")],"cleric","attack",15),
     Power("Purifying Fire",["divine","fire","healing","implement"],"daily","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"reflex",damage([3,10], [WISMOD])),
          Hit(["Ongoing 10 fire damage (save ends).  While this power's ongoing damage is in effect, you and your allies regain ",lambda x:x.mod("cha")+5," hit points when starting a turn adjacent to one or more targets taking the ongoing damage."]),
          Miss("Half damage, and no ongoing fire damage.")],"cleric","attack",15),
     Power("Seal of Warding",["divine","implement","radiant","zone"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([WISMOD],"will",damage([4,10], [WISMOD])),
          Hit("The target is slowed until the end of your next turn"),
          Miss("Half damage, and the target is not slowed"),
          Effect("The burst creates a zone of difficult terrain that grants cover to you and your allies against ranged attacks until the end of your next turn."),
          Sustain()],"cleric","attack",15)
],"clericutility16":[
    Power("Astral Shield",["conjuration","divine"],"encounter","standard",
          [Effect("You conjure a shield that appears in 1 square within range.  You and any allies adjacent to the shield gain a +2 bonus to AC.  Every round, you can move the shield up to a 3 square within range as a move action.  It can't be attacked or damaged and lasts until the end of the encounter.",("ranged",5))],"cleric","utility",16),
    Power("Cloak of Peace",["divine"],"daily","standard",
          [Target("you or one ally",("ranged",10)),
           Effect("The target gains a +5 power bonus to AC and a +10 power bonus to all other defenses until the end of the encounter.  This effect ends if the target makes an attack.")],"cleric","utility",16),
    Power("Divine Armor",["divine"],"daily","standard",
          [Target("You and each ally in burst",("close burst",3)),
           Effect("You gain a +2 power bonus to AC, and all targets gain resist 5 to all damage until the end of the encounter.")],"cleric","utility",16),
    Power("Hallowed Ground",["divine","zone"],"daily","standard",
          [Effect("The burst creates a zone of hallowed ground.  You and any allies gain the following benefits while within the zone: a +2 power bonus to saving throws, a +2 power bonus to all defenses, and a +2 power bonus to attack rolls.  The area remains hallowed until the end of the encounter.",("close burst",5))],"cleric","utility",16)
],"clericencounter17":[
     Power("Blinding Light",["divine","radiant","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Hit("The target is blinded until the end of your next turn")],"cleric","attack",17),
     Power("Enthrall",["charm","divine","implement","psychic"],"encounter","standard",
          [Target("each enemy in burst",("area burst",3,10)),Atk([WISMOD],"will",damage([2,10], [WISMOD])),
          Hit("The target is immobilized and unable to make attacks against you until the end of your next turn.")],"cleric","attack",17),
     Power("Sentinel Strike",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Choose one ally within 5 squares of you; if the target attacks that ally before the end of your next turn, reduce the target's damage against that ally to 0.")],"cleric","attack",17),
      Power("Thunderous Word",["divine","implement","thunder"],"encounter","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"reflex",damage([3,6], [WISMOD])),
          Hit(["Push the target ",lambda x:x.mod("cha")+3," squares"]),
          Effect("Allies in the blast can shift 1 square.")],"cleric","attack",17),
],"clericdaily19":[
     Power("Fire Storm",["divine","fire","implement","zone"],"daily","standard",
          [Target("each enemy in burst",("area burst",5,10)),Atk([WISMOD],"reflex",damage([5,10], [WISMOD])),
           Miss(),
           Effect(["The burst creates a zone of fire that lasts until the end of your next turn.  Enemies that start their turn in this zone take ",dmg(WISMOD,1,10),"."]),
           Sustain()],"cleric","attack",19),
     Power("Holy Wrath",["divine","healing","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",3,10)),Atk([STRMOD],"AC",damage([2,10], [STRMOD])),
          Effect("You gain regeneration 10 and a +2 power bonus to attack rolls until the end of the encounter.")],"cleric","attack",19),
     Power("Indomitable Spirit",["divine","healing","radiant","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Miss(),
          Effect("You and each ally within 5 squares of you regain hit points as if you had each spent a healing surge.")],"cleric","attack",19),
     Power("Knight of Glory",["conjuration","divine","implement"],"daily","standard",
          [Effect("You conjure a ghostly knight that occupies 1 square within range, and the knight makes the following melee attack.  It lasts until the end of the encounter.  You can move the knight 5 squares as a move action."),
           Target("one creature adjacent to the ghostly knight"),Atk([WISMOD],"AC",damage([3,10], [WISMOD])),
           Sustain("minor","The knight persists, and it repeats the attack.")],"cleric","attack",19)
],"clericutility22":[
    Power("Angel of the Eleven Winds",["conjuration","divine"],"daily","standard",
          [Effect("You conjure the likenmess of an angel that occupies 1 square within range.  The angel grants any target you can see a fly speed of 8 and a +4 power bonus to AC against opportunity attacks.  Changing the target is a minor action.  A creature that no longer benefits from the effect lands on the ground safely.  The angel can't move or be attakced or damaged, and it lasts until the end of the encounter.",("ranged",10))],"cleric","utility",22),
    Power("Clarion Call of the Astral Sea",["divine","healing","teleportation"],"daily","standard",
          [Target("you or one willing ally",("ranged",10)),
           Effect("The target teleports away to a safe location in the Astral Sea and regains hit points up to its maximum.  While it is away, the target can perceive the surroundings of its previous location, but it can't take any actions.  At the start of its next turn, it returns to an unoccupied space chosen by you within 5 squares of its previous location.")],"cleric","utility",22),
    Power("Cloud Chariot",["conjuration","divine"],"daily","standard",
          [Effect("You conjure a chariot of cloudstuff that occupies a 2-by-2 space within range, and a winged horse of cloudstuff that occupies a 2-by-2 space adjacent to the chariot.  The horse and chariot have a speed of fly 8.  You can move the chariot its speed as a move action.  The chariot can carry up to four Small or Medium creatures, and the horse can hold one Small or Medium rider.  The chariod grants cover to its occupants.  The chariot and the horse can't attack or be seperated, and they can't be attacked or damaged.  They remain until you take an extended rest unless you dismiss them (a free action)",("ranged",2))],"cleric","utility",22),
    Power("Purify",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("Every effect that a save can end is removed from the targets.")],"cleric","utility",22),
    Power("Sprit of Health",["conjuration","divine","healing"],"daily","standard",
          [Effect("You conjure a spirit that appears in 1 square within range.  You or any one ally adjacent or in the same square as the spirit can spend a healing surge as a minor action.  The spirit can heal one target per round and regains its healing ability at the start of each of your turns.  Creatures can move through the spirit's space without impediment.  The spirit can't move or be attacked or damaged, and it lasts until the end of the encounter.",("ranged",10))],"cleric","utility",22)    
],"clericencounter23":[
     Power("Astral Blades of Death",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([6,6], [WISMOD]))],"cleric","attack",23),
     Power("Divine Censure",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"cleric","attack",23),
     Power("Haunting Strike",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("The next attack roll you make against the target gains a +2 power bonus.")],"cleric","attack",23),
      Power("Healing Torch",["divine","healing","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("area burst",5,10)),Atk([WISMOD],"will",damage([3,8], [WISMOD])),
          Effect(["You and each ally in the burst gain a +",MOD("cha")," power bonus to AC until the end of next turn and can spend a healing surge.  Add ",MOD("cha")," to the hit points regained."])],"cleric","attack",23)
],"clericdaily25":[
     Power("Nimbus of Doom",["divine","radiant","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Effect("The target takes a -2 penalty to all defenses (save ends).")],"cleric","attack",25),
     Power("Sacred Word",["divine","implement","psychic"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),Atk([WISMOD],"fortitude",damage([4,10], [WISMOD])),
          Hit("The target is stunned until the end of your next turn"),
          Miss("Half damage, and the target is not stunned")],"cleric","attack",25),
     Power("Seal of Binding",["divine","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",damage([3,10], [WISMOD])),
          Hit("The target is stunned and can't be affected by any attack other than this one until the end of your next turn."),
          Sustain("standard",["Each time you sustain the power, you and take 15 damage.  The target remains stunned and protected against all other attacks.  You can't sustain this power if you are bloodied."])],"cleric","attack",25),
     Power("Seal of Protection",["divine","implement","radiant","zone"],"daily","standard",
          [Target("each enemy in burst",("close burst",2)),Atk([STRMOD],"reflex",damage([3,10], [STRMOD])),
          Effect("The burst creates a protected zone until the end of your next turn.  You and each ally within the zone gain a +2 bonus to AC.  Enemies that enter the zone end their current movement."),
          Sustain()],"cleric","attack",25),
],"clericencounter27":[
     Power("Punishing Strike",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,4],"AC", damage(4, [STRMOD]),["melee"])],"cleric","attack",27),
     Power("Sacrificial Healing",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["You and each ally within 10 squares of you can spend a healing surge.  Add ",CHAMOD, " to the hit poitns regained."])],"cleric","attack",27),
     Power("Scourge of the Unworthy",["divine","implement", "necrotic"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([WISMOD],"reflex",damage([4,10], [WISMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"cleric","attack",27),
      Power("Sunburst",["divine","healing","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"will",damage([3,8], [WISMOD])),
          Effect(["You and each ally in the burst regain ",lambda x:x.mod("cha")+10," hit points and make a saving throw."])],"cleric","attack",27),
],"clericdaily29":[
     Power("Astral Storm",["divine","fire","implement","lightning","thunder"],"daily","standard",
          [Target("each enemy in burst",("area burst",5,10)),Atk([WISMOD],"reflex",damage([6,10], [WISMOD])),
           Hit("Resistance doesn't reduce this damage unless the target has resistance to all 4 damage types, and only the weakest resistance applies.  A target that has vulnerability to any of the four damage types is subject to that vulnerability."),
           Miss(),
           Sustain("minor","When you sustain this power, make a secondary attack for lightning damage against every enemy within the zone:"),
           Target("each enemy in burst",("area burst",5,10)),Atk([WISMOD],"reflex",damage([2,10], [WISMOD])),
           Miss()],"cleric","attack",29),
     Power("Godstrike",["divine","weapon","radiant"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Miss()],"cleric","attack",29)
]}
    addPowers(clericList)

def druid():
    druidList={"druidat-will1":[
     Power("Call of the Beast",["charm","implement","primal","psychic"],"at-will","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"will", None),
          Hit(["The target can't gain combat advantage until the end of your next turn.  In addition, on its next turn the target takes ",lambda x:x.mod("wis")+raising(5,20)(x)," psychic damage whenever it makes any attack that doesn't include your ally nearest to it as a target."])],"druid","at-will",1),
     Power("Chill Wind",["cold","implement","primal"],"at-will","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"fortitude", damage([raising(1,20),6], [WISMOD])),
          Hit("Slide the target 1 square.")],"druid","at-will",1),
     Power("Flame Seed",["fire","implement","primal","zone"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex", damage([raising(1,20),6], [WISMOD])),
          Hit(["The squares adjacent to the target become a fiery zone that lasts until the end of your next turn.  Any enemy that enters the zone or starts its turn there takes ",MOD("wis")," fire damage."])],"druid","at-will",1),
      Power("Grasping Claws",["beast form","implement","primal"],"at-will","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([raising(1,20),8],[WISMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Special("This power can be used as a melee basic attack.")],"druid","at-will",1),
     Power("Pounce",["beast form","implement","primal"],"at-will","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([raising(1,20),8], [WISMOD])),
           Hit("The target grants combat advantage to the next creature to attack it before the end of your next turn."),
          Special("When charging, you can use this power in place of a melee basic attack.")],"druid","at-will",1),
     Power("Savage Rend",["beast form","implement","primal"],"at-will","standard",
          [Target("one creature"),Atk([WISMOD],"reflex", damage([raising(1,20),8], [WISMOD])),
          Hit("You slide the target 1 square."),
          Special("This power can be used as a melee basic attack.")],"druid","at-will",1),
     Power("Storm Spike",["implement","lightning","primal"],"at-will","standard",
          [Target("one creature"),Atk([WISMOD],"reflex", damage([raising(1,20),8], [WISMOD])),
          Hit(["If the target doesn't move at least 2 squares on its next turn, it takes ",MOD("wis")," lightning damage."])],"druid","at-will",1),
     Power("Thorn Whip",["implement","primal"],"at-will","standard",
          [Target("one creature"),Atk([WISMOD],"fortitude", damage([raising(1,20),8], [WISMOD])),
          Hit("You pull the target 2 squares.")],"druid","at-will",1),
],"druidencounter1":[
     Power("Cull the Herd",["beast form","charm","implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"will", damage([2,8],[WISMOD])),
          Hit("You pull the target 3 squares.")],"druid","attack",1),
     Power("Darting Bite",["beast form","implement","primal"],"encounter","standard",
          [Target("one or two creatures",("melee","touch")),Atk([WISMOD],"reflex",damage([1,10], [WISMOD])),
          Hit(["If at least one of the attacks hits, you can shift ",orfeat(2,DEXMOD,"primal predator")," squares"])],"druid","attack",1),
     Power("Frost Flash",["cold","implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"AC", damage([1,6], [WISMOD,orfeat(0,CONMOD,"primal guardian")])),
          Hit("The target is immobilized until the end of your next turn.")],"druid","attack",1),
      Power("Twisting Vines",["implement","primal"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex", damage([1,8],[WISMOD])),
          Hit("Each square adjacent to the target become difficult terrain until the end of your next turn.")],"druid","attack",1)
],"druiddaily1":[
     Power("Faerie Fire",["implement","primal","radiant"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"will", None),
          Hit("The target is slowed and grants combat advantage (save ends both)"),
          Aftereffect(["3d6+",MOD("wis")," radiant damage, and the target grants combat advantage until the end of your next turn."]),
          Miss(["1d6+",MOD("wis")," radiant damage, and the target grants combat advantage until the end of your next turn."])],"druid","attack",1),
     Power("Fires of Life",["fire","healing","implement","primal"],"daily","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([1,6],[WISMOD])),
          Hit(["Ongoing 5 fire damage (save ends).  If the target drops to 0 hit points before it saves against the ongoing damage, one creature of your choice within 5 squares of the target regains ",lambda x:x.mod("con")+5," hit points."]),
          Aftereffect(["One creature of your choice within 5 squares of the target regains ",MOD("con")," hit points."]),
          Miss()],"druid","attack",1),
     Power("Savage Frenzy",["beast form","implement","primal"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([WISMOD],"reflex", damage([1,6], [WISMOD])),
          Hit("The target is dazed and slowed (save ends both)."),
          Miss("Half damage, and the target is slowed until the end of your next turn.")],"druid","attack",1),
      Power("Wind Prison",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
           Effect("The target grants combat advantage until it moves or until the end of the encounter.  when the target first moves before the end of the encounter, each enemy within 5 squares of the target is knocked prone.")],"druid","attack",1)
],"druidutility2":[
    Power("Barkskin",["primal"],"encounter","minor",
          [Target("you or one ally",("ranged",5)),
           Effect(["Until end of your next turn, the target gains a +",MOD("con")," power bonus to AC."])],"druid","utility2"),
    Power("Fleet Pursuit",["beast form","primal"],"daily","minor",
          [Effect(["Until the end of the encounter, while you are in beast form you gain a +",MOD("dex")," power bonus to your speed."])],"druid","utility2"),
    Power("Obscuring Mist",["primal","zone"],"daily","standard",
          [Effect("The burst creates a zone of lightly obscured spaces that last until the end of your next turn.",("area burst",1,10)),
           Sustain("minor","The zone persists, and you can increase its size by 1 to a maximum of burst 5.")],"druid","utility2"),
    Power("Skittering Sneak",["primal"],"daily","free",
          [Effect("Until the end of the encounter, you can use Wild Shape to assume the form of a Tiny natural beast or fey beast, such as a mouse, a house cat, or a large spider.  In this form, you gain a +5 bonus to Stealth checks.  You can't attack, pick up anything, or manipulate objects."),
           Other("  Until this power ends, you can use Wild Shape to change among this form, another beast form, and your humanoid form.")],"druid","utility2"),
],"druidencounter3":[
     Power("Battering Claws",["beast form","implement","primal"],"encounter","standard",
          [Target("one or two creatures",("melee","touch")),Atk([WISMOD],"reflex", damage([1,8], [WISMOD])),
          Hit("You slide the target 2 squares.")],"druid","attack",3),
     Power("Call Lightning",["implement","lightning","primal","thunder","zone"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([1,8],[WISMOD])),
          Effect("The burst creates a zone of rumbling thunder that lasts until the end of your next turn.  While within the zone, any enmy takes a -2 penalty to attack rolls, and any enemy that leaves the zone takes 5 thunder damage.")],"druid","attack",3),
     Power("Predator's Flurry",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([1,6], [WISMOD])),
          Hit("The primary target is dazed until the end of your next turn."),
          Effect(["You shift ",orfeat(2,DEXMOD,"primal predator")," squares and then make a secondary attack."]),
          Target("One creature other than the primary target"),Atk([WISMOD],"reflex",damage([1,6],[WISMOD])),
          Hit("The secondary target is dazed until the end of your next turn.")],"druid","attack",3),
      Power("Tundra Wind",["cold","implement","primal"],"encounter","standard",
          [Target("each creature in blast"),Atk([WISMOD],"fortitude", damage([2,6], [WISMOD])),
          Hit(["You knock the creature prone",orfeat(".",[" and push it ",MOD("con")," squares."],"primal guardian")])],"druid","attack",3)
],"druiddaily5":[
     Power("Hobbling Rend",["beast form","implement","primal"],"daily","standard",
          [Target("one or two creatures",("melee","touch")),Atk([WISMOD],"reflex", damage([2,8], [WISMOD])),
           Hit("The target is slowed (save ends)."),
           Miss("Half damage, and the target is slowed until the end of your next turn.")],"druid","attack",5),
     Power("Primal Wolverine",["beast form","implement","primal"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([1,8], [WISMOD])),
          Hit("Ongoing 5 damage (save ends)."),
          Miss(),
          Effect(["Until the end of the encounter, while you are in beast form and are able to take action, any enemy that makes a melee attack against you takes ",MOD("con")," damage."])],"druid","attack",5),
     Power("Roar of Terror",["beast form","fear","implement","primal","psychic"],"daily","standard",
          [Target("each creature in blast",("close blast",5)),Atk([WISMOD],"will", damage([2,6], [WISMOD])),
          Hit("The target is dazed (save ends)."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"druid","attack",5),
      Power("Wall of Thorns",["conjuration","implement","primal"],"daily","standard",
          [Effect("You conjure a wall of thorny, writhing vines.  The wall can be up to 4 squares high and must be on a solid surface, and it lasts until the end of your next turn.  The wall provides cover.  A creature's line of sight through a wall square is blocked unless the creature is adjacent to the wall.",("area wall",8,10)),
           Line(["Entering a wall square costs 3 extra squares of movement.  If a creature enters the wall's space or starts its turn there, that creature takes ",dmg(WISMOD,1,10)," and ongoing 5 damage (save ends)."])],"druid","attack",5)
],"druidutility6":[
    Power("Black Harbinger",["primal"],"daily","free",
          [Effect("Until the end of the encounter, you can use Wild Shape to assume the form of a Tiny raven.  In this form, you gain a fly speed equal to your speed, and your walking speed becomes 2.  You can't attack, pick up anything, or manipulate objects."),
           Line("Until this power ends, you can use Wild Shape to change among this for, another beast form, and your humanoid form.")],"druid","utility",6),
    Power("Camouflage Cloak",["primal"],"encounter","minor",
          [Target("you or one ally",("ranged",5)),
           Effect("The target becomes invisible until he or she moves or until the end of your next turn.")],"druid","utility",6),
    Power("Chant of Sustenance",["primal"],"daily","minor",
          [Target("Each of your zones in burst",("close burst",10)),
           Effect("You move each target 5 squares.  If any of those target will end at the end of your current turn, you can make those targets last until the end of your next turn.")],"druid","utility",6),
    Power("Stalker's Eyes",["primal"],"daily","minor",
          [Effect("You gain low-light vision and a +4 bonus to Perception checks until the end of the encounter.")],"druid","utility",6)
],"druidencounter7":[
     Power("Feast of Fury",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([2,8], [WISMOD])),
          Effect("Make a secondary attack"),
          Target("one creature other than the primary target",("melee","touch")),Atk([WISMOD],"reflex", damage([1,10], [WISMOD])),
          Special("The secondary attack deals 5 extra damage if the primary attack hit.")],"druid","attack",7),
     Power("Latch On",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([2,10], [WISMOD])),
          Hit(["You grab the target.",orfeat("",["The target takes a -",MOD("dex")," penalty to cehcks to escape the grab."],"primal predator")])],"druid","attack",7),
     Power("Swirling Winds",["implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([1,10], [WISMOD])),
          Hit(["You pull each creature within 3 squares of the target 1 square.",orfeat("",["  If you pull one or more creatures that are adjacent to the target, the target takes ",MOD("con")," damage."],"primal guardian")])],"druid","attack",7),
      Power("Tremor",["implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([2,8], [WISMOD])),
          Hit("You knock the target and each enemy adjacent to it prone.")],"druid","attack",7)
],"druiddaily9":[
     Power("Entangle",["implement","primal","zone"],"daily","standard",
          [Target("each crature in burst",("area burst",2,10)),Atk([WISMOD],"reflex", damage([1,6], [WISMOD])),
          Hit("The target is immobilized (save ends)."),
          Effect("The burst creates a zone of grasping roots and vines that lasts until the end of the encounter.  Any enemy that starts it turn within the zone is slowed until the end of your next turn.  While you are in beast form, your melee attacks against enemies in the zone can score critical hits on rolls of 18-20.")],"druid","attack",9),
     Power("Feral Mauling",["beast form","implement","primal"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
          Hit("The target takes a -2 penalty to attack rolls (save ends)."),
          Miss("Half damage, and the target takes a -2 penalty to attack rolls until the end of your next turn.")],"druid","attack",9),
     Power("Primal Wolf",["beast form","implement","primal"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([2,8], [WISMOD])),
          Hit("You knock the target prone, and it can't stand up (save ends)."),
          Miss("Half damage, and you knock the target prone."),
          Effect("Until the end of the encounter, you gain a +2 bonus to attack rolls against prone targets.  In addition, whenever you hit an enemy with a melee attack while you are in beast form, you can knock that enemy prone.")],"druid","attack",9),
      Power("Sunbeam",["implement","primal","radiant"],"daily","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"will",None),
          Hit("The target is blinded (save ends)"),
          Aftereffect(["",dmg(WISMOD,1,10),"."]),
          Miss(["",dmg(WISMOD,1,10),"."])],"druid","attack",9),
],"druidutility10":[
    Power("Armor of the Wild",["beast form","primal"],"daily","minor",
          [Effect(["Until the end of the encounter, while you are in beast form, you gain resistance ",MOD("con")," to all damage."])],"druid","utility",10),
    Power("Feywild Sojourn",["primal","teleportation"],"encounter","move",
          [Effect("You teleport to a safe place in the Feywild.  While you are there, you can't take any actions other than using your second wind and Wild Shape.  At the end of your next turn or as a move action before then, you reappear in an unoccupied space within 10 squares of the space you left.")],"druid","utility",10),
    Power("Roots of Rescue",["primal"],"encounter","immediate interrupt",
          [Trigger("You or an ally within 10 squares of you is pulled, pushed, or slid",("ranged",10)),
           Target("The character affected by forced movement."),
           Effect("The target is unaffected by the forced movement.")],"druid","utility",10),
    Power("Winter Storm",["primal","zone"],"daily","standard",
          [Effect("The burst creates a zone of difficult terrain that lasts until the end of your next turn.  While within the zone, any enemy gains vulnerable 5 cold.  You can end the zone as a minor action."),
           Sustain("minor","The zone persists, and you can increase its size by 1 to a maximum of burst 5.")],"druid","utility",10)
],"druidencounter13":[
     Power("Claws of Retribution",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex", damage([2,6], [WISMOD])),
          Hit(["Until the end of your next turn, you can make a melee basic attack as an opportunity action against any enemy adjacent to you that hits or misses with an attack.",orfeat("",["  You gain a +",MOD("dex")," bonus to the attack rolls of the melee basic attacks."],"primal predator")])],"druid","attack",13),
     Power("Expose Weakness",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"AC", damage([2,8], [WISMOD])),
          Hit(["The next attack against the target before the end of your next turn is made agaisnt the taret's lowest defense.",orfeat("",["  If the next attack hits the target, the attack also deals ",MOD("con")," extra damage."],"primal guardian")])],"druid","attack",13),
     Power("Thunder Crash",["implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"fortitude",None),
          Hit("The target is stunned until the end of your next turn.")],"druid","attack",13),
      Power("Tidal Surge",["implement","primal"],"encounter","standard",
          [Target("each creature in blast",("close blast",5)),Atk([WISMOD],"fortitude",damage([2,6], [WISMOD])),
          Hit("You slide the target 3 squares.")],"druid","attack",13)
],"druiddaily15":[
     Power("Baleful Polymorph",["implement","polymorph","primal"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"will", None),
          Hit("The target is stunned and assumes the form of a harmless, Tiny natural beast or fey beast such as a newt, a turtle, or a mouse (save ends both).  As a minor action, you can end the effect, which makes the target subject to the aftereffect."),
          Aftereffect(["",dmg(WISMOD,1,10),"."]),
          Miss(["",dmg(WISMOD,1,10)," , and the target is dazed (save ends)."])],"druid","attack",15),
     Power("Call Lightning Storm",["implement","lightning","primal","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([2,6], [WISMOD])),
          Effect("The burst creates a zone of wind and lightning that lasts until the end of your next turn.  Any creature that enters the zone or starts its turn there is slowed until the end of your next turn.  As a move action, you can move the zone 5 squares."),
          Sustain("minor","The zone persists, and each creature within it takes 5 lightning damage.")],"druid","attack",15),
     Power("Devouring Ice",["cold","implement","primal","reliable"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude",damage([2,10], [WISMOD])),
          Hit("The target is immobilized and takes ongoing 5 cold damage (save ends both)."),
          Aftereffect(["",dmg(WISMOD,2,10),"."])],"druid","attack",15),
     Power("Revitalizing Pounce",["beast form","implement","primal","zone"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([3,8], [WISMOD])),
          Hit("You remove yourself from every effect that a save can end."),
          Miss("Half damage, and you make a saving throw against each effect that a save can end.")],"druid","attack",15),
     Power("Slashing Claws",["beast form","implement","primal","zone"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"fortitude",damage([2,10], [WISMOD])),
          Hit("Ongoing 10 damage (save ends)."),
          Miss("Half damage, and ongoing 5 damage (save ends).")],"druid","attack",15),
],"druidutility16":[
    Power("Howl of the Wild",["beast form","healing","primal"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
           Effect(["You spend a healing surge, and each target regains ",lambda x:raising(1,5)(x)-2,"d6 hit points."])],"druid","utility",16),
    Power("Insect Plague",["primal"],"daily","free",
          [Effect("Until the end of the encounter, you can use Wild Shape to assume the form of a cloud of insects.  In this form, you gain a fly speed equal to your speed, and you can hover.  You also become insubstantial.  When you squeeze, you can move a full speed instead of half speed and can fit through any opening large enough to accomodate even a single insect.  You can't attack, pick up anything, or manipulate objects."),
           Line("Until this power ends, you can use Wild Shape to change among this form, another beast form, and your humanoid form.")],"druid","utility",16),
    Power("Primal Restoration",["healing","primal"],"daily","standard",
          [Target("You and each ally in burst",("close burst",2)),
           Effect("Each target can spend a healing surge either to regain hit points or to remove one effect that a save can end.")],"druid","utility",16),
    Power("Wall of Stone",["conjuration","primal"],"daily","standard",
          [Effect("You conjure a wall of rough stone.  The wall can be up to 6 squares high and must be on a solid surface.  The wall is a solid obstacle.  Each square of the wall has 100 hit points and crumbles into difficult terrain if it is destroyed.  The whole wall crumbles into difficult terrain at the end of the encounter.",("area wall",12,10))],"druid","utility",16)
],"druidencounter17":[
     Power("Windstorm",["implement","primal"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"fortitude", damage([3,6], [WISMOD])),
          Hit(["You slide the target ",orfeat(2,lambda x:x.mod("con")+1,"primal guardian")," squares."])],"druid","attack",17),
     Power("Lightning Cascade",["implement","lightning","primal","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([2,8], [WISMOD])),
          Hit("The primary target is slowed until the end of your next turn."),
          Effect("Make a secondary attack that is an area burst 5 centered on the primary target."),
          Target("one creature other than the primary target in burst."),Atk([WISMOD],"reflex",damage([1,8],[WISMOD])),
          Hit("Hitting the secondary target also damages the primary target; the secondary target is slowed until the end of your next turn.")],"druid","attack",17),
     Power("Scavenger's Prize",["beast form","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"AC", damage([3,10], [WISMOD])),
          Hit(["You grab the target.",orfeat("",["  You can also shift ",MOD("dex")," squares and pull the target with you."],"primal predator")])],"druid","attack",17),
      Power("Shifting Rake",["beast form","implement","primal"],"encounter","standard",
          [Special("Before and after the attack, you shift 2 squares."),
           Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([2,10], [WISMOD])),
          Hit("The target cannot shift until the end of your next turn.")],"druid","attack",17),
],"druiddaily19":[
     Power("Entangling Thorns",["implement","primal"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"reflex",None),
           Hit("The target is immobilized and takes ongoing 5 damage (save ends both)."),
           Aftereffect(["",dmg(WISMOD,2,6),"."]),
           Miss(["",dmg(WISMOD,1,6),", and the target is immobilized until the end of your next turn."])],"druid","attack",19),
     Power("Lunge and Vanish",["beast form","implement","primal"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([4,10], [WISMOD])),
          Effect("You become invisible and then shift 5 squares.  You remain invisible until the end of your next turn.")],"druid","attack",19),
     Power("Primal Bear",["beast form","implement","primal"],"daily","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"fortitude",damage([3,10], [WISMOD])),
          Hit("You grab the target.  Until the grab ends, the target takes 10 damage at the start of your turn."),
          Miss("Half damage, and you grab the target."),
          Effect("Until the end of the encounter, while you are in beast form, you gain a +2 bonus to AC and Fortitude.")],"druid","attack",19),
     Power("Winter Hailstorm",["cold","implement","primal","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"fortitude",damage([4,6],[WISMOD])),
           Miss(),
           Effect("The burst creates a zone of wind and hail that lasts until the end of your next turn.  Any creature that enters the zone or starts its turn there is slowed until the end of your next turn and takes 5 cold damage.  You can end the zone as a minor action."),
           Sustain("minor","The zone persists, and you can increase its size by 1 to a maximum of burst 5.")],"druid","attack",19),
],"druidutility22":[
    Power("Phantom Beast",["beast form","primal"],"daily","minor",
          [Effect("Until the end of the encounter, whenever you use Wild Shape to change into beast form, you become insubstaintial and gain phasing until the end of your turn.")],"druid","utility",22),
    Power("Sky Talon",["primal"],"daily","free",
          [Effect("Until the end of the encounter, you can use Wild Shape to assume the form of an eagle that is your size.  In this form, you gain a fly speed equal to 2+ your speed, and you can hover.  You can't use daily attack powers or manipulate objects."),
           Line("Until this power ends, you can use Wild Shape to change among this form, another beast form, and your humanoid form.")],"druid","utility",22),
    Power("Unseen Beast",["primal"],"daily","minor",
          [Effect("Until the end of the encounter, whenever you use Wild Shape to change into beast form, you become invisible until the end of your turn.")],"druid","utility",22),
    Power("Unyielding Roots",["healing","primal"],"daily","standard",
          [Target("you and each ally in burst",("close burst",5)),
           Effect(["Until the end of your next turn, each target can negate being pulled, pushed, or slid.  In addition, if a target is bloodied at the start of his or her turn, he or she gains ",MOD("con")," hit pints."]),
           Sustain("minor","the effect persists.")],"druid","utility",22),
],"druidencounter23":[
     Power("Grasping Earth",["implement","primal"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([WISMOD],"will",damage([2,6], [WISMOD])),
           Hit(["The target is immobilized until the end of your next turn.",orfeat("",["  Until the end of your next turn, while you are in beast form you gain a +",MOD("dex")," bonus to attack rolls against the target."],"primal predator")])],"druid","attack",23),
     Power("Primal Roar",["beast form","implement","primal","psychic"],"encounter","standard",
          [Target("each enemy in blast"),Atk([WISMOD],"will", damage([2,8], [WISMOD])),
          Hit("The target is knocked prone and deafened until the end of your next turn.")],"druid","attack",23),
     Power("Stormburst",["implement","lightning","primal"],"encounter","standard",
          [Target("each creature in burst"),Atk([WISMOD],"reflex", damage([2,6], [WISMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Effect("Until the end of your next turn, any creature that enters the area of the burst or starts its turn there takes 5 lightning damage.")],"druid","attack",23),
      Power("Strength of the Hunt",["beast form","healing","implement","primal"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([WISMOD],"reflex",damage([3,10], [WISMOD])),
          Hit(["You can spend a healing surge.",orfeat("","  An ally within 5 squares of you can also spend a healing surge.","primal guardian")])],"druid","attack",23)
],"druiddaily25":[
     Power("Ferocious Maul",["beast form","implement","primal"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"reflex", None),
           Hit("You knock the target prone."),
           Effect("Make a secondary attack against the target."),
           Atk([WISMOD],"will", None),
           Hit("The target is weakened (save ends)."),
           Effect("Make a tertiary attack against the target."),
           Atk([WISMOD],"fortitude",None),
           Hit(["You push the target ",MOD("con")," squares, and the taret is dazed (save ends)."]),
           Effect(["The target takes ",dmg(WISMOD,2,10),".  If all three attacks hit, the target takes ",MOD("dex")," extra damage."])],"druid","attack",25),
     Power("Fey Lure",["charm","implement","primal","radiant","zone"],"daily","standard",
          [Target("each enemy in burst",("area burst",3,20)),Atk([WISMOD],"will",damage([3,6], [WISMOD])),
           Miss(),
          Effect("The burst creates a zone of eldritch lights that lasts until the end of your next turn.  While the zone persists, you slide each enemy within it 3 squares at the end of your turn."),
          Sustain()],"druid","attack",25),
     Power("Primal Storm",["fire","implement","lightning","primal","zone"],"daily","standard",
          [Target("each enemy in burst",("area burst",4,10)),Atk([WISMOD],"fortitude",damage([4,6], [WISMOD])),
          Hit("The primary target is knocked prone."),
          Miss(),
          Effect("The burst creates a zone of raging wind that lasts until the end of your next turn.  While the zone persists, you can make the following secondary attack, using a square within the zone as the attack's origin square."),
          Other("Opportunity Action"),
          Trigger("A prone enemy within the zone stands up",("close burst",1)),
          Target("The triggering enemy in burst"),Atk([WISMOD],"reflex",None),
          Hit("The secondary target cannot stand up during its current turn."),
          Sustain()],"druid","attack",25),
     Power("Primal Tiger",["beast form","implement","primal"],"daily","standard",
          [Target("Each enemy in burst you can see",("close burst",1)),Atk([WISMOD],"reflex",damage([6,6], [WISMOD])),
          Hit(["If the attack hits at least once, you shift ",MOD("dex")," squares."]),
          Effect("Until the end of the encounter, while you are in beast form you can make a melee basic attack as an opportunity action against any enemy that enters a square adjacent to you.")],"druid","attack",25),
],"druidencounter27":[
     Power("Explosive Wind",["implement","primal"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([WISMOD],"fortitude", damage([4,6], [WISMOD])),
           Hit("You slide the target 5 squares.")],"druid","attack",27),
     Power("Feral Whirlwind",["beast form","implement","primal"],"encounter","standard",
          [Target("each enemy in burst you can see"),Atk([WISMOD],"reflex", damage([4,6], [WISMOD]))],"druid","attack",27),
     Power("Leaping Rake",["beast form","implement","primal"],"encounter","standard",
          [Effect(["Before the attack, you shift ",orfeat(3,lambda x:x.mod("dex")+1,"primal predator")," squares."]),
           Target("each enemy within reach during the shift",("melee","touch")),Atk([WISMOD],"reflex",damage([1,10], [WISMOD])),
          Hit("The target is dazed until the end of your turn.")],"druid","attack",27),
      Power("Polar Blast",["cold","implement","primal"],"encounter","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"reflex",damage([3,8], [WISMOD])),
          Hit(["The target is immobilized ",orfeat("",["and gains vulnerability ",MOD("con")," to all damage"],"primal guardian"),"until the end of your next turn."])],"druid","attack",27),
],"druiddaily29":[
     Power("Blinding Blizzard",["cold","implement","primal","zone"],"daily","standard",
          [Target("each creature nemy in burst",("area burst",2,10)),Atk([WISMOD],"fortitude",damage([4,6], [WISMOD])),
           Hit("The primary target is blinded (save ends)."),
           Miss(),
           Effect("The burst creates a zone of snow that lasts until the end of your next turn.  While the zone persists, you can make the following secondary attack, using a suqare within the zone as the attack's origin square."),
           Other("Opportunity action"),
           Trigger("A creature enters the zone or starts its turn there",("close burst",1)),
           Target("the triggering creature in burst",("close burst",1)),Atk([WISMOD],"reflex",None),
           Hit("The secondary target is restrained until the end of your next turn."),
           Sustain()],"druid","attack",29),
     Power("Gaze of the Beast",["beast form","charm","implement","primal","psychic"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"will", None),
          Hit("The target is dominated (save ends)"),
          Aftereffect(["",dmg(WISMOD,3,10)]),
          Miss("The target is dazed (save ends)"),
          Aftereffect(["",dmg(WISMOD,2,10)])],"druid","attack",29),
     Power("Lifeleech Thorns",["healing","implement","primal"],"daily","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([WISMOD],"reflex", None),
          Hit(["The target is immobilized and weakened and takes ongoing 10 damage (save ends all).  You regain ",MOD("con")," hit points for each target you hit with this power."]),
          Aftereffect(["",dmg(WISMOD,3,8)]),
          Miss(["",dmg(WISMOD,1,10),", and the target is weakened (save ends)."])],"druid","attack",29),
     Power("Primal Archetype",["beast form","implement","primal"],"daily","standard",
          [Target("one or two creatures",("melee","touch")),Atk([WISMOD],"reflex", damage([2,6], [WISMOD])),
           Special("You gain a +2 bonus to the attack roll against a bloodied target"),
           Hit("The target is stunned (save ends)."),
          Miss("Half damage, and the target is stunned until the end of your next turn."),
          Effect("Until the end of the encounter, while you are in beast form you gain a +4 bonus to speed and a +2 bonus to attack rolls against bloodied targets, and you can shift 2 squares as a move action.")],"druid","attack",29)
]}
    addPowers(druidList)

def fighter():
    fighterList={"fighterat-will1":[
      Power("Brash Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(raising(1,20), [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Effect("You grant combat advantage to the target until the end of your turn.")],"fighter","at-will",1),
      Power("Cleave",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit(["One enemy adjacent to you other than the target takes ",MOD("str")," damage"])],"fighter","at-will",1),
      Power("Crushing Surge",["invogorating","martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])],"fighter","at-will",1),
      Power("Dual Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature, primary and off-hand attacks"),Atk([STRMOD],"AC", damage(raising(1,20), []),["melee","primary"])
          ,Atk([STRMOD],"AC", damage(raising(1,20), []),["melee","offhand"])],"fighter","at-will",1),
      Power("Footwork Lure",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit("Shift 1 square and slide the target 1 square into the space you just left.")],"fighter","at-will",1),
      Power("Reaping Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Miss(["",lambda x: x.mod("str")/2," damage; ",MOD("str")," damage for 2-handed weapons"])],"fighter","at-will",1),
      Power("Sure Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(raising(1,20), []),["melee"])],"fighter","at-will",1),
      Power("Tide of Iron",["martial","weapon"],"at-will","standard",
          [Requirement("You must be using a shield"),
          Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit("Push the target one square if it is your size, smaller than you, or one size category larger.  You can shift into the space that the target occupied.")],"fighter","at-will",1)
],"fighterencounter1":[
      Power("Bell Ringer",["invigorating","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", None,["melee"]),
          Hit(["The target is dazed until the end of your next turn"]),
          Special(["If you are wielding an axe, a hammer, or a mace, the attack deals ",MOD("con")," damage"])],"fighter","attack",1),
      Power("Covering Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("An ally adjacent to the target can shift 2 squares.")],"fighter","attack",1),
      Power("Distracting Spate",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["primary","offhand"],DEXMOD]]),["melee"]),
          Hit("The target grants combat advantage to you until the end of your next turn.")],"fighter","attack",1),
      Power("Funneling Flurry",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
           Target("a different creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"]),
          Hit("On each hit you slide the target 1 square.")],"fighter","attack",1),
      Power("Insightful Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["If the target is bloodied, the attack deals ",MOD("wis")," extra damage."])],"fighter","attack",1),
      Power("Lunging Strike",["martial","weapon"],"encounter","standard",
          [Special("Increase weapon reach by 1 for this attack"),
           Target("one creature"),Atk([STRMOD,-1],"AC", damage(2, [STRMOD]),["melee"])],"fighter","attack",1),
      Power("Passing Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("Shift one square, and make a secondary attack"),
          Target("one creature other than the primary target"),Atk([STRMOD,2],"AC", damage(1, [STRMOD]),["melee"])],"fighter","attack",1),
      Power("Shield Bash",["martial"],"encounter","standard",
          [Requirement("You must be using a shield"),
           Target("one creature",("melee",1)),Atk([STRMOD,2],"reflex", damage([1,10], [STRMOD,lambda x:x.check("checkrace","dwarf")*x.mod("wis")])),
           Hit("You push the target 1 square and knock it prone."),
           Special("When charging, you can use this power in place of a melee basic attack.")],"fighter","attack",1),
      Power("Spinning Sweep",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("Knock the target prone")],"fighter","attack",1),
      Power("Steel Serpent Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is slowed and cannot shift until the end of your next turn")],"fighter","attack",1)
],"fighterdaily1":[
      Power("Brute Strike",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])],"fighter","attack",1),
      Power("Comeback Strike",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You can spend a healing surge"])],"fighter","attack",1),
      Power("Flanking Assault",["martial","weapon"],"daily","standard",
          [Target("one creature you are flanking"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["For each ally adjacent to the target, the attack deals ",MOD("dex")," extra damage."]),
          Miss()],"fighter","attack",1),
      Power("Harrier's Ploy",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect(["Until the end of the encounter, if the target moves, you can shift ",MOD("dex")," squares as an immediate reaction."])],"fighter","attack",1),
      Power("Harrier's Ploy",["invigorating","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Hit("The target is slowed (save ends).  If the target is already slowed, it is instead immobilized (save ends)."),
          Miss("Half damage, and the target is not slowed or immobilized.")],"fighter","attack",1),
      Power("Lasting Threat",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["The target marked until the end of the encounter or until you are knocked unconcious.  No mark can supersede this one."])],"fighter","attack",1),
      Power("Tempest Dance",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["If you have combat advantage against the target, the attack deals ",MOD("dex")," extra damage."]),
          Effect("You can shift 1 square and repeat the attack against a second target.  You can then shift 1 square and repeat the attack against a third target.")],"fighter","attack",1),
      Power("Villain's Menace",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You gain a +2 power bonus to attack rolls and a +4 power bonus to damage rolls against the target until the end of the encounter"]),
          Miss(["You Gain a +1 power bonus to attack rolls and a +2 power bonus to damage rolls against the target until the end of the encounter"])],"fighter","attack",1)
],"fighterutility2":[
      Power("Boundless Endurance",["healing","martial","stance"],"daily","minor",
          [Effect(["You gain regeneration ",lambda x: x.mod("con")+2," when you are bloodied"])],"fighter","utility2"),
      Power("Create Opening",["martial"],"encounter","minor",
          [Target("one creature",("melee",1)),
           Effect("The target is marked until the end of your next turn.  The target can then make a melee basic attack against you as a free action, with a -2 penalty to the attack roll.  One ally adjacent to the target can shift its speed as a free action.")],"fighter","utility2"),
      Power("Defensive Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you are slowed and gain a +2 power bonus to AC.  Whenever an enemy misses you with a melee attack you can shift 1 square as an immediate reaction.  You can end this stance as a free action.")],"fighter","utility2"),
      Power("Get Over Here",["martial"],"encounter","move",
          [Target("one willing ally",("melee",1)),
           Effect("You slide the target 2 squares to a square adjacent to you")],"fighter","utility2"),
      Power("No Opening",["martial"],"encounter","immediate interrupt",
          [Trigger("An enemy attacks you and has combat advantage against you"),
          Effect("Cancel the combat advantage you were about to grant to the attack")],"fighter","utility2"),
      Power("Pass Forward",["martial"],"at-will","move",
          [Effect("You pick and adjacent enemy and move up to your speed.  As long as you end your movement in a square adjacent to that enemy, your movement does not provoke attacks of opportunity from that enemy,")],"fighter","utility2"),
      Power("Shielded Sides",["martial"],"encounter","minor",
          [Requirement("You must be using a shield"),
          Effect("Until the end of your next turn, you gain a +2 power bonus to AC and Reflex and do not grant combat advantage to creatures flanking you.")],"fighter","utility2"),
      Power("Shrewd Repositioning",["martial"],"encounter","immediate reaction",
          [Trigger("You are hit by an attack"),
          Effect(["You can shift ",MOD("wis")," squares."])],"fighter","utility2"),
      Power("Unstoppable",["healing","martial"],"daily","minor",
          [Effect(["You gain 2d6 + ",lambda x:x.mod("con")," temporary hit points"])],"fighter","utility2")
],"fighterencounter3":[
      Power("Advance Lunge",["martial","weapon"],"encounter","standard",
          [Effect("Before the attack you can shift 1 square."),
           Special("If you are wielding a light blade or a spear, you can either shift 2 squares before the attack or shift 1 square before and 1 square after."),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["If you have combat advantage against the target, the attack deals ",MOD("dex")," extra damage."])],"fighter","attack",3),
      Power("Armor-Piercing Thrust",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,[["spear","light blade"],DEXMOD]],"reflex", damage(1, [STRMOD,[["spear","light blade"],DEXMOD]]),["melee"])],"fighter","attack",3),
      Power("Blinding Smash",["invigorating","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", None,["melee"]),
          Hit(["The target is blinded until the end of your next turn"]),
          Special(["If you are wielding an axe, a hammer, or a mace, the attack deals ",MOD("con")," damage"])],"fighter","attack",3),
      Power("Crushing Blow",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD,[["axe","hammer", "mace"],CONMOD]]),["melee"])],"fighter","attack",3),
      Power("Dance of Steel",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("If you're wielding a polearm or heavy blade, the target is immobilized until the end of your next turn")],"fighter","attack",3),
      Power("Parry and Riposte",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy misses you or an ally with a melee attack"),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target grants combat advantage to you and your allies until the end of your next turn.")],"fighter","attack",3),
      Power("Precise Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,4],"AC", damage(1, [STRMOD]),["melee"])],"fighter","attack",3),
      Power("Probing Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
           Hit("You gain a +4 power bonus to attack rolls against the target until the end of your next turn."),
           Special("When making an opportunity attack you can use this power in place of a melee basic attack.")],"fighter","attack",3),
      Power("Rain of Blows",["martial","weapon"],"encounter","standard",
          [Target("one creature, two attacks"),Atk([STRMOD],"AC", damage(1, []),["melee"]),
          Other("Weapon: If you're wielding a flail, a light blade, or a spear and have Dexterity 15 or higher, make the attack a third time against either the target or a different creature.")],"fighter","attack",3),
      Power("Rhino Strike",["martial","weapon"],"encounter","standard",
          [Requirement("You must charge and use this power in place of a melee basic attack.  If you're using a shield, the movement during your charge does not provoke opportunity attacks."),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])],"fighter","attack",3),
      Power("Shield Slam",["martial","weapon"],"encounter","free",
          [Trigger("You hit the enemy with a melee attack"),
           Requirement("You must be using a shield"),
           Target("the triggering enemy"),Atk([STRMOD,2],"fortitude", None,["melee","one-hand"]),
           Hit("You push the target 1 square and knock it prone.")],"fighter","attack",3),
      Power("Sweeping Blow",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD,[["axe","flail", "heavy blade"],lambda x:x.mod("str")/2]],"AC", damage(1, [STRMOD]),["melee"])],"fighter","attack",3)
],"fighterdaily5":[
      Power("Agonizing Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["flail"],DEXMOD]]),["melee"]),
          Hit("The target is dazed and immobilized (save ends both)."),
          Miss("Half damage, and the target is not dazed or immobilized.")],"fighter","attack",5),
      Power("Bedeviling Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, once per round when an ally hits the target with a melee attack, you can make a melee basic attack with combat advantage against the target as a free action.")],"fighter","attack",5),
      Power("Cometfall Charge",["martial","weapon"],"daily","standard",
          [Requirement("You must charge and use this power in place of a melee basic attack"),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,CONMOD]),["melee"]),
          Miss()],"fighter","attack",5),
      Power("Crack the Shell",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("The target takes ongoing 5 damage and a -2 penalty to AC (save ends both)")],"fighter","attack",5),
      Power("Dizzying Blow",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is immobilized (save ends)")],"fighter","attack",5),
      Power("Hounding Longarm",["martial","weapon"],"daily","standard",
          [Requirement("You must be wielding a reach weapon"),
          Target("one creature"),Atk([STRMOD,],"AC", damage(2, [STRMOD,lambda x:("eladrin" == x.statret("race"))*x.mod("dex")]),["melee"],["polearm"]),
          Effect("Until the end of the encounter, each time the target shifts or makes an attack that doesn't include you as a target, you can shift 1 square and make a basic attack against the target as an immediate interrupt")],"fighter","attack",5),
      Power("Pinning Smash",["invigorating","martial","weapon"],"daily","standard",
          [Target("one creature",("melee",1)),Atk([STRMOD],"AC", damage(1, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Hit("The target is immobilized until you are not adjacent to it."),
          Miss("Half damage, and the target is immobilized until the end of your next turn.")],"fighter","attack",5),
      Power("Rain of Steel",["martial","stance","weapon"],"daily","minor",
          [Effect("Any enemy that starts its turn adjacent to you takes 1[W] damage, as long as you are able to make opportunity attacks.")],"fighter","attack",5),
      Power("Subtle Cut",["invigorating","martial","weapon"],"daily","standard",
          [Target("one creature",("melee",1)),Atk([STRMOD],"AC", None,["melee"],["light blade"]),
          Hit(["The target is slowed and takes ",lambda x:x.mod("dex")+10," ongoing damage (save ends both)"]),
          Miss(["The target takes ",MOD("dex")," ongoing damage (save ends)."]),
          Effect("Before and after the attack you can shift 1 square.")],"fighter","attack",5),
],"fighterutility6":[
      Power("Agile Approach",["martial"],"encounter","move",
          [Effect("You can shift 2 squares and must end adjacent to an enemy.  If you aren't wearing heavy armor, you can shift 3 squares.")],"fighter","utility",6),
      Power("Battle Awareness",["martial"],"daily","no",
          [Effect("You gain a +10 bonus to your initative check.  Use this power after rolling your initiative.")],"fighter","utility",6),
      Power("Defensive Training",["martial","stance"],"daily","minor",
          [Effect("Gain a +2 power bonus to your Fortitude, Reflex, or Will defense.")],"fighter","utility",6),
      Power("Rock Steady",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you cannot be knocked prone, and if you are subject to a pull, a push, or a slide, you can reduce the forced movement by 1 square.")],"fighter","utility",6),
      Power("Settling the Score",["martial"],"daily","immediate reaction",
          [Trigger("an enemy hits you with an attack"),
          Effect("You gain a +2 power bonus to attack rolls against the triggering enemy until the end of the encounter.")],"fighter","utility",6),
      Power("Strong Focus",["martial"],"encounter","minor",
          [Effect(["Until the end of your next turn, you gain a +",MOD("wis")," power bonus to Athletics checks and Strength ability checks"])],"fighter","utility",6),
      Power("Vigilant Protector",["martial","stance"],"encounter","minor",
          [Requirement("You must be using a shield"),
           Effect(["Until the stance ends, you take a -1 penalty to AC and Reflex, but each ally adjacent to you gains a +",lambda x:2+x.check("checkrace","dragonborn")," power bonus to AC and Reflex while adjacent to you."])],"fighter","utility",6),
      Power("Unbreakable",["martial"],"encounter","immediate reaction",
          [Trigger("You are hit by an attack"),
          Effect(["Reduce the damage taken by the attack by ",lambda x: x.mod("con")+5])],"fighter","utility",6),
],"fighterencounter7":[
      Power("Come and Get It",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",3)),
           Effect("You pull each target 2 squares to a space adjacent to you.  You cannot pull a target that cannot end adjacent to you.  You then make a close attack targeting each adjacent enemy."),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])],"fighter","attack",7),
      Power("Griffon's Wrath",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("The target takes a -2 penalty to AC until the end of your next turn.")],"fighter","attack",7),
      Power("Hampering Flurry",["martial","weapon"],"encounter","standard",
        [Target("one creature, primary and off-hand attack"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
         Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"]),
          Hit(["The target is slowed until the end of your next turn.  If both attacks hit, the second attack deals ",MOD("dex")," extra damage."])],"fighter","attack",7),
      Power("Iron Bulwark",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("You gain a +1 power bonus to AC (or a +2 bonus if you're using a shield) until the end of your next turn")],"fighter","attack",7),
      Power("Not So Fast",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An adjacent enemy moves away from you",("melee",1)),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target is slowed until the end of its next turn."),
           Special(" If you're wielding a flail or a pick, the target is also immobilized until the end of its next turn.")],"fighter","attack",7),
      Power("Reckless Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,-2],"AC", damage(3, [STRMOD]),["melee"])],"fighter","attack",7),
      Power("Savage Parry",["invigorating","martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy hits an ally with a melee attack."),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage([0,0], [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
           Hit("The ally takes only half damage from the triggering attack.")],"fighter","attack",7),
      Power("Stay Down",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["If the target is prone, the attack deals ",MOD("dex")," extra damage, and the target can't stand up until the end of your next turn."])],"fighter","attack",7),
      Power("Sudden Surge",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["Move ",lambda x: max(1,x.mod("dex"))," squares"])],"fighter","attack",7),
      Power("Trip Up",["martial","weapon"],"encounter","free",
          [Trigger("You hit an enemy with a melee basic attack"),
           Target("the triggering enemy"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
          Hit("The target is slowed until the end of your next turn."),
          Special("If you are wielding a polearm or spear, you can knock the target prone instead of slowing it.")],"fighter","attack",7)
],"fighterdaily9":[
      Power("Fighter's Recovery",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("If you have used all your encounter attack powers, you regain the use of a fighter encounter attack power you have used during this encounter.")],"fighter","attack",9),
      Power("Jackal Strike",["martial","reliable","weapon"],"daily","free",
          [Trigger("An enemy marked by you becomes bloodied"),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])],"fighter","attack",9),
      Power("Pestering Wound",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["If the target moves before the end of your next turn, it takes ",MOD("str")," extra damage."]),
          Special(["If you're wielding a pick, the extra damage is instead ",lambda x:x.mod("str")+x.mod("con")])],"fighter","attack",9),
      Power("Piquing Dare",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["If you have combat advantage against the target, the attack deals ",MOD("dex")," extra damage."]),
          Effect("The target is marked (save ends).  If the target does not attack you on its turn while marked by this power, you can either make a melee basic attack against it or shift 1 square closer to it as a free action.")],"fighter","attack",9),
      Power("Shift the Battlefield",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst 1")),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You slide the target 1 square"),
          Miss()],"fighter","attack",9),
      Power("Stop Thrust",["martial","reliable","weapon"],"daily","immediate reaction",
          [Trigger("An enemy enters a square within 2 squares of you"),
           Effect("Before the attack you can shift 2 squares"),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("The target is immobilized until the start of your next turn"),
          Special("If the target moved as part of a charge, it can attack you instead of the original target of its charge")],"fighter","attack",9),
      Power("Terrifying Impact",["invigorating","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Effect("Make a secondary attack which has the fear keyword"),
          Target("each enemy within 3 squares of the primary target"),Atk([CONMOD,lambda x:x.statret("fearattack")],"will", None,["melee"]),
          Hit("You push the target 1 square.")],"fighter","attack",9),
      Power("Thicket of Blades",["martial","reliable","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is slowed (save ends)")],"fighter","attack",9),
      Power("Victorious Surge",["healing","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("You regain hit points as if you had spent a healing surge")],"fighter","attack",9),
],"fighterutility10":[
      Power("Defensive Resurgence",["healing","martial"],"daily","minor",
          [Effect(["You gcan spend a healing surge.  Until the start of your next turn, you gain a +",MOD("dex")," bonus to your AC."])],"fighter","utility",10),
      Power("Hunker Down",["martial","stance"],"daily","minor",
          [Requirement("You must be using a shield"),
           Effect("Until the stance ends, you are slowed, but you gain cover against all attacks.  You can end this stance as a free action.")],"fighter","utility",10),
      Power("Into the Fray",["martial"],"encounter","minor",
          [Effect("You can move 3 squares, as long as you can end your move adjacent to the enemy.")],"fighter","utility",10),
      Power("Last Ditch Evasion",["martial"],"daily","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect("You take no damage from the attack that just hit you.  However, you are stunned and take a -2 penalty to tall defenses until the end of your next turn.")],"fighter","utility",10),
      Power("Menacing Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, whenever an enemy marked by you makes an attack that doesn't include you as a target, that enemy grants combat advantage to your allies until the start of its turn.")],"fighter","utility",10),
      Power("Shooter's Nemesis",["healing","martial"],"daily","immediate reaction",
          [Effect(["You spend a healing surge and recover ",lambda x:x.mod("wis")*2," additional hit points."])],"fighter","utility",10),
      Power("Stalwart Guard",["martial","stance"],"daily","minor",
          [Effect("Any ally gains a +1 shield bonus to AC while adjacent to you.  If you are using a shield, the bonus increases to +2 and applies to Reflex defenses as well.")],"fighter","utility",10),
      Power("Strength from Pain",["martial"],"daily","minor",
          [Requirement("You must be bloodied"),
           Effect(["You gain a +",lambda x:4+x.check("checkrace","dragonborn")," power bonus to melee damage rolls, Athletics checks, and Endurance checks until the end of the encounter or until you are no longer bloodied."])],"fighter","utility",10),
],"fighterencounter13":[
      Power("Anvil of Doom",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is dazed until the end of your next turn."),
          Special("If you're wielding a hammer or mace, the target is stunned rather than dazed.")],"fighter","attack",13),
      Power("Appalling Crunch",["invigorating","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Enemies adjacent to the target are marked until the end of your next turn."),
          Special("If you're wielding an axe, a hammer, or a mace, enemies within 2 squares of the target are marked until the end of your next turn.")],"fighter","attack",13),
      Power("Assured Strike",["martial","weapon"],"encounter","standard",
          [Target(orfeat("one creature granting combat advantage to you","one creature","halfling")),Atk([STRMOD],"reflex", damage(3, [STRMOD,[["heavy blade","light blade"],DEXMOD]]),["melee"]),
          Special("If you're wielding an axe, a hammer, or a mace, enemies within 2 squares of the target are marked until the end of your next turn.")],"fighter","attack",13),
      Power("Brutal Rebuke",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["mace","pick"],CONMOD]]),["melee"]),
           Special("If the target attacked you or an ally since the end of your last turn, you gain a +2 bonus to the attack roll.  When making an opportunity attack you can use this power in place of a melee basic attack.")],"fighter","attack",13),
      Power("Chains of Sorrow",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("The target takes a -2 penalty to all defenses until the end of your next turn."),
          Special(["If you're wielding a flail, the target instead takes a -",MOD("dex")," penalty to all defenses."])],"fighter","attack",13),
      Power("Crumpling Slam",["invigorating","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Hit("Push the target 2 squares an knock it prone.")],"fighter","attack",13),
      Power("Dance of Blades",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
           Hit(["You slide the target 2 squares.  If you have combat advantage against the target, the attack deals an extra ",MOD("dex")," damage"]),
          Effect("You can shift 3 squares and make a second attack"),
          Target("one creature other than the primary target"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
           Hit(["You slide the target 2 squares.  If you have combat advantage against the secondary target, the secondary attack deals an extra ",MOD("dex")," damage"])],"fighter","attack",13),
      Power("Giant's Wake",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,["axe",CONMOD]]),["melee"]),
          Hit("Make a secondary attack"),
          Target("each creature adjacent to the target and within your melee reach"),Atk([STRMOD],"AC", damage(1, [STRMOD,["axe",CONMOD]]),["melee"])],"fighter","attack",13),
      Power("Scattering Swing",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You slide the target 1 square"),
          Miss("You push the target 1 square")],"fighter","attack",13),
      Power("Silverstep",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack against each target"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("Push the target 1 square."),
           Special(["if you are wielding a spear or a polearm, push the target ",MOD("dex")," squares."]),
           Effect("Shift 1 square."),
           Special(["if you are wielding a spear or a polearm, shift ",MOD("dex")," squares."])],"fighter","attack",13),
      Power("Storm of Blows",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD,[["heavy blade","light blade"],DEXMOD]]),["melee"]),
          Effect("After the attack you can shift 1 square and repeat the attack against another target within reach.  You can then shift 1 square and repeat the attack against a third target within reach.  After the final attack you can shift 1 square.")],"fighter","attack",13),
      Power("Talon of the Roc",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is slowed until the end of your next turn."),
          Special("If you are wielding a pick or a spear, the target also cannot shift until the end of your next turn.")],"fighter","attack",13)
],"fighterdaily15":[
      Power("Boulder Charge",["invigorating","martial","weapon"],"daily","standard",
          [Requirement("You must charge and use this power in place of a melee basic attack.  While charging, you can move through enemies' squares but must end your movement in an unoccupied space."),
           Target("one creature and each enemy whose space you move through, one attack per target"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Hit("You push the target 2 squares and knock it prone"),
          Miss("You push the target 1 square.")],"fighter","attack",15),
      Power("Carve Initials",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee","light blade"]),
          Hit("The target is marked until the end of the encounter or until you are knocked unconscious.  No mark can supersede this one.")],"fighter","attack",15),
      Power("Defender's Gambit",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"will", None,["melee"]),
          Hit(["Until the end of your turn, you gain a +",MOD("wis")," power bonus to melee attack rolls and melee damage rolls against the target"]),
          Effect("The target can make a basic attack against you as an immediate reaction, and then you make a secondary attack against it as a free action."),
          Atk([STRMOD],"AC", damage(5,[STRMOD]),["melee"]),
          Miss()],"fighter","attack",15),
      Power("Dragon's Fangs",["martial","weapon"],"daily","standard",
          [Target("one or two creatures, two attacks against one or one attack against each target"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Miss()],"fighter","attack",15),
      Power("Gale of Steel",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["heavy blade","light blade"],DEXMOD]]),["melee"]),
          Effect("You can shift 1 square and repeat the attack against any enemy you haven't already hit with the attack.")],"fighter","attack",15),
      Power("Quicksilver Stance",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, you can shift ",lambda x: x.statret("speed")/(2-(not(x.check("armortype","heavy"))))," square(s) and make a melee basic attack as a standard action.  If you have combat advantage against the target of the attack and hit, the attack deals ",MOD("wis")," extra damage."])],"fighter","attack",15),
      Power("Serpent Dance Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is knocked prone if it is your size or smaller."),
          Effect("After the attack you can shift 1 square and repeat the attack against another target within reach.  You can shift and repeat the attack up to three times against different targets")],"fighter","attack",15),
      Power("Slayer's Lunge",["martial","weapon"],"daily","immediate reaction",
          [Trigger("An enemy within 5 squares of you becomes bloodied"),
           Effect("Before the attack you can move your speed"),
           Target("the triggering enemy",("melee",1)),Atk([STRMOD],"AC", damage(3, [STRMOD,lambda x:x.check("checkrace","elf")*x.mod("dex")]),["melee"]),
          Hit(["The target is marked (save ends).  If the target is already marked by you when you use this power, the attack deals ",MOD("wis")," extra damage."])],"fighter","attack",15),
      Power("Unyielding Avalanche",["healing","martial","stance","weapon"],"daily","standard",
          [Effect(["You gain regeneration ",MOD("con"),", a +1 power bonus to AC, and a +1 power bonus to saving throws.  Any enemy that starts its turn adjacent to youtakes 1[W} damage and is slowed until the end of its turn, as long as you are able to make opportunity attacks."])],"fighter","attack",15),
],"fighterutility16":[
      Power("Bolstering Stride",["martial"],"encounter","move",
          [Effect(["You can move your speed, ending in a space adjacent to an ally.  You then gain 2d6",plus(CONMOD)," temporary hit points."])],"fighter","utility",16),
      Power("Giant's Stride",["martial"],"daily","move",
          [Effect(["You can shift your speed.  You ignore difficult terrain during this shift and can move through unoccupied squares, as long as you end in an unoccupied space."])],"fighter","utility",16),
      Power("Immovable Mountain",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, if you are subject to a pull, push, or slide and you have moved no more than 2 squares since the start of your turn, you can reduce the forced movement by ",orfeat(2,5,"dwarf")," squares."])],"fighter","utility",16),
      Power("Interposing Shield",["martial"],"encounter","immediate interrupt",
          [Trigger("An adjacent ally is hit by an attack",("melee",1)),
           Effect("The ally gets a +2 power bonus to AC and Reflex defenses against the triggering attack.  If you are using a shield, increase the bonus to +4.")],"fighter","utility",16),
      Power("Iron Warrior",["healing","martial"],"daily","minor",
          [Effect(["You spend a healing surge, regain an additional 2d6",plus(CONMOD)," hit points, and make a saving throw against one effect that a save can end."])],"fighter","utility",16),
      Power("Marking Stance",["martial","stance"],"daily","standard",
          [Effect(["Until the stance ends, any enemy that begins its turn adjacent to you is marked until the start of its next turn."])],"fighter","utility",16),
      Power("Regnant Shout",["martial"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),
           Effect("You gain a +1 power bonus to attack rolls against the target and it is marked (save ends both)")],"fighter","utility",16),
      Power("Surprise Step",["martial"],"daily","immediate reaction",
          [Trigger("An enemy moves away from you."),
           Effect("Shift into the square that the enemy vacated.  You have combat advantage against that enemy until the end of your next turn.")],"fighter","utility",16)
],"fighterencounter17":[
      Power("Boggling Smash",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,[["hammer","mace"],CONMOD]]),["melee"]),
           Hit("The target takes a -2 penalty to attack rolls until the end of your next turn."),
           Special("If you are wielding a hammer or a mace, the target is dazed until the end of your next turn.")],"fighter","attack",17),
      Power("Buffeting Torque",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee","two-handed"]),
           Hit("Until the start of your next turn, any enemy that enters a square adjacent to you is marked until the end of your next turn and takes 5 damage.")],"fighter","attack",17),
      Power("Driving Flurry",["invigorating","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["light blade","heavy blade"],DEXMOD]]),["melee"]),
           Hit("You push the target 2 squares.  You can then shift 2 squares.")],"fighter","attack",17),
      Power("Exacting Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD,6],"AC", damage(2, [STRMOD]),["melee"])],"fighter","attack",17),
      Power("Exorcism of Steel",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit("The target drops one weapon it is holding.  You can choose to catch the dropped weapon in a free hand or have it land on the ground at your feet (in your square).")],"fighter","attack",17),
      Power("Harrying Assault",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["After the attack you can move ",MOD("dex")," squares and make a melee basic attack after you move."])],"fighter","attack",17),
      Power("Mountain Breaking Blow",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Push the target 3 squares."),
          Effect("After the attack you can shift the same distance you pushed the target.  You must end your movement adjacent to the target.")],"fighter","attack",17),
      Power("Skirmisher Pounce",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["You can shift 2 squares and make a secondary attack.  If you have combat advantage against the primary target, the primary attack deals ",MOD("dex")," extra damage."]),
           Target("one creature other than the primary target"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit(["If you have combat advantage against the secondary target, the secondary attack deals ",MOD("dex")," extra damage."]),
           Special("When charging, you can use this power in place of a melee basic attack.")],"fighter","attack",17),
      Power("Tap and Counterstrike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"],["primary","offhand"]),
          Hit("If the target makes an attack that does not include you before the start of your next turn, you can shift 1 square and make a secondary attack against the target with your off-hand weapon as an immediate interrupt."),
          Target("one creature"),Atk([STRMOD,2],"AC", damage(3, [STRMOD]),["melee","offhand"])],"fighter","attack",17),
      Power("Vorpal Tornado",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("Push the target 1 square, and it is knocked prone.")],"fighter","attack",17),
      Power("Warrior's Challenge",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Push the target 2 squares"),
          Special("All of your enemies within 2 squares of the target are marked until the end of your next turn.")],"fighter","attack",17),
      Power("Wild Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD,lambda x:x.check("checkrace","human")*x.mod("wis")]),["melee"]),
          Hit("you grant combat advantage to all enemies until the start of your next turn"),
          Special("All of your enemies within 2 squares of the target are marked until the end of your next turn."),
          Special("When charging, you can use this power in place of a melee basic attack.")],"fighter","attack",17)
],"fighterdaily19":[
     Power("Controlling Thrust",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"],["polearm","spear"]),
           Hit("The target is marked (save ends)"),
           Miss("Half damage, and the target is marked until the end of your next turn."),
          Effect("If the target takes a move action before the end of your next turn and is within your melee reach, you can make a secondary attack against the target as an immediate interrupt"),
          Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["polearm","spear"]),
          Hit("You cancel the target's move action."),
          Special("When charging you can use this power in place of a melee basic attack.")],"fighter","attack",19),
      Power("Devastation's Wake",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
          Effect("Until the start of your next turn, you can make a secondary attack as a free action against any enemy that starts its turn adjacent to you."),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])],"fighter","attack",19),
      Power("Protective Sweep",["martial","weapon"],"daily","standard",
          [Target("Each creature in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD,[["flail","heavy blade"],DEXMOD]]),["melee"]),
           Miss(),
          Effect("You gain a +4 power bonus to AC until the start of your next turn.")],"fighter","attack",19),
      Power("Reaving Strike",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Hit("Push the target 1 square.")],"fighter","attack",19),
      Power("Relentless Assailant",["healing","invigorating","martial","reliable","weapon"],"daily","standard",
          [Target("one creature",("close burst",1)),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit("You can spend a healing surge")],"fighter","attack",19),
      Power("Relentless Assailant",["healing","invigorating","martial","reliable","weapon"],"daily","standard",
          [Requirement("You must have a hand free"),
           Target("one creature",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee","one-handed"]),
           Hit(["You grab the target.  Each time you sustain the grab, the target takes 1[W]+",dmg(STRMOD),"."])],"fighter","attack",19),
      Power("Strike of the Watchful Guard",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, you can make a melee basic attack against the target as a free action if you are adjacent to it and it either shifts or attacks one of your allies.")],"fighter","attack",19),
],"fighterutility22":[
      Power("Act of Desperation",["martial"],"daily","minor",
          [Requirement("An ally within 10 squares is dying."),
           Effect("You gain an action point that you must spend during your current turn.")],"fighter","utility",22),
      Power("Howl of Defiance",["fear","martial"],"daily","immediate reaction",
          [Trigger("An enemy damages you with a melee attack.",("close burst",5)),
           Effect("The target is marked until the end of the encounter, until you are knocked unconscious, or until another mark supersedes this one.  Until this mark ends, the target grants combat advantage to you.")],"fighter","utility",22),
      Power("Inspired Resurgence",["healing","martial"],"daily","immediate reaction",
          [Trigger("An enemy marked by you is reduced to 0 hit points."),
           Effect("You can spend a healing surge and shift 3 squares.")],"fighter","utility",22),
      Power("No Surrender",["healing","martial"],"daily","no",
          [Trigger("Your hit points drop to 0 or lower"),
          Effect("You regain enough hit points to bring you to 1/2 your maximum hit points.  However, you take a -2 penalty to attack rolls until the end of the encounter.")],"fighter","utility",22),
      Power("Steadfast Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, when an attack causes you to take an effect that a save can end, you can make a saving throw against that effect as an immediate reaction.")],"fighter","utility",22),
      Power("Unyielding",["healing","martial"],"daily","immediate reaction",
          [Trigger("You are hit by an attack"),
          Effect(["You spend two healing surges and restore your hit points to their maximum value.",orfeat("","  You also gain a +1 power bonus to attack rolls and defenses until the end of your next turn.","dragonborn")])],"fighter","utility",22),
      Power("Victor's Stance",["healing","martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, each time you reduce an enemy yo 0 hit points, you can use a free action to spend a healing surge, make a saving throw, or both.  You gain a +",MOD("wis")," bonus to the saving throw."])],"fighter","utility",22),
],"fighterencounter23":[
      Power("Cage of Chains",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(4, [STRMOD]),["melee"]),
          Special("If you are wielding a flail and are adjacent to the target at the end of your turn, the target is restrained until the start of your next turn.")],"fighter","attack",23),
      Power("Crippling Smash",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee","two-handed"]),
          Hit("The target is slowed and weakened until the end of your next turn."),
          Special("If you are wielding an axe, a hammer, or a mace, you knock the target prone.")],"fighter","attack",23),
      Power("Fangs of Steel",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,[["light blade","heavy blade"],DEXMOD]]),["melee"]),
          Hit("Make a secondary attack."),
          Target("one creature adjacent to the primary target and within your melee reach"),Atk([STRMOD],"AC", damage(2, [STRMOD,[["light blade","heavy blade"],"dexmod"]]),["melee"])],"fighter","attack",23),

      Power("Hack 'n' Slash",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD,["axe",CONMOD]]),["melee"])],"fighter","attack",23),
      Power("Harrowing Hammer",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee","two-handed"]),
          Hit("Each enemy adjacent to the target is marked until the start of your next turn.")],"fighter","attack",23),
      Power("Meticulous Stab",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(3, [STRMOD,[["spear","light blade"],DEXMOD]]),["melee"]),
          Special("When making an opportunity attack you can use this power in place of a melee basic attack.")],"fighter","attack",23),
      Power("Paralyzing Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Special("If you are wielding a pick, a polearm, or a spear, you can score a critical hit on a roll of 18-20"),
          Hit("The target is immobilized until the end of your next turn.")],"fighter","attack",23),
      Power("Skullcrusher",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD,[["hammer","mace"],CONMOD]]),["melee"]),
           Hit("The target is dazed until the end of your next turn.  If you're wielding a hammer or a mace, your enemy is blinded until the end of your next turn.")],"fighter","attack",23),
      Power("Smashing Hammer",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD,[["axe","hammer"],CONMOD]]),["melee"]),
          Special("You gain a +1 cumulative bonus to the attack roll against each target after the first.")],"fighter","attack",23),
      Power("Turnabout Riposte",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy adjacent to you hits an ally with a melee attack"),
           Target("the triggering enemy",("melee",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You can shift 2 squares and must end adjacent to the target."),
          Effect("The ally takes only half damage from the triggering attack.")],"fighter","attack",23),
      Power("Warrior's Urging",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",4)),
           Effect("Pull each target 3 squares to a space adjacent to you.  You cannot pull a target that cannot end adjacent to you.  You then make a close attack targetting each adjacent enemy (close burst 1)."),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])],"fighter","attack",23),
      Power("Weaponmaster's Lure",["martial","weapon"],"encounter","standard",
          [Target("one creature, off hand and main hand attacks"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["offhand","primary"]),
           Hit(["If one attack hits, you can swap places with the target.  If both attacks hit, you can swap places with the target and slide it 3 squares.  If you have combat advantage against the target, each attack deals ",MOD("dex")," extra damage."])],"fighter","attack",23)
],"fighterdaily25":[
      Power("Ballista Charge",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is immobilized (save ends).  Make a secondary attack against the target."),
          Special("If you are wielding a spear, the target is also dazed (save ends)."),
          Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),["melee"]),
          Hit("You knock the target prone."),
          Special("When charging, you can use this attack in place of a melee basic attack.")],"fighter","attack",25),
      Power("Earthquake Smash",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,[["axe","hammer","mace"],CONMOD]]),["melee"]),
          Hit("The target knocked prone and dazed until the end of your next turn.  Make a secondary attack."),
          Target("each enemy within 2 squares of the primary target"),Atk([STRMOD],"fortitude", damage(0, [STRMOD]),["melee"]),
          Hit("You knock the secondary target prone.")],"fighter","attack",25),
      Power("Fighter's Resurgance",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(5, [STRMOD]),["melee"]),
          Effect("If you have used all your encounter attack powers, you regain the use of a fighter encounter attack power you have used during this encounter.")],"fighter","attack",25),
      Power("Marking Barrage",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see"),Atk([STRMOD],"reflex", damage(4, [STRMOD]),["melee"]),
          Special(["If you have combat advantage against the target, the attack deals ",MOD("dex")," extra damage."]),
          Miss("Half damage."),
          Effect("The target is marked until the end of the encounter, until you are knocked unconscious, or until another mark supersedes this one.")],"fighter","attack",25),
      Power("Reaper's Stance",["martial","stance","weapon"],"daily","minor",
          [Effect(["Whenever you use a fighter power, you can score a critical hit on a roll of 19-20, and you gain a +",MOD("dex")," power bonus to damage rolls.  Any enemy that starts its turn adjacent to you takes 1[W] damage and ongoing 10 damage (Save ends), as long as you are able to make opportunity attacks."])],"fighter","attack",25),
      Power("Reign of Terror",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Hit("All of your enemies you can see are marked until the end of your next turn.")],"fighter","attack",25),
      Power("Ruthless Slaughter",["martial","reliable","weapon"],"daily","standard",
          [Target("one bloodied or prone creature"),Atk([STRMOD,2],"AC", damage(6, [STRMOD]),["melee"]),
          Effect("Each enemy within 3 squares of you, other than the target, is marked until the end of your next turn.  If the attack reduced the target to 0 hit points, those enemies are instead marked until the end of the encounter, until you are knocked unconcious, or until another mark supersedes this one.")],"fighter","attack",25),
      Power("Supremacy of Steel",["healing","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Hit("Until the end of your next turn the only attacks the target can make are basic attacks.")],"fighter","attack",25),
      Power("Transfixing Provocation",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Miss(),
          Effect("The target is marked until the end of the encounter, until you are knocked unconcious, or until another mark supersedes this one.  Until this mark ends, the target grants combat advantage to you.")],"fighter","attack",25),
],"fighterencounter27":[
      Power("Adamantine Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(4, [STRMOD]),["melee"]),
          Hit("The target takes a -2 penalty to AC until the end of your next turn.")],"fighter","attack",27),
      Power("Blood Rush",["invigorating","martial","weapon"],"encounter","standard",
          [Trigger("An enemy marked by you leaves an adjacent square."),
           Target("the triggering enemy",("ranged",5)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is immobilized until the end of your next turn.  Your weapon falls into a square of your choice adjacent to the enenemy.")],"fighter","attack",27),
      Power("Cruel Reaper",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("You can shift 2 squares and then make a secondary attack"),
          Target("each enemy in close burst 1"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])],"fighter","attack",27),
      Power("Coward's Reward",["martial","weapon"],"encounter","immediate reaction",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["If the target is bloodied when you make this attack the attack deals ",MOD("con")," extra damage."]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"fighter","attack",27),
      Power("Desperate Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD,lambda x:x.mod("wis")*x.check("checkrace","human")]),["melee"]),
          Hit("You take a -2 penalty to attack rolls until the end of your next turn.")],"fighter","attack",27),
      Power("Diamond Shield Defense",["martial","weapon"],"encounter","standard",
          [Special("You must be using a shield"),
           Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit("You take half damage from the target's attacks until the end of your next turn."),
           Effect("You gain a +2 power bonus to AC until the end of your next turn.")],"fighter","attack",27),
      Power("Dual-Weapon Supremacy",["martial","weapon"],"encounter","standard",
          [Target("one creature, primary and off-hand weapon, two attacks"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"]),
          Hit("If both attacks hit, the target grants combat advantage to you fro the first attack you make against it before the end of your next turn.")],"fighter","attack",27),
      Power("Indomitable Battle Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Effect("All of your enemies within 10 squares of you are marked until the end of your next turn.")],"fighter","attack",27),
      Power("Spinning Death Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","two-handed"]),
           Hit("Make a secondary attack."),
           Target("each enemy within 1 square of you"),Atk([STRMOD],"AC", damage(1, [STRMOD,DEXMOD]),["melee","two-handed"])],"fighter","attack",27),
      Power("Stabbing Torrent",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","light blade"]),
           Special("If you are wielding two melee weapons, you can attack each target with both your main weapon and your off-hand weapon."),
           Hit(["If you have combat advantage against the target, the attack deals an extra ",MOD("dex")," damage."])],"fighter","attack",27),
],"fighterdaily29":[
      Power("Avalanche of Steel",["invigorating","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(8, [STRMOD]),["melee"]),
           Miss("Half damage."),
           Effect("You grant combat advantage to all enemies until the start of your next turn."),
           Special("When charging, you can use this power in place of a melee basic attack.")],"fighter","attack",29),
      Power("Blade Storm",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(3, [STRMOD,DEXMOD]),["melee"]),
           Hit("The target is dazed (save ends)."),
           Miss("Half damage, and the target is not dazed."),
           Effect("You can shift 3 squares and repeat the attack against a second target.  You can then shift 3 squares and repeat the attack against a third target.")],"fighter","attack",29),
      Power("Cascading Catapult Slam",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(4, [STRMOD]),["melee"]),
           Hit(["You push the target ",lambda x:x.mod("con")+1," squares and knock it prone.  You then make a secondary attack."]),
           Target("one creature adjacent to the primary target"),Atk([STRMOD],"fortitude", damage([1,10], [STRMOD]),["melee"]),
           Hit(["You push the target 2 squares and knock it prone.  You then repeat the secondary attack against a creature adjacent to the secondary target."]),
           Miss("Half damage, you push the target 1 square, and no secondary attack.")],"fighter","attack",29),
      Power("Catastrophic Flurry",["martial","weapon"],"daily","standard",
          [Target("one creature, three attacks"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("If you hit twice, you deal 1d10 extra damage to the target.  If you hit three times, you instead deal 2d10 extra damage to the target."),
           Miss("Half damage per attack.")],"fighter","attack",29),
      Power("Force the Battle",["martial","stance","weapon"],"daily","minor",
          [Effect("You deal an extra 1[W] damage with your at-will and encounter fighter powers.  If an enemy starts its turn adjacent to you, you can use an at-will fighter power against it as a free action at the start of its turn, as long as you are able to make opportunity attacks.")],"fighter","attack",29),
      Power("Mortal Wound",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Ongoing 20 damage (save ends).  Until the target saves against this ongoing damage, the target has a -2 penalty to saving throws.")],"fighter","attack",29),
      Power("No Mercy",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"])],"fighter","attack",29),
      Power("Storm of Destruction",["martial","weapon"],"daily","standard",
          [Target("One or two creatures, one attack per target"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Miss()],"fighter","attack",29),
      Power("Titan's Hammer",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD,["hammer",CONMOD]]),["melee"]),
          Hit("The target is stunned (save ends)."),
          Miss("Half damage, and the target is dazed (save ends)."),
          Special("When charging, you may use this power in place of a melee basic attack.")],"fighter","attack",29),
]}
    addPowers(fighterList)

def invoker():
    invokerList={"invokerat-will1":[
     Power("Avenging Light",["divine","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"fortitude", damage([raising(1,20),10],[WISMOD,lambda x:x.statret("basicrangedattack")])),
          Hit(["If a bloodied ally is adjacent to the target, the attack deals ",MOD("con")," extra radiant damage"])],"invoker","at-will",1),
     Power("Divine Bolts",["divine","implement, lightning"],"at-will","standard",
          [Target("One or two creatures",("ranged",10)),Atk([WISMOD],"reflex", damage([raising(1,20),6],[WISMOD]))],"invoker","at-will",1),
     Power("Grasping Shards",["divine","weapon"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),Atk([WISMOD],"fortitude", damage([raising(1,20),10],[WISMOD])),
          Hit("The target is slowed until the end of your next turn")],"invoker","at-will",1),
      Power("Sun Strike",["divine","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"reflex", damage([raising(1,20),8],[WISMOD,lambda x:x.statret("basicrangedattack")])),
          Hit("Slide the target 1 square")],"invoker","at-will",1),
      Power("Vanguard's Lightning",["divine","implement","lightning"],"at-will","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex", damage([raising(1,20),6],[WISMOD])),
          Hit(["Whenever the target makes an opportunity attack before the end of your next turn, the target takes ",MOD("int")," lightning damage."])],"invoker","at-will",1)
],"invokerencounter1":[
     Power("Astral Terror",["divine","fear","implement","psychic"],"encounter","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([WISMOD],"will", damage([1,6],[WISMOD])),
          Hit("You push the target 2 squares")],"invoker","attack",1),
     Power("Blades of Astral Fire",["divine","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([1,6], [WISMOD])),
          Effect(["Each ally in the burst gains a +",orfeat(2,lambda x: 1+x.mod("int"),"covenant of preservation")," power bonus to AC until the end of your next turn."])],"invoker","attack",1),
     Power("Spear of the Inquisitor",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([1,10], [WISMOD])),
          Hit("The target is immobilized until the end of your next turn.")],"invoker","attack",1),
      Power("Thunder of Judgement",["divine","thunder","weapon"],"encounter","standard",
          [Target("one, two, or three creatures",("ranged",10)),Atk([WISMOD],"fortitude",damage([1,6], [WISMOD])),
           Special("Deals an additional die of damage if you target only one creature."),
          Hit(["The target is dazed until the end of your next turn.",orfeat("",["  You also push the target ",MOD("con")," squares."],"covenant of wrath")])],"invoker","attack",1)
],"invokerdaily1":[
     Power("Angelic Echelon",["divine","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([WISMOD],"will",damage([1,6], [WISMOD])),
          Hit("Wheneber the target attacks before the end of your next turn, the target takes 5 radiant damage."),
          Miss()],"invoker","attack",1),
     Power("Binding Invocation of Chains",["divine","implement"],"daily","standard",
          [Target("each enemy in burst",("close burst",10)),Atk([WISMOD],"reflex",None),
          Hit("The target is slowed (save ends)"),
          Miss("The target is slowed until the end of your next turn")],"invoker","attack",1),
     Power("Purging Flame",["divine","fire","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex", damage([1,10], [WISMOD])),
          Hit("Ongoing 10 fire damage (save ends)."),
          Miss("Half damage, and ongoing 5 fire damage (save ends).")],"invoker","attack",1),
      Power("Summon Angel of Fire",["divine","fire","implement","summoning"],"daily","minor",
          [Effect("You summon a Medium angel of fire in an unoccupied square within range.  The angel has speed 6 and fly 6 (hover).  You can give the angel the following special commands."),
           Other("Standard Action:"),
          Target("each creature in burst",("close burst",1)),Atk([WISMOD],"reflex", damage([1,8], [WISMOD])),
           Other("Opportunity Attack:"),
          Target("one creature",("melee",1)),Atk([WISMOD],"reflex", damage([1,8], [WISMOD]))],"invoker","attack",1)
],"invokerutility2":[
    Power("Divine Call",["divine"],"encounter","minor",
          [Target("one or two allies",("close burst",20)),
           Effect("You pull each target 3 squares")],"invoker","utility2"),
    Power("Emissary of the Gods",["divine"],"daily","minor",
          [Effect("You gain a +5 power bonus to your next Diplomacy check or Intimidate check during this encounter.  If you make this check as part of a skill challenge, you gain 2 successes if the check is successful and don't gain a failure if the check fails.")],"invoker","utility2"),
    Power("Shroud of Awe",["divine"],"encounter","minor",
          [Effect(["You can speak with a thunderous voice that allows creatures within 500 feet of you to hear you clearly.  Before the end of your next turn, you gain a +",MOD("con")," power bonus to your next intimate check."])],"invoker","utility2"),
    Power("Sanctuary",["divine"],"daily","no",
          [Trigger("You and your allies roll initiative at the beginning of an encounter."),
           Target("you and each ally in burst",("ranged",10)),
           Effect(["Each ally gains a +",lambda x:2+x.mod("int")," bonus to the initiative check."])],"invoker","utility2"),
    Power("Wall of Light",["conjuration","divine"],"daily","minor",
          [Effect("You conjure a wall of divine energy.  The wall is 1 square high, and lasts until the end of your next turn.  While within the wall, any ally gains a +1 power bonus to AC, and each ally who starts his or her turn in the wall gains 5 temporary hit points.",("area wall",5,10)),
           Sustain("minor","The wall persists")],"invoker","utility2")
],"invokerencounter3":[
     Power("Chains of Carceri",["divine","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([2,8], [WISMOD])),
          Hit("the target is slowed until the end of your next turn")],"invoker","attack",3),
     Power("Glyph of Imprisonment",["divine","implement","radiant"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"will",damage([1,8], [WISMOD])),
          Hit("If the target moves before the end of its next turn, the target takes 5 radiant damage")],"invoker","attack",3),
     Power("Offering of Justice",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),
           Effect(["If the target attacks you or youre allies before the end of its next turn, the target takes 2d10+",MOD("wis")," radiant damage at the end of that turn.  If the target doesn't attack you or your allies before the end of its next turn, the target instead gainst 5 temporary hit points at the end of that turn."])],"invoker","attack",3),
      Power("Sun Hammer",["divine","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"fortitude",damage([1,10], [WISMOD])),
          Hit("If any bloodied allies are in the burst, the attack deals 2 extra damage.")],"invoker","attack",3)
],"invokerdaily5":[
     Power("Blade of Vengance",["conjuration","divine","implement"],"daily","standard",
          [Effect("You conjure a blade of vengance in an unoccupied square within range.  The blade lasts until the end of your next turn.  The blade occupies 1 square.  Enemies cannot move through its space, but allies can.  The blade can flank enemies with you and your allies.  In addition, you can make the following attack with the blade",("ranged",10)),
          Trigger("An enemy within 10 squares of the blade hits your ally"),
          Effect("Before the attack you move the blade to a square adjacent to the triggering enemy"),
          Target("the triggering enemy"),Atk([WISMOD],"reflex",damage([1,8], [WISMOD])),
          Sustain("minor","The blade persists, and you can move it 5 squares.")],"invoker","attack",5),
     Power("Grasping Chains of the Justiciar",["divine","force","implement"],"daily","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"reflex",damage([1,6], [WISMOD])),
          Hit("The target is immobilized (save ends)"),
          Miss("Half damage, and the target is slowed until the end of your next turn.")],"invoker","attack",5),
     Power("Icon of Terror",["divine","fear","implement","psychic"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([WISMOD],"will", damage([2,6], [WISMOD])),
          Hit(["Push the target ",orfeat(2,CONMOD,"covenant of wrath")," squares"]),
          Miss("Half damage, and you push the target 1 squares.")],"invoker","attack",5),
      Power("Searing Orb",["divine","implement","radiant"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"fortitude", damage([1,8], [WISMOD])),
          Hit(["The target is blinded (save ends)",orfeat(""," and dazed until the end of your next turn.","covenant of preservation")]),
          Miss("Half damage, and the target is blinded until the end of your next turn.")],"invoker","attack",5),
],"invokerutility6":[
    Power("Astral Step",["divine","teleportation"],"daily","move",
          [Target("you and each ally in burst",("close burst",5)),
           Effect(["You teleport each target ",orfeat(3,lambda x:3+x.mod("int"),"covenant of preservation")," squares."])],"invoker","utility",6),
    Power("Demand Justice",["divine"],"encounter","immediate interrupt",
          [Trigger("An enemy within 10 squares of you makes a saving throw.")
           ,Target("The triggering creature",("ranged",10)),Effect("The target rerolls the saving throw and must use the new result.")],"invoker","utility",6),
    Power("Shared Endurance",["divine"],"daily","immediate interrupt",
          [Trigger("An ally within 10 squares of you takes damage from an attack"),
           Target("The triggering ally",("close burst",10)),
           Effect("You or an ally within 10 squares of you takes the damage from the triggering attack instead of the target, but the target takes any other effect caused by the attack.")],"invoker","utility",6),
    Power("Shield of Light",["divine"],"encounter","immediate interrupt",
          [Trigger("An enemy within 10 squares of you makes an attack roll against your ally"),
           Target("The triggering enemy",("ranged",10)),
           Effect("The target takes a -3 penalty to the triggering attack roll.  If the attack hits and deals damage, you slide the ally 1 square after the damage is dealt.",("ranged",3))],"invoker","utility",6),
    Power("Symbol of Hope",["conjuration","divine"],"daily","minor",
          [Effect("You conjure a symbol of hope in an unoccupied square within range.  The symbol lasts until the end of your next turn.  Any ally within 5 squares of the symbol gains a +2 power bonus to saving throws, and any ally who starts his or her turn within 5 squares of the symbol gains 5 temporary hit points",("ranged",10)),
           Sustain("minor","The symbol persists.")],"invoker","utility",6)
],"invokerencounter7":[
     Power("Baleful Eye of Judgement",["divine","fear","implement","psychic"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"will", damage([2,8], [WISMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of its next turn.")],"invoker","attack",7),
     Power("Bolt of the Rising Sun",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([1,10], [WISMOD])),
          Hit("Until the end of your next turn, the target doesn't have line of sight to any target more than 3 squares away from it.")],"invoker","attack",7),
     Power("Invoke Obedience",["divine","implement","psychic"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),
           Effect(["Before the attack, each taret can fall prone as a free action.  The attack automatically misses a prone target.",orfeat("",["  Each prone target takes ",dmg(0,1,6),"."],"covenant of wrath")]),
           Atk([WISMOD,5],"will", damage([2,6], [WISMOD]))],"invoker","attack",7),
      Power("Thunderbolt of the Heavens",["divine","implement","thunder"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"fortitude", damage([2,8], [WISMOD])),
          Hit(["You can push the target ",orfeat("square.",[lambda x: 1+x.mod("int")," squares."],"covenant of preservation")])],"invoker","attack",7)
],"invokerdaily9":[
     Power("Cerulean Flames",["divine","implement","radiant","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex", damage([3,6], [WISMOD])),
           Miss(),
          Effect("The burst creates a zone of cerulean light that lasts until the end of your next turn.  Any creature that starts its turn within the zone and leaves it is blinded (save ends)."),
          Sustain()],"invoker","attack",9),
     Power("Fourfold Invocation of Doom",["divine","fear","implement","psychic"],"daily","standard",
          [Target("each enemy in burst",("close burst",10)),Atk([WISMOD],"will", None),
           Hit("Each target is dazed (save ends)."),
           Miss("The target is dazed until the end of your next turn."),
          Effect("Until the end of your next turn, each creature that hits or misses you takes 5 psychic damage.")],"invoker","attack",9),
     Power("Summon Blade Angel",["divine","implement","radiant"],"daily","minor",
          [Effect("You summon a Medium blade angel in an unoccupied square within range.  The angel has speed 6 and fly 6 (hover).  It has a +4 bonus to AC.  You can give the angel the following special commands."),
           Other("Minor Action:"),
          Target("one creature",("melee",1)),Atk([WISMOD],"fortitude", damage([1,8], [WISMOD])),
           Other("Opportunity Attack:"),
          Target("one creature",("melee",1)),Atk([WISMOD],"reflex", damage([1,8], [WISMOD])),
          Hit("Target is slowed until the end of its turn.")],"invoker","attack",9),
      Power("Visions of Paradise",["charm","divine","implement"],"daily","minor",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",None),
          Hit("The target is unable to make attacks (save ends).  whenever the target is attacked, it can make a saving throw against this effect."),
          Miss("The target is unable to make attacks until the end of its next turn.  If the target is attacked before the end of its next turn, this effect ends.")],"invoker","attack",9),
],"invokerutility10":[
    Power("Angelic Visage",["divine","fear"],"encounter","immediate interrupt",
          [Trigger("An enemy within 5 squares of you makes an attack roll against you"),
           Target("The triggering enemy",("close burst",5)),
           Effect("The target takes a -2 penalty to the triggering attack roll.  After the attack is resolved, you push the target 3 squares.")],"invoker","utility",10),
    Power("Covenant of Endurance",["divine"],"daily","minor",
          [Effect("Until the end of the encounter, whenever an ally within 10 squares of you has an opportunity to spend a healing surge, you can spend a healing surge on that ally's behalf as a free action.  You spend the healing surge but regain no hit points, and the ally regains hit points as if he or she had spent a healing surge.")],"invoker","utility",10),
    Power("Divine Renewal",["divine"],"daily","standard",
          [Target("one or two allies who weach have two healing surges or fewer.",("ranged",10)),
           Effect("Each ally regains a healing surge")],"invoker","utility",10),
    Power("Martyr's Ward",["divine"],"daily","immediate interrupt",
          [Trigger("An ally within 10 squares of you is hit by an area or close attack",("close burst",10)),
          Effect("The triggering attack hits you instead of that ally.")],"invoker","utility",10)
],"invokerencounter13":[
     Power("Compel Attention",["divine","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,8], [WISMOD])),
          Hit("The target is dazed until the end of your next turn."),
          Effect("You gain a +5 bonus to Diplomacy and Intimidate checks against the target until the end of your next turn.")],"invoker","attack",13),
     Power("Pillar of Guardian Flame",["divine","fire","implement","zone"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex", damage([3,6], [WISMOD])),
          Effect("The burst creates a zone of divine fire that lasts until the end of your next turn.  When any enemy within the zone leaves it or hits or misses you or your allies outside it, that enemy takes 5 fire damage.")],"invoker","attack",13),
     Power("Seal of the Heretic",["divine","implement"],"encounter","standard",
          [Target("one, two, or three creatures",("ranged",10)),Atk([WISMOD],"will",damage([2,8], [WISMOD])),
           Special("Deals 1d8 extra damage if you target only one creature"),
          Hit(["The target takes a -5 penalty to ",orfeat("a saving throw of your choice","all saving throws","covenant of wrath")," before the end of your next turn."])],"invoker","attack",13),
      Power("Winds of Celestia",["divine","implement"],"encounter","standard",
          [Target("each enemy in burst",("area burst",1,10)),Atk([WISMOD],"fortitude",damage([3,6], [WISMOD])),
          Hit(["You either slide the target ",orfeat("2 squares or",[lambda x:x.mod("int")+1," squares or you slide the target 1 square and"],"covenant of preservation")," knock it prone."])],"invoker","attack",13)
],"invokerdaily15":[
     Power("God Hammer",["divine","lightning","implement","thunder","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"reflex", damage([4,6], [WISMOD])),
          Miss(),
          Effect("Each target drops prone.  In addition, the burst creates a zone of resounding thunder that lasts until the end of your next turn.  At the start of your next turn, any creature within the zone drops prone."),
          Sustain()],"invoker","attack",15),
     Power("Mark of Anathema",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude",damage([2,10], [WISMOD])),
          Hit("Ongoing 10 radiant damate (save ends)."),
          Other("First Failed Saving Throw: Ongoing 15 radiant damage (save ends)."),
          Miss("Half damage, and ongoing 5 radiant damage."),
          Effect("Whenever the target fails a saving throw against the ongoing damage, each enemy within 5 squares of the target takes 5 radiant damage.")],"invoker","attack",15),
     Power("Three Beacons of Twilight",["divine","implement","radiant","zone"],"daily","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"will",damage([4,6], [WISMOD])),
          Miss(),
          Effect("The burst creates a zone of glimmering light that lasts until the end of the encounter.  As a minor action, you can teleport a creature within the zone 5 squares.")],"invoker","attack",15),
    Power("Wall of Blades",["conjuration","divine","implement","radiant"],"daily","standard",
          [Effect(["You conjure a wall in unoccupied squares that consists of radiant blades.  The wall can be up to 4 squares high, and it lasts until the end of your next turn.  The wall provides cover to you and your allies.  Any creature that enters the wall or starts its turn there takes ",dmg(WISMOD,2,10),"."],("area wall",8,20)),
          Line("While you are within 5 squares of the wall you can make the following attack."),
          Other("Standard Action"),
          Effect("Before the attack, remove a square of the wall."),
          Target("one creature",("ranged",10)),Atk([WISMOD],"reflex",damage([2,10],[WISMOD])),
          Sustain("minor","The wall persists.")],"invoker","attack",15)
],"invokerutility16":[
    Power("Covenant of Life",["divine"],"daily","minor",
          [Target("You or one ally in burst",("close burst",10)),
           Effect("Until the end of the encounter, you and your allies can use second wind either to gain the normal benefits or to grant the benefits to the target.  A donor character uses his or her second wind but neither regains hit points nor gains a bonus to all defenses, and the target regains hit points as if her or she had spent a healing surge and gains a +2 bonus to all defenses until the start of the donor's next turn.")],"invoker","utility",16),
    Power("Icon of Life",["divine","zone"],"daily","minor",
          [Effect("The burst creates a zone of golden light that lasts until the end of the encounter.  While within the zone, any ally gains a +5 bonus to death saving throws, and if the ally rolls a natural 20 on a death saving throw, that ally can spend two healing surges rather than one.",("area burst",5,20))],"invoker","utility",16),
    Power("Shield of Justice",["divine"],"encounter","immediate interrupt",
          [Trigger("An enemy within 10 squares of you makes an attack roll against your ally"),
           Target("The triggering enemy",("ranged",10)),
           Effect("The target takes a -4 penalty to the triggering attack roll.  Until the end of your next turn, any attacker gains a +2 power bonus to attack rolls against the target.")],"invoker","utility",16),
    Power("Walk Between Worlds",["divine"],"daily","minor",
          [Target("You or one ally",("ranged",10)),
           Effect("The target gains phasing until the end of your next turn."),
           Sustain("minor","The effect persists.")],"invoker","utility",16)
],"invokerencounter17":[
     Power("Blood Debt",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,10], [WISMOD])),
          Hit(["Until the end of your next turn, each creature that the target attacks gains a +",orfeat(2,lambda x:1+x.mod("con"),"covenant of wrath")," bonus to its next attack roll against the target."])],"invoker","attack",17),
     Power("Curse of Haemnathuun",["divine","implement"],"encounter","standard",
          [Target("each creature in blast",("close blast",5)),Atk([WISMOD],"fortitude",damage([2,8], [WISMOD])),
          Hit("The target is dazed and immobilized until the end of your next turn.")],"invoker","attack",17),
     Power("Glyph of Radiance",["divine","implement","radiant"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"will", damage([2,6], [WISMOD])),
          Hit("The target is blinded until the end of your next turn.")],"invoker","attack",17),
      Power("Glyph of Three Blades",["divine","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([WISMOD],"reflex",damage([2,8], [WISMOD])),
          Hit(["If the target moves more than 1 square before the end of your next turn, the target takes ",orfeat(5,lambda x:5+x.mod("int"),"covenant of preservation")," damage."])],"invoker","attack",17),
],"invokerdaily19":[
     Power("Astral Tempest",["divine","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"fortitude",damage([7,6], [WISMOD])),
           Hit("You slide the target 5 squares and knock it prone."),
           Miss("Half damage, and you slide the target 3 squares and knock it prone.")],"invoker","attack",19),
     Power("Malediction of Gartak",["divine","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",damage([5,6], [WISMOD])),
          Effect("Whenever the target hits with an attack, the target takes 10 damage.  This effect ends at the end of the target's turn if it has not attacked since the end of its last turn.")],"invoker","attack",19),
     Power("Summon Angel of Light",["divine","implement","radiant","summoning"],"daily","minor",
          [Effect("You summon a Medium angel of light in an unoccupied square within range.  The angel has speed 6 and fly 8 (hover).  It has a +4 bonus to AC and a +2 bonus to its other defenses.  Any enemy that starts its turn adjacent to the angel is marked by the angel until the end of your next turn.  You can give the angel the following special commands."),
           Other("Minor Action"),
           Target("one creature",("melee",1)),Atk([WISMOD],"reflex",damage([1,10],[WISMOD])),
           Hit("Until the end of your next turn, the target doesn't have line of sight to cretures more than 5 squares away from it."),
           Other("Opportunity Attack"),
          Target("one creature",("melee",1)),Atk([WISMOD],"reflex",damage([1,10],[WISMOD]))],"invoker","attack",19),
     Power("Tomb of Margrym",["conjuration","divine","implement"],"daily","standard",
          [Effect("The burst creates a tomb of white stone.  The tomb fills the burst and must be on a solid surface.  The tomb is a solid obstacle, and it can be attacked as an object: AC 6, Fortitude 10, Reflex 5, and 60 hit points.  when the tomb is destroyed, it crumbles into difficult terrain."),
           Line("As the tomb appears, it makes the following attack."),
           Target("Each creature in burst"),Atk([WISMOD],"reflex",damage([3,6], [WISMOD])),
           Hit("The target disappears inside the tomb.  While inside the tomb, the target is dazed and doesn't have line of sight or line of effect to anything other than the tomb.  The target can make melee and close attacks only against the tomb.  When the tomb is destroyed, the target reappears in the space it last occupied or in the nearest unoccupied space."),
           Miss("Half damage, and you slide the target to the nearest space outside the burst.")],"invoker","attack",19)
],"invokerutility22":[
    Power("Covenant of Vengance",["divine"],"daily","minor",
          [Target("you or one ally in burst",("close burst",10)),
           Effect("All of the target's marks end.  Until the end of the encounter or until the target marks a creature, if a creature attacks the target, you and your allies gain a +4 power bonus to attack rolls against that creature until the end of your next turn.")],"invoker","utility",22),
    Power("Invoke Angelic Form",["divine","polymorph"],"daily","minor",
          [Target("you or one ally",("ranged",10)),
           Effect("Until the end of the encounter, the target gains a fly speed of 8 and can hovor.")],"invoker","utility",22),
    Power("Invoke Heroism",["divine"],"daily","minor",
          [Target("one ally",("ranged",20)),
           Effect("The target can take an extra standard action during his or her next turn.")],"invoker","utility",22),
    Power("Ward of Divine Light",["divine","healing"],"daily","standard",
          [Effect("You can spend two healing surges, and you are immune to all damage until the start of your next turn.  If you willingly attack before the end of your next turn, you take damage equal to your bloodied value.")],"invoker","utility",22)
],"invokerencounter23":[
     Power("Cascade of Five Suns",["divine","implement","radiant"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"reflex",damage([4,8], [WISMOD])),
           Special("Make a number of attack rolls equal to the number of targets, and then assign each roll to a target.")],"invoker","attack",23),
     Power("Storm of Celestia",["divine","implement","thunder"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([WISMOD],"fortitude", damage([5,6], [WISMOD])),
          Hit("You slide the target to any unoccupied space in the burst.")],"invoker","attack",23),
     Power("Vindicating Flames",["divine","fire","implement"],"encounter","standard",
          [Target("each creature in burst"),Atk([WISMOD],"reflex", damage([2,6], [WISMOD])),
          Hit(["If the target moves before the end of your next turn, it takes ",orfeat(10,lambda x:x.mod("con")+10,"covenant of wrath")," fire damage."])],"invoker","attack",23),
      Power("Word of Rebuke",["divine","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will",damage([5,6], [WISMOD])),
          Hit(["The target is dazed ",orfeat("",["and takes a -",MOD("int")," penalty to attack rolls "],"covenant of preservation"),"until the end of your next turn."])],"invoker","attack",23)
],"invokerdaily25":[
     Power("Anthem of the First Dawn",["divine","healing","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",10)),Atk([WISMOD],"fortitude", damage([6,6], [WISMOD])),
           Miss(),
          Effect("Each ally in the burst can spend a healing surge.")],"invoker","attack",25),
     Power("Invoke the Fallen",["divine","implement","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"fortitude",damage([2,8], [WISMOD])),
          Hit("The target takes ongoing 10 damage and is blinded (save ends both)."),
          Miss("Half damage, and the target is blinded until the end of your next turn."),
          Effect("The burst creates a zone of lightly obscured terrain until the end of the encounter.  While within the zone, you and your allies gain a +2 bonus to attack rolls with divine powers.")],"invoker","attack",25),
     Power("Racking Invocation of Pain",["divine","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([WISMOD],"fortitude",damage([4,8], [WISMOD])),
          Hit("The target is dazed and takes 10 extra damage whenever it is hit by a melee attack (save ends both)."),
          Miss("Half damage, and the target is dazed (save ends).")],"invoker","attack",25),
     Power("Rain of Colorless Fire",["divine","fire","implement","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([WISMOD],"reflex",damage([3,10], [WISMOD])),
           Miss(),
          Effect(["The burst creates a zone of colorless fire that lasts until the end of your next turn.  At the start of your turn, each creature within the zone takes ",dmg(WISMOD,3,10),"."]),
          Sustain()],"invoker","attack",25),
],"invokerencounter27":[
     Power("Invoke Terror",["divine","fear","implement","psychic"],"encounter","standard",
          [Target("each creature in burst"),Atk([WISMOD],"will", damage([3,8], [WISMOD])),
           Hit(["The target moves half its speed away from you, avoiding unsafe and difficult terrain if it can.",orfeat("",["  Until the start of your next turn, opportunity attacks that hit the target deal ",MOD("con")," extra damage."],"covenant of wrath")])],"invoker","attack",27),
     Power("Offering of Peace",["divine","implement","radiant"],"encounter","standard",
          [Target("one enemy",("ranged",10)),
          Effect(["If the target attacks before the end of your next turn, it takes ",dmg(WISMOD,4,10),".  If you or an ally attacks the target before the end of your next turn, the target gains 10 temporary hit poitns and a +5 bonus to its next attack roll.",orfeat("","  You and your allies gain a +2 power bonus to all defenses until the end of your next turn.","covenant of preservation")])],"invoker","attack",27),
     Power("Swarm of Astral Steel",["divine","implement","zone"],"encounter","standard",
          [Target("each enemy in burst",("area burst",2,20)),Atk([WISMOD],"reflex",damage([2,6], [WISMOD])),
          Effect("The burst creates a zone of blades that lasts until the end of your next turn.  Choose the zone's effect: Each target hit by the attack either takes 10 damage if it ends its next turn within the zone or takes 10 damage if it ends its next turn outside the zone.")],"invoker","attack",27),
      Power("Word of Annihilation",["divine","implement"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([WISMOD],"will",damage([4,10], [WISMOD]))],"invoker","attack",27),
],"invokerdaily29":[
     Power("Fires of the Silver Gate",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([WISMOD],"will",damage([7,6], [WISMOD])),
           Miss(),
           Effect("The target takes ongoing 10 radiant damage (save ends).  Until the target saves against this ongoing damage, any enemy takes 10 radiant damage when it ends its turn within 5 squares of the target.")],"invoker","attack",29),
     Power("Invoke the Absolute Dark",["divine","implement","zone"],"daily","standard",
          [Target("each creature in burst"),Atk([WISMOD],"fortitude", damage([6,6], [WISMOD])),
          Miss(),
          Effect("The burst creates a zone of darkness that lasts until the end of your next turn.  The zone is totally obscured.  In addition, and creature that starts its turn within the zone takes 10 damage, slides 1 square towards the zone's center, and is slowed until the end of its turn.  You can dismiss the zone as a minor action."),
          Sustain("minor","The zone persists, and you can increase its size to a maximum of burst 5")],"invoker","attack",29),
     Power("Summon Angel of Victory",["divine","implement","summoning"],"daily","minor",
          [Effect("You summon a Medium angel of victory in an unoccupied square within range.  The angel has speed 6 and fly 8 (hovor).  It has a +4 bonus to AC and a +2 bonus to its other defenses.  You can give the angel the following special commands."),
           Other("Minor Action:"),
           Target("one creature",("melee",1)),Atk([WISMOD],"will", damage([2,10], [WISMOD])),
           Hit("The target takes a -2 penalty to all defenses until the end of your next turn."),
           Other("Standard Action:"),
           Target("each enemy in burst",("close burst",2)),Atk([WISMOD],"reflex", None),
           Hit("The angel pulls the target 1 square, and the target is slowed until the end of your next turn."),
           Other("Opportunity Attack:"),
           Target("one creature",("melee",1)),Atk([WISMOD],"will", damage([2,10],[WISMOD]))],"invoker","attack",29),
     Power("Word of the Gods",["charm","divine","implement","psychic"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"will", None),
           Hit("The target is dominated (save ends)."),
           Aftereffect(["",dmg(WISMOD,3,6)]),
           Miss(["",dmg(WISMOD,6,6)])],"invoker","attack",29)
]}
    addPowers(invokerList)

def monk():
    monkList={"monkat-will1":[
      Power("Crane's Wings",["full discipline","implement","psionic"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage([raising(1,20),10], [DEXMOD])),
          Hit("You push the target 1 square."),
          Other("Movement Technique"),
          Line("Move action"),
          Effect("You make an Athletics check to jump with a +5 power bonus.  You are considered to have a running start, and the distance of the jump isn't limited by your speed.")],"monk","at-will",1),
      Power("Dancing Cobra",["full discipline","implement","psionic"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage([raising(1,20),10], [DEXMOD])),
          Hit(["If the target has made an opportunity attack against you during this turn, the target takes ",MOD("wis")," extra damage."]),
          Other("Movement Technique"),
          Line("Move action"),
          Effect("You move your speed +2")],"monk","at-will",1),
      Power("Dragon's Tail",["full discipline","implement","psionic"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage([raising(1,20),10], [DEXMOD])),
          Hit("You push the target 1 square."),
          Other("Movement Technique"),
          Line("Move action"),
          Effect("You make an Athletics check to jump with a +5 power bonus.  You are considered to have a running start, and the distance of the jump isn't limited by your speed.")],"monk","at-will",1),
      Power("Five Storms",["full discipline","implement","psionic"],"at-will","standard",
          [Target("each enemy you can see in burst"),Atk([DEXMOD],"reflex", damage([raising(1,20),8], [DEXMOD])),
          Other("Movement Technique"),
          Line("Move action"),
          Effect("You shift 2 squares")],"monk","at-will",1),
],"monkencounter1":[
      Power("Awaken The Slumbering Hurt",["full discipline. implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,8],[DEXMOD])),
          Hit(["If the target is bloodied, it takes ",MOD("str")," extra damage from both this attack and your next attack against it before the end of your next turn."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed. during this movement, bloodied enemies can't attack you with opportunity actions or immediate actions.")],"monk","encounter","1"),
      Power("Drunken Monkey",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One enemy",("melee","touch")),
          Atk([DEXMOD],"will",damage([1,8],[DEXMOD])),
          Hit(["You slide the target 1 square. the target then makes a melee basic attack as a free action against one enemy of your choice. The target gains a +",MOD("wis")," bonus to the attack roll."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect(["You move your speed + 1. During this movement, you ignore difficult terrain and gain a +",MOD("wis")," power bonus to all defenses against opportunity attacks."])],"monk","encounter","1"),
      Power("Open The Gate Of Battle",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([1,10],[DEXMOD])),
          Hit("The target takes 1d10 extra damage if it was at full hit points when you hit it with this attack."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 1. During this movement, you don't provoke opportunity attacks from the first enemy you move away from.")],"monk","encounter","1"),
      Power("Rising Storm",["full discipline","implement","psionic","thunder"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([1,8],[DEXMOD])),
          Hit(["Each enemy adjacent to the target takes ",MOD("str")," thunder damage."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You fly your speed. If you don't land at the end of this movement, you fall.")],"monk","encounter","1"),
],"monkdaily1":[
      Power("Harmonious Thunder",["implement","psionic","thunder"],"daily","standard",
          [Target("One or two creatures",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([3,6],[DEXMOD])),
          Miss("Half damage."),
          Effect(["When one of the targets takes damage, the other target takes ",MOD("str")," thunder damage equal to your Strength modifier. This effect lasts until the end of the encounter or until one of the targets drops to 0 hit points."])],"monk","daily","1"),
      Power("Masterful Spiral",["force","implement","psionic","stance"],"daily","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([DEXMOD],"reflex",damage([3,8],[DEXMOD])),
          Miss("Half damage."),
          Effect("You can assume the spiral stance. Until the stance ends, your reach with melee touch attacks increases by 1.")],"monk","daily","1"),
      Power("Spinning Leopard Maneuver",["implement","psionic"],"daily","standard",
          [Effect("You shift your speed and can make the following attack once against each enemy that you move adjacent to during the shift."),
          Target("One enemy",("melee",1)),
          Atk([DEXMOD],"reflex",damage([3,8],[DEXMOD])),
          Miss("Half damage.")],"monk","daily","1"),
      Power("Whirling Mantis Step",["implement","psionic"],"daily","standard",
          [Effect("You shift your speed. If you enter a square adjacent to any enemy during this shift, you slide that enemy 1 square. You can slide each enemy only once during the shift. After the shift. make the following attack."),
          Target("One, two, or three creatures",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([1,10],[DEXMOD])),
          Hit("The target is slowed (save ends)."),
          Miss("Half damage, and the target is slowed until the end of your next turn.")],"monk","daily","1"),
],"monkutility2":[
      Power("Careful Stride",["psionic"],"encounter","move",
          [Effect("Until the end of this turn, you ignore difficult terrain and can both move across liquid and stand on it as if it were solid ground. In addition, you move your speed.")],"monk","utility","2"),
      Power("Grasp The Wind",["psionic"],"encounter","immediate interrupt",
          [Trigger("You are pulled, pushed, or slid"),
          Effect("Instead of being affected by the forced movement, you shift the number of squares it would have moved you.")],"monk","utility","2"),
      Power("Harmonious Discipline",["psionic"],"encounter","minor",
          [Effect(["You gain ",MOD("wis")," temporary hit points. When you have no temporary hit points remaining, you gain a +",MOD("wis")," bonus to the damage roll of your next melee attack before the end of your next turn."])],"monk","utility","2"),
      Power("Supreme Flurry",["psionic"],"daily","free",
          [Trigger("You use your Flurry of Blows power and resolve the effects ofthe power that triggered it"),
          Effect("You shift half your speed and use your Flurry of Blows power again.")],"monk","utility","2"),
],"monkencounter3":[
      Power("Dance Of Swords",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,8],[DEXMOD])),
          Hit("The target takes extra damage equal to twice the number of enemies adjacent to you."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 2. If enemies make opportunity attacks against you during this movement and miss, you gain combat advantage against the enemies that missed until the end of your turn.")],"monk","encounter","3"),
      Power("Enduring Champion",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,10],[DEXMOD])),
          Hit(["You can make a saving throw against one effect that a save can end, with a +",MOD("wis")," bonus. If you save. not only does the effect end, but the target takes ",MOD("wis"), " damage."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 2. Each time you are attacked during this movement. you gain a +1 bonus to speed until the end of your next turn.")],"monk","encounter","3"),
      Power("Eternal Mountain",["full discipline","implement. psionic"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([DEXMOD],"fortitude",damage([2,8],[DEXMOD])),
          Hit("You knock the target prone."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect(["You gain resistance ",MOD("str")," to all damage until the end of your next turn. In addition, you shift 2 squares."])],"monk","encounter","3"),
      Power("Twin Thunders",["full discipline","implement","psionic. thunder"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,10],[DEXMOD])),
          Hit(["A single enemy adjacent to the target takes ",dmg(0,1,10),"."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("Choose one enemy adjacent to you and move your speed + 2. During this movement, you don't provoke opportunity attacks from that enemy.")],"monk","encounter","3"),
],"monkdaily5":[
      Power("Deadly Cobra Strike",["implement","poison","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,10],[DEXMOD])),
          Hit("Ongoing 5 poison damage (save ends)."),
          Miss("Half damage.")],"monk","daily","5"),
      Power("One Hundred Leaves",["implement","psionic"],"daily","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([DEXMOD],"reflex",damage([3,8],[DEXMOD])),
          Hit("You push the target 2 squares."),
          Miss("Half damage, and you push the target 1 square."),
          Effect("Until the end of your next turn, you can target one additional creature in range with your Flurry of Blows power.")],"monk","daily","5"),
      Power("Steel Warrior Technique",[". implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([3,10],[DEXMOD])),
          Hit("You mark the target (save ends)."),
          Miss("Haf( damage, and you mark the target until the end of your next turn."),
          Effect(["Until this power's mark ends on the target, it takes ",MOD("str")," damage whenever it hits you."])],"monk","daily","5"),
      Power("Supreme Avalanche Combination",[". implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([3,10],[DEXMOD])),
          Miss("Half damage."),
          Effect("Until the end of the encounter, you gain a +2 power bonus to damage rolls against the target, and you slide it 1 square whenever you hit it with an attack. If that attack includes forced movement, you can increase the distance of that movement by 1 square instead of sliding the target 1 square.")],"monk","daily","5"),
],"monkutility6":[
      Power("Centered Defense",["psionic","stance"],"daily","minor",
          [Effect("Until the stance ends, you gain a +2 power bonus to all defenses.")],"monk","utility","6"),
      Power("Echoing Thunder",["psionic"],"encounter","free",
          [Trigger("You use your Flurry of Blows power"),
          Effect("Each enemy within 2 squares ofyou that was not damaged by your Flurry of Blows power is pushed 1 square.")],"monk","utility","6"),
      Power("Leap Of The Heavens",["psionic"],"encounter","move",
          [Effect("You make an Athletics check to jump with a +10 power bonus. You are considered to have a running start.")],"monk","utility","5"),
      Power("Purifying Meditation",["psionic"],"encounter","minor",
          [Effect(["You make a saving throw with a +",MOD("wis")," bonus."])],"monk","utility","6"),
],"monkencounter7":[
      Power("Fist Of One Hundred Strikes",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One or two creatures",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,6],[DEXMOD])),
          Hit("You shift 1 square."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You shift 2 squares.")],"monk","encounter","7"),
      Power("Grasping Tide",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,6],[DEXMOD])),
          Hit("The target is dazed until the end of your next turn."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You shift 2 squares. During the shift, if you leave a square adjacent to any enemy that you have hit on this turn, you can slide that enemy 1 square into the space you vacated.")],"monk","encounter","7"),
      Power("Strike The Avalanche",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature Primary",("melee","touch primary")),
          Atk([DEXMOD],"fortitude",damage([1,10],[DEXMOD])),
          Hit(["You slide the primary target ",MOD("wis")," squares. make a secondary attack that is a close burst 1 centered on the primary target."]),
          Target("Each creature in burst other than the primary target"),
          Atk([DEXMOD],"fortitude",None),
          Hit("The secondary target falls prone."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 2. During this movement, you don't provoke opportunity attacks from prone enemies.")],"monk","encounter","7"),
      Power("Titan's Step",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,8],[DEXMOD])),
          Hit(["You push the target ",MOD("str")," squares."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You make an Athletics check to jump with a +5 power bonus. You are considered to have a running start. Where you land, each square adjacent to you becomes difficult terrain until the end of your next turn.")],"monk","encounter","7"),
],"monkdaily9":[
      Power("Crane Dance",["implement","psionic"],"daily","standard",
          [Target("One, two, three, or four creatures",("melee","touch")),
          Atk([DEXMOD],"reflex",dmg([1,8],[DEXMOD])),
          Hit("You knock the target prone."),
          Miss("Half damage."),
          Effect("You shift 1 squares after each attack.")],"monk","daily","9"),
      Power("Relentless Hound Technique",["implement","psionic"],"daily","standard",
          [Target("One creature Primary",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,10],[DEXMOD])),
          Miss("Half damage."),
          Effect("Until the end of your next turn, when the target willingly leaves a square adjacent to you, you can shift 1 square as a free action. You can make the following secondary attack against the target once before the end of the encounter."),
          Other("Immediate Interrupt",("Melee","touch")),
          Trigger("The target makes an attack Secondary"),
          Atk([DEXMOD],"reflex",damage([2,10],[DEXMOD])),
          Miss("Half damage.")],"monk","daily","9"),
      Power("Strength To Weakness",["implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude or reflex",None),
          Hit(["Ongoing ",MOD("dex",15)," damage (save ends)."]),
          Miss("Ongoing 10 damage (save ends).")],"monk","daily","9"),
      Power("Twilight Touch",["implement","psionic","psychic"],"daily","standard",
          [Target("One, two, or three creatures",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([3,6],[DEXMOD])),
          Hit("The target is blinded until the end ofyour next turn."),
          Miss("Half damage.")],"monk","daily","9"),
],"monkutility10":[
      Power("Internal Power",["healing","psionic"],"daily","minor",
          [Effect("You spend a healing surge and regain 2d6 additional hit points.")],"monk","utility","10"),
      Power("Iron Dragon Defense",["psionic"],"encounter","immediate interrupt",
          [Trigger("You take damage"),
          Effect(["The damage is reduced by ",MOD("wis",10),"."])],"monk","utility","10"),
      Power("Spider Technique",["psionic"],"at-will","move",
          [Effect("You climb your speed. During this movement, you can move across overhanging surfaces, such as ceilings, but you fall if you end your tum on such a surface.")],"monk","utility","10"),
      Power("Spring Up",["psionic"],"encounter","free",
          [Trigger("You are prone at the start of your turn"),
          Effect("You stand up.")],"monk","utility","10"),
],"monkencounter13":[
      Power("Dance Of The Stinging Hornet",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([2,10],[DEXMOD])),
          Hit("You grab the target. Until the grab ends, the target grants cover to you, and if it is larger than you, you can end a move action in its space. If you do so, the target isn't immobilized by this grab, and you remain in its space when it moves (you don't provoke opportunity attacks as you move with it). Until you leave the target's space, its movement doesn't provoke opportunity attacks from you."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You make an Athletics check to jump with a +5 power bonus. You are considered to have a running start. You can use the attack technique at any point during this movement.")],"monk","encounter","13"),
      Power("Furious Bull",["full discipline","implement","psionic"],"encounter","standard",
          [Requirement("You must not be immobilized.",("close burst",2)),
          Target("Each enemy In burst",("close burst",2)),
          Atk([DEXMOD],"fortitude",damage([2,6],[DEXMOD])),
          Hit("You slide the target 1 square. The target is dazed until the end of your next turn."),
          Effect("You shift 3 squares to a square in the burst."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 2. During this movement, you can move through enemies' spaces.")],"monk","encounter","3"),
      Power("Overpowering Strike",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"will",damage([3,10],[DEXMOD])),
          Hit(["Until the end of your next turn, the target takes a -",MOD("wis")," penalty to attack rolls against you."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You shift 3 squares.")],"monk","encounter","13"),
      Power("Step Between The Worlds",["full discipline","implement","psionic","teleportation"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"will",damage([3,6],[DEXMOD])),
          Hit(["You teleport the target ",MOD("wis")," squares."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect(["You teleport ",MOD("wis",2)," squares."])],"monk","encounter","13"),
],"monkdaily15":[
      Power("Dancer On The Sea Of Battle",["implement","psionic"],"daily","standard",
          [Effect("You shift your speed and can make the following attack once against each enemy you move adjacent to during the shift."),
          Target("One enemy",("melee",1)),
          Atk([DEXMOD],"fortitude",damage([3,10],[DEXMOD])),
          Hit("You knock the target prone."),
          Miss("Half damage.")],"monk","daily","15"),
      Power("Ring the Golden Bell",["iforce","implement","psionic"],"daily","standard",
          [Effect("Before the attack, you jump 10 squares. This movement doesn't provoke opportunity attacks."),
          Target("Each creature in burst",("close burst",1)),
          Atk([DEXMOD],"reflex",damage([4,6],[DEXMOD])),
          Hit("The target is dazed (save ends)."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"monk","daily","15"),
      Power("Way Of The Autumn Wind",["cold","implement","psionic","stance"],"daily","standard",
          [Target("Each creature in burst",("close burst",2)),
          Atk([DEXMOD],"fortitude",damage([2,6],[DEXMOD])),
          Hit("The target is weakened (save ends)."),
          Miss("Half damage, and the target is weakened until the end of your next turn."),
          Effect("You can assume the autumn wind stance. Until the stance ends, you can shift 2 squares as an immediate reaction when you are hit by any attack.")],"monk","daily","15"),
],"monkutility16":[
      Power("Diamond Mind",["psionic"],"encounter","immediate interrupt",
          [Trigger("An attack hits your Will"),
          Effect("You gain a +5 bonus to Will against the triggering attack.")],"monk","utility","16"),
      Power("Master Of Winds Stance",["psionic","stance"],"daily","minor",
          [Effect("Until the stance ends, when you are pulled, pushed, or slid by any enemy, you can use a free action at the end of the forced movement to shift the same number of squares that you were moved.")],"monk","utility","16"),
      Power("Meditative Solace",["psionic","stance"],"daily","minor",
          [Effect("Until the stance ends, once per round you can use a minor action to make a saving throw.")],"monk","utility","16"),
      Power("Stance Of The Still Sword",["psionic","stance"],"daily","minor",
          [Effect("Until the stance ends. enemies take a -2 penalty to attack rolls against you.")],"monk","utility","16"),
],"monkencounter17":[
      Power("Death's Chilled Embrace",["full discipline","implement","necrotic","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,8],[DEXMOD])),
          Hit(["The target is immobilized until the end of your next turn. Until this immobilization ends, the target takes ",MOD("2str",5)," damage when it is hit by any attack that pulls, pushes, or slides it."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 2. You can use the attack technique at any point during this movement.")],"monk","encounter","17"),
      Power("Steps Of Grasping Fire",["fire","full discipline","implement","psionic"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([DEXMOD],"reflex",damage([2,10],[DEXMOD])),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect(["You move your speed. During this movement, any enemy that hits you takes ",MOD("wis",5)," fire damage, and each square you leave is filled with fire until the end of your next turn. Any creature that enters a fire square or starts its turn there takes ",MOD("wis",5)," fire damage."])],"monk","encounter","17"),
      Power("Three Winds Kick",["full discipline","implement","psionic","teleportation"],"encounter","standard",
          [Target("One, two, or three creatures",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([1,10],[DEXMOD,WISMOD])),
          Hit("You shift 2 squares."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("Choose one enemy within 6 squares of you. You teleport to a square adjacent to that enemy.")],"monk","encounter","17"),
      Power("Whirlwind Kick",["full discipline","implement","psionic"],"encounter","standard",
          [Target("Each enemy in burst Primary",("close burst",3)),
          Atk([DEXMOD],"fortitude",None),
          Hit("You pull the target 2 squares."),
          Effect("Make a secondary attack."),
          Target("Each enemy adjacent to you"),
          Atk([DEXMOD],"reflex",damage([2,10],[DEXMOD,STRMOD])),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You fly your speed. The first square of this movement doesn't provoke opportunity attacks.")],"monk","encounter","17"),
],"monkdaily19":[
      Power("Angelic Legion Technique",["implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([5,10],[DEXMOD])),
          Hit("You mark the target (save ends)."),
          Miss("Half damage, and you mark the target until the end of your next turn."),
          Effect("Until this power's mark ends, you can use a free action to force the target to attack you with its ranged attacks and melee attacks as long as you are within those attacks' range. Each time the target attacks you, you gain a +4 power bonus to attack rolls against it until the end ofyour next turn.")],"monk","daily","19"),
      Power("Duel In The Heavens",["implement","psionic"],"daily","standard",
          [Target("One creature Primary",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([3,10],[DEXMOD])),
          Miss("Half damage."),
          Effect("You slide the target 5 squares and then shift 5 squares to a square adjacent to it. Make a secondary attack against the target. Secondary"),
          Atk([DEXMOD],"fortitude",None),
          Hit(["",MOD("dex",10)," damage. The target falls prone, and it is dazed until the end of your next turn."]),
          Miss("Half damage, and the target falls prone."),
          Effect("You fly your speed. This movement doesn't provoke opportunity attacks.")],"monk","daily","19"),
      Power("Inevitable Fist",["implement","psionic","stance"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD,2],"reflex",damage([3,10],[DEXMOD])),
          Miss(["",dmg(DEXMOD,2,10)," damage."]),
          Effect("You can assume the stance of the inevitable fist. Until the stance ends, your Flurry of Blows power deals 2 extra damage.")],"monk","daily","19"),
      Power("Rising Dragon Fire",["fire","implement","psionic","zone"],"daily","standard",
          [Target("Each creature in burst",("close burst",2)),
          Atk([DEXMOD],"reflex",damage([5,6],[DEXMOD])),
          Miss("Half damage."),
          Effect("The burst creates a zone that lasts until the end of your next turn. When you hit any creature that is within the zone, that creature takes 2d6 extra fire damage."),
          Sustain("minor"," The zone persists.")],"monk","daily","19"),
],"monkutility22":[
      Power("Diamond Body",["psionic"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect("You gain resist 20 to all damage against the triggering attack.")],"monk","utility","22"),
      Power("Indomitable Technique",["healing","psionic"],"daily","no",
          [Trigger("You have 0 hit points or fewer at the start of your turn"),
          Effect("You spend a healing surge to regain hit points equal to your bloodied value.")],"monk","utility","22"),
      Power("Mist Walker's Step",["psionic"],"encounter","minor",
          [Effect("You are phasing and ignore difficult terrain until the end of your next turn.")],"monk","utility","22"),
      Power("Wind Walker",["psionic"],"at-will","move",
          [Effect("You fly your speed. If you don't land at the end of this movement, you fall.")],"monk","utility","22"),
],"monkencounter23":[
      Power("Fist Of Golden Light",["full discipline","implement","psionic","radiant"],"encounter","standard",
          [Target("One creature Primary",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([2,10],[DEXMOD])),
          Hit("Make a secondary attack that is a close burst 1 centered on the primary target."),
          Target("Each enemy in burst"),
          Atk([DEXMOD],"fortitude",None),
          Hit("The secondary target is blinded until the end of your next turn."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 4.")],"monk","encounter","23"),
      Power("Hungry Ghost",["full discipline","implement","necrotic","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([3,10],[DEXMOD])),
          Hit(["You gain ",MOD("wis",10)," temporary hit points."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You are insubstantial and phasing until the end of your turn, and you move your speed.")],"monk","encounter","23"),
      Power("Legion Of One",["full discipline","implement","psionic"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([DEXMOD],"reflex",damage([1,10],[DEXMOD])),
          Effect("You shift 4 squares to a square in the burst."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You shift 4 squares.")],"monk","encounter","23"),
      Power("Sunder The Castle",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([3,10],[DEXMOD])),
          Hit(["You push the target ",MOD("str")," squares and knock it prone."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 4. During this movement, any enemy that misses you with an opportunity attack falls prone.")],"monk","encounter","23"),
],"monkdaily25":[
      Power("Phoenix Dance",["fire","implement","psionic","radiant"],"daily","standard",
          [Effect("You shift your speed and make the following attack once against each enemy you move adjacent to during the shift.",("melee",1)),
          Target("One enemy"),
          Atk([DEXMOD],"fortitude",damage([3,10],[DEXMOD])),
          Hit("You knock the target prone."),
          Miss(),
          Effect(["The target takes ",MOD("str",5)," fire and radiant damage."])],"monk","daily","15"),
      Power("Strike Of The Vulnerable Turtle",["implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([6,8],[DEXMOD])),
          Hit("Until the end of the encounter, attacks against the target's ac or reflex are against the lower of the two defenses."),
          Miss("Half damage. Attacks against the target's AC or Reflex are against the lower of the two defenses (save ends).")],"monk","daily","15"),
      Power("Wandering Comet Strike",["implement","psionic","teleportation"],"daily","standard",
          [Target("One, two, or three enemies",("melee",1)),
          Atk([DEXMOD],"reflex.",damage([3,10],[DEXMOD])),
          Miss("Half damage."),
          Effect("After attacking a target with this power, you teleport to a square adjacent to a different enemy within 10 squares of you.")],"monk","daily","15"),
      Power("Watchful Hydra Stance",["implement","psionic","stance"],"daily","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([DEXMOD],"reflex",damage([6,6],[DEXMOD])),
          Miss("Half damage."),
          Effect("You can assume the watchful hydra stance. Until the stance ends, you can target an additional creature within 3 squares of you with your Flurry of Blows power.")],"monk","daily","15"),
],"monkencounter27":[
      Power("Celestial Drunken Boxer",["full discipline","implement","psionic"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([DEXMOD],"will",None),
          Hit(["The target makes a melee basic attack as a free action against one enemy of your choice. The target gains a +",MOD("wis")," bonus to the attack roll and the damage roll against that enemy."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You shift 4 squares.")],"monk","encounter","27"),
      Power("Fist Of Indomitable Iron",["full discipline","implement","psionic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([4,10],[DEXMOD,STRMOD])),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect(["You shift ",MOD("str")," squares. During this movement, you can shift through enemies' spaces."])],"monk","encounter","17"),
      Power("Heart-Sundering Strike",["full discipline","implement","psionic","psychic"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"will",None),
          Hit("The target is dominated until the end of your next turn,"),
          Aftereffect(["",dmg(DEXMOD,2,6),"."]),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You move your speed + 4. You can use the attack technique at any point during the movement.")],"monk","encounter","27"),
      Power("Tap The Life Well",["full discipline","implement","psionic","teleportation"],"encounter","standard",
          [Target("One creature Primary",("melee","touch")),
          Atk([DEXMOD],"fortitude",damage([3,10],[DEXMOD])),
          Hit("You teleport to a square adjacent to an enemy within 6 squares of you, then make a secondary attack."),
          Target("One enemy other than the primary target"),
          Atk([DEXMOD],"fortitude",None),
          Hit("The primary and secondary targets are dazed until the end of your next turn."),
          Other("Movement Technique"),
          Other("Move Action"),
          Effect("You teleport to a square adjacent to an enemy within 6 squares of you.")],"monk","encounter","27"),
],"monkdaily29":[
      Power("Mist On The Storm",["implement","psionic","stance"],"daily","standard",
          [Target("Each enemy in blast",("close blast",3)),
          Atk([DEXMOD],"reflex",damage([7,6],[DEXMOD])),
          Hit(["The target is weakened (save ends)."]),
          Miss("Half damage, and the target is weakened until the end of your next turn."),
          Effect("You can assume the misty storm stance. Until the stance ends, you are phasing. When you are hit by an attack, as an immediate interrupt you can become insubstantial until the end of your next turn, and the stance ends.")],"monk","daily","29"),
      Power("Quivering Palm",["implement","psionic"],"daily","standard",
          [Target("One creature",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([5,10],[DEXMOD])),
          Miss(),
          Effect("The target takes ongoing 10 damage (save ends)."),
          Other("Each Failed Saving Throw:  The ongoing damage increases by 5.")],"monk","daily","29"),
      Power("Stunning Fist",["implement","psionic"],"daily","standard",
          [Target("One creature Primary",("melee","touch")),
          Atk([DEXMOD],"reflex",damage([6,8],[DEXMOD])),
          Effect("Make a secondary attack against the target."),
          Atk([DEXMOD],"reflex",None),
          Hit("The target is stunned (save ends)."),
          Miss("The target is either dazed or weakened (save ends).")],"monk","daily","29"),
]}
    addPowers(monkList)

def paladin():
    paladinList={"paladinat-will1":[
      Power("Bolstering Strike",["divine","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(raising(1,20), [CHAMOD]),["melee"]),
          Hit(["Gain ",MOD("wis")," temporary hit points"])],"paladin","at-will",1),
      Power("Enfeebling Strike",["divine","weapon"],"at-will","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(raising(1,20), [CHAMOD]),["melee"]),
          Hit("If you marked the target, it takes a -2 penalty to attack rolls until your next turn")],"paladin","at-will",1),
      Power("Holy Strike",["divine","radiant","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Hit(["If you marked the target, deal an extra ",MOD("wis")," damage"])],"paladin","at-will",1),
      Power("Valiant Strike",["divine","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Special("+1 attack per enemy adjacent to you")],"paladin","at-will",1)
],"paladinencounter1":[
      Power("Fearsome Smite",["divine","fear","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit(["Until the end of your next turn, the target takes a -",MOD("wis")," penalty to attack rolls"])],"paladin","attack",1),
      Power("Piercing Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit(["The target and ",MOD("wis")," enemies adjacent to you are marked until the end of your next turn"])],"paladin","attack",1),
      Power("Radiant Smite",["divine","radiant","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,WISMOD]),["melee"])],"paladin","attack",1),
      Power("Shielding Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit(["Until the end of your next turn, one ally within 5 squares of you gains a +",MOD("wis")," power bonus to AC"])],"paladin","attack",1)
],"paladindaily1":[
      Power("On Pain of Death",["divine","implement"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([3,8], [CHAMOD])),
          Hit(["Once per round, the subject takes 1d8 damage after making any attacks on its turn (save ends)."]),
          Miss("Half damage.  Once per round, the target takes 1d4 damage after making any attacks on its turn (save end).")],"paladin","attack",1),
      Power("Paladin's Judgement",["divine","healing","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("One ally within 5 squares of you can spend a healing surge")],"paladin","attack",1),
      Power("Radiant Delirium",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"ref", damage([3,8], [CHAMOD])),
          Hit(["The target is dazed until the end of your next turn.  In addition, the target takes a -2 penalty to AC (save ends)"]),
          Miss("Half damage, and the target is dazed until the end of your next turn")],"paladin","attack",1)
],"paladinutility2":[
      Power("Astral Speech",["divine"],"daily","minor",
          [Effect(["You gain a +4 bonus to diplomacy checks until the end of the encounter"])],"paladin","utility2"),
      Power("Martyr's Blessing",["divine"],"daily","immediate interrupt",
          [Trigger("An adjacent ally is hit by a melee or ranged attack",("close burst",1)),
          Effect("You are hit by the attack instead")],"paladin","utility2"),
      Power("Sacred Circle",["divine","implement","zone"],"daily","standard",
          [Effect("The burst creates a zone that, until the end of the encounter, gives you and your allies within it a +1 power bonus to AC",("close burst",3))],"paladin","utility2")
],"paladinencounter3":[
      Power("Arcing Smite",["divine","weapon"],"encounter","standard",
          [Target("one or two creatures"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["The target is marked until your next turn"])],"paladin","attack",3),
      Power("Invigorating Smite",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(2, [CHAMOD]),["melee"]),
          Hit(["If you are bloodied, regain ",lambda x: x.mod("wis")+5," hit points.  Bloodied allies within 5 squares of you also regain ",lambda x: x.mod("wis")+5," hit points."])],"paladin","attack",3),
      Power("Righteous Smite",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(2, [CHAMOD]),["melee"]),
          Hit(["You and each ally within 5 squares of you gain ",lambda x: x.mod("wis")+5," temporary hit points."])],"paladin","attack",3),
      Power("Staggering Smite",["divine","radiant", "weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Push the target ",MOD("wis")," squares"])],"paladin","attack",3)
],"paladindaily5":[
      Power("Hallowed Circle",["divine","implement","zone"],"daily","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([CHAMOD],"reflex", damage([2,6], [CHAMOD])),
          Effect(["The burst creates a zone of bright light that lasts until the end of the encounter.  You your allies gain a +1 power bonus to all defenses while within the zone."])],"paladin","attack",5),
      Power("Martyr's Retribution",["divine","radiant","weapon"],"daily","standard",
          [Effect("You must spend a healing surge without regaining hit points."),
          Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Miss()],"paladin","attack",5),
      Power("Sign of Vulnerability",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"fortitude", damage([3,8], [CHAMOD])),
          Hit("The target gains vulnerability 5 to radiant damage until the end of the encounter."),
          Miss("Half damage, and the target gains to vulnerability.")],"paladin","attack",5)
],"paladinutility6":[
      Power("Divine Bodyguard",["divine"],"daily","minor",
          [Effect("Choose an ally within 5 squares of you.  You take half that ally's damage until the end of the encounter or until you end the effect as a free action.  No power or effect can reduce the damage you take from this power.",("ranged",5))],"paladin","utility",6),
      Power("One Heart, One Mind",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",6)),
           Effect("Until the end of the encounter, targets can communicate telepathically with each other out to a range of 20 squares, and your aid another actions give a +4 bonus instead of a +2.")],"paladin","utility",6),
      Power("Wrath of the Gods",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",3)),
           Effect(["The targets add ",lambda x: x.mod("cha")," to damage rolls until the end of the encounter"])],"paladin","utility",6)
],"paladinencounter7":[
      Power("Beckon Foe",["divine","implement"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([2,10], [CHAMOD])),
          Hit(["Pull the target ",MOD("wis")," squares."])],"paladin","attack",7),
      Power("Benign Transposition",["divine","teleportation","weapon"],"encounter","standard",
          [Other(["Primary target: One ally within ",MOD("wis")," squares"]),
          Effect("You and the target swap places.  If an enemy is now within your melee reach, you can make a secondary attack against it."),
          Target("one enemy"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"])],"paladin","attack",7),
      Power("Divine Reverence",["divine","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([CHAMOD],"will", damage([1,8], [CHAMOD])),
          Hit("The target is dazed until the end of your next turn.")],"paladin","attack",7),
      Power("Thunder Smite",["divine","thunder", "weapon"],"encounter","standard",
          [Special("If the target is marked by you, the attack can score a critical hit on a roll of 19-20"),
          Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is knocked prone")],"paladin","attack",7)
],"paladindaily9":[
      Power("Crown of Glory",["divine","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([CHAMOD],"will", damage([2,8], [CHAMOD])),
          Effect(["Any enemy that starts its turn adjacent to you is slowed until the end of your next turn."]),
          Sustain("minor",["You can sustain the power's effect."])],"paladin","attack",9),
      Power("One Stands Alone",["divine","implement","radiant"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([CHAMOD],"will", damage([2,8], [CHAMOD])),
          Effect("The targets are weakened (save ends)."),
          Special("You cannot use this power if any allies are within 5 squares of you.")],"paladin","attack",9),
      Power("Radiant Pulse",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"fortitude", damage([1,10], [CHAMOD])),
          Hit(["Make a secondary attack"]),
          Target("Each enemy adjacent to the primary target"),Atk([CHAMOD],"fortitude", damage([1,10], [CHAMOD])),
          Hit(["Push the target 3 squares"]),
          Sustain("minor",["When you sustain this power, you can repeat the secondary attack (the primary target is the same each time)."]),
          Miss("Half damage, and no secondary attack.")],"paladin","attack",9)
],"paladinutility10":[
      Power("Cleansing Spirit",["divine"],"encounter","minor",
          [Target("you or one ally",("ranged",5)),
           Effect("The target makes a saving throw with a +2 bonus",("ranged",5))],"paladin","utility",10),
      Power("Noble Shield",["divine"],"daily","immediate interrupt",
          [Trigger("You are targeted by a close attack or an area attack"),
          Effect("A close attack or an area attack targeting you automatically hits you, and any of your allies who are also hit only take half damage.  This power does not change other effects the attack might cause.")],"paladin","utility",10),
      Power("Turn the Tide",["divine"],"daily","standard",
          [Target("you and each ally in burst",("close burst",3)),
           Effect("The targets make saving throws against every effect that a save can end.")],"paladin","utility",10)
],"paladinencounter13":[
      Power("Entangling Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(2, [CHAMOD]),["melee"]),
          Hit(["The target is immobilized until your next turn"])],"paladin","attack",13),
      Power("Radiant Charge",["divine","radiant","weapon"],"encounter","standard",
          [Effect(["You can fly ",MOD("wis")," squares and make an attack"]),
           Target("one creature within your melee reach"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Special("You must charge as part of this attack."),
          Hit("The target is marked until the end of your next turn.")],"paladin","attack",13),
      Power("Renewing Smite",["divine","healing","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(2, [CHAMOD]),["melee"]),
          Hit(["One ally within 5 squares of you regains ",lambda x: x.mod("wis")+10," hit points."])],"paladin","attack",13),
      Power("Whirlwind Smite",["divine", "weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The target is marked until the end of your next turn.")],"paladin","attack",13),
],"paladindaily15":[
      Power("Bloodied Retribution",["divine","healing","weapon"],"daily","standard",
          [Special("You can use this power only when you are bloodied."),
           Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Miss(),
          Effect("","You can spend a healing surge")],"paladin","attack",15),
      Power("Break the Wall",["divine","implement"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"fortitude", damage([3,10], [CHAMOD])),
           Hit("The target takes a -2 penalty to all defenses (save ends)"),
          Miss("Half damage, and the target takes a -1 penalty to all defenses (save ends)")],"paladin","attack",15),
      Power("True Nemesis",["divine","implement"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([2,10], [CHAMOD])),
           Miss(),
          Effect("Until the end of the encounter, whenever the target is within 5 squares of you and attacks you or an ally, you can repeat the attack against the target as an immediate reaction.")],"paladin","attack",15)
],"paladinutility16":[
      Power("Angelic Intercession",["divine","teleportation"],"daily","immediate interrupt",
          [Trigger("An ally within 5 squares of you is hit by an attack"),
           Effect("You teleport adjacent to the ally and are hit by the attack instead.",("ranged",5))],"paladin","utility",16),
      Power("Death Ward",["divine"],"daily","minor",
          [Target("one dying creature",("melee","touch")),
           Effect(["You spend a healing surge but regain no hit points from it.  Instead, the target regains hit points as if it had spent two healing surges.  Add ",MOD("cha")," to the hit points regained."])],"paladin","utility",16)
],"paladinencounter17":[
      Power("Enervating Smite",["divine","weapon"],"encounter","standard",
          [Target("one enemy"),Atk([CHAMOD],"will", damage(2, [CHAMOD]),["melee"]),
          Hit("The target is weakened until the end of your next turn.")],"paladin","attack",17),
      Power("Fortifying Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"]),
          Hit(["Until the end of your next turn, gain a +",MOD("wis")," power bonus to AC"])],"paladin","attack",17),
      Power("Hand of the Gods",["divine","implement","radiant"],"encounter","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([CHAMOD],"fortitude", damage([2,10], [CHAMOD])),
          Hit("The target is marked until the end of your next turn."),
          Effect(["Until the end of your next turn, allies in the burst gain a +",MOD("wis")," power bonus to attack rolls."])],"paladin","attack",17),
      Power("Terrifying Smite",["divine","fear", "weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Push the target ",MOD("cha")," squares.  The target can't move nearer to you on its next turn."])],"paladin","attack",17)
],"paladindaily19":[
      Power("Corona of Blinding Radiance",["divine","radiant","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([CHAMOD],"reflex", damage(3, [STRMOD]),["melee"]),
          Hit("The target is blinded (save ends)."),
          Miss("Half damage, and the target is blinded until the end of your next turn.")],"paladin","attack",19),
      Power("Crusader's Boon",["divine","implement"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Miss(),
          Effect("You and allies adjacent to you gain a +1 power bonus to attack rolls until the end of the encounter")],"paladin","attack",19),
      Power("Righteous Inferno",["divine","fire","implement","zone"],"daily","standard",
          [Target("each enemy in burst",("area burst",2,10)),Atk([CHAMOD],"reflex", damage([3,10], [CHAMOD])),
          Hit("The target grants combat to you and your allies until the end of your next turn"),
          Miss("Half damage, and the target does not grant combat advantage."),
          Effect(["The burst creates a zone of fire that lasts until the end of your next turn.  Enemies that enter the zone or start their turns there take ",dmg(0,1,10)," grant combat advantage to your allies."]),
          Sustain()],"paladin","attack",19),
],"paladinutility22":[
      Power("Angelic Rescue",["divine","teleportation"],"daily","standard",
          [Target("one willing ally",("ranged","sight")),
           Effect("The target is teleported from any square you can see to a square within 5 squares of you that is nearer to you than the target's original square.")],"paladin","utility",22),
      Power("Cleansing Burst",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),Effect("All allies make a saving throw against each effect that a save can end.  Any penalties to attack rolls or defenses affecting the targets are removed.")],"paladin","utility",22),
      Power("Gift of Life",["divine","healing"],"daily","standard",
          [Effect("If the target is allive, it regains hit points no greater than one half your maximum hit points (your choice), and you take an equal amount of damage.  If the target died since the end of your last turn, it returns to life at 0 hit points, and you take damage equal to one-half your maximum hit points.  You can't avoid or reduce damage in any way.",("melee","touch"))],"paladin","utility",22),
      Power("United in Faith",["divine"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("Each target can spend a healing surge")],"paladin","utility",22)
],"paladinencounter23":[
      Power("Here Waits Thy Doom",["divine","implement","radiant"],"encounter","standard",
        [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([4,10], [CHAMOD])),
          Hit(["Pull the target ",lambda x:max(x.mod("wis"),1)," squares."])],"paladin","attack",23),
      Power("Martyr's Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("Until the end of your next turn, any time the target deals damage, you can choose to take that damage.  The target's intended victim takes no damage, but is subject to any other effects of the attack.")],"paladin","attack",23),
      Power("Resounding Smite",["divine","thunder","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is knocked prone.  Make a secondary attack."),
          Target("each enemy adjacent to you other than the primary target"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target is knocked prone.")],"paladin","attack",23),
      Power("Sublime Transposition",["divine","teleportation", "weapon"],"encounter","standard",
          [Target("one willing ally",("ranged",5)),
           Effect(["You can teleport the ally 5 squares.  Until the end of your next turn, you grant the target a +",MOD("wis")," power bonus to all defenses.  In addition, you teleport to the target's original space and make a secondary attack."]),
           Target("one creature within your melee reach"),Atk([CHAMOD],"AC", damage(3, [CHAMOD]),["melee"])],"paladin","attack",23)
],"paladindaily25":[
      Power("Exalted Retribution",["divine","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Miss(),
          Effect("The target provokes an opportunity attack from you when it attacks (save ends).  You gain a +2 power bonus to the opportunity attack roll and deal an extra 1[W] damage.")],"paladin","attack",25),
      Power("To the Nine Hells with You",["divine","fire","implement"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),Atk([CHAMOD],"will", damage([6,6], [CHAMOD])),
          Hit("Ongoing 10 fire damage (save ends).  The target is marked until the end of your next turn."),
          Miss("Half damage, and ongoing 10 fire damage (save ends).  The target is marked until the end of your next turn.")],"paladin","attack",25)
],"paladinencounter27":[
      Power("Blinding Smite",["divine","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(3, [STRMOD]),["melee"]),
          Hit("The target is blinded until the end of your next turn")],"paladin","attack",27),
      Power("Brand of Judgement",["divine","implement","radiant"],"encounter","standard",
          [Target("one creature",("melee","touch")),Atk([CHAMOD],"will", damage([4,8], [CHAMOD])),
          Hit("If the target makes an attack on its next turn, it  takes half damage from its own attack whether it hits or misses.")],"paladin","attack",27),
      Power("Deific Vengeance",["divine","implement"],"encounter","immediate reaction",
          [Trigger("A creature within range attacks you",("ranged",20)),
           Target("the attacking creature"),Atk([CHAMOD,2],"fortitude", damage([4,10], [CHAMOD])),
          Hit("The target is weakened until the end of your next turn.")],"paladin","attack",27),
      Power("Restricting Smite",["divine","thunder", "weapon"],"encounter","standard",
          [Target("one creature"),Atk([CHAMOD],"will", damage(3, [CHAMOD]),["melee"]),
          Hit("The target is marked until the end of your next turn.  In addition, the target cannot gain line of effect to anyone but you until the end of your next turn.")],"paladin","attack",27),
      Power("Stunning Smite",["divine","thunder", "weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(2, [STRMOD]),["melee"]),
           Hit("The target is stunned until the end of your next turn.  Make a secondary attack."),
          Target("each enemy other than the primary target adjacent to you"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("The target is stunned until the end of your next turn.")],"paladin","attack",27)
],"paladindaily29":[
      Power("Even Hand of Justice",["divine","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([5,10], [CHAMOD])),
          Hit("Whenever the target makes an attack its attacks work as usual, but it takes the full damage and effects of the attack as well (save ends).  Saving throws made to end the effect take a -2 penalty."),
          Miss("Full damage, but no effect"),
          Special("When taking damage from its own attacks resulting from this power, the target does not gain the benefit of any immunities or resistances.")],"paladin","attack",29),
      Power("Powerful Faith",["divine","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Hit("Make a secondary attack"),
          Miss("Half damage, and no secondary attack."),
          Target("each enemy within 10 squares of you"),Atk([STRMOD],"fortitude", None,["melee"]),
          Hit("The target is blinded until the end of your next turn.")],"paladin","attack",29)
]}
    addPowers(paladinList)

def psion():
    psionList={"psionat-will1":[
      Power("Dishearten",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([1,6],[INTMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn"),
          Augment(1),
          Hit("As above. and the target cannot make opportunity attacks until the end of your next turn."),
          Augment(2),
          Hit(["+1d6 psychic damage, and the target takes a -",MOD("cha")," penalty to attack rolls until the end of your next turn."])],"psion","at-will","1"),
      Power("Force Punch",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("melee",1)),
          Atk([INTMOD],"fortitude",damage([1,8],[INTMOD])),
          Hit("You push the target and each enemy adjacent to you 1 square."),
          Augment(1),
          Hit("As above, but you push the target a number of squares equal to your Wisdom modifier."),
          Augment(2),
          Hit(["+",MOD("wis")," force damage, and you knock the target prone. In addition, you push the target and each enemy adjacent to you 1 square."])],"psion","at-will","1"),
      Power("Kinetic Trawl",["force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("You pull the target 1 square."),
          Special("You can use this power unaugmented as a ranged basic attack."),
          Augment(1),
          Hit(["Change damage die to 1d10, and you pull the target ",MOD("wis")," squares."]),
          Augment(2),
          Hit(["Change damage die to 2d10, and you pull the target ",MOD("wis")," squares."])],"psion","at-will","1"),
      Power("Memory Hole",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([1,6],[INTMOD])),
          Hit("You become invisible to the target until the start of your next turn."),
          Augment(1),
          Hit("As above, but the invisibility lasts until the end of your next turn."),
          Augment(2),
          Target("Each creature in burst",("Area burst",1,10)),
          Hit("+1d6 damage, and you become invisible to the target until the start of your next turn.")],"psion","at-will","1"),
      Power("Mind Thrust",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([1,10],[INTMOD])),
          Special("You can use this power unaugmented as a ranged basic attack."),
          Other("Augment 1:  "),
          Hit(["As above. and the target takes a -",MOD("cha")," penalty to Will until the end of your next turn."]),
          Other("Augment 2:  "),
          Hit(["+1d10 damage, and the target takes a -",MOD("cha")," penalty to all defenses until the end of your next turn."])],"psion","at-will","1"),
],"psiondaily1":[
      Power("Hand Of Caution",["force","implement","psionic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage([2,8],[INTMOD])),
          Miss(),
          Effect("Until the end of the encounter, you can use a minor action to push the target 1 square when the target is within 5 squares of you. This effect ends if you end your turn adjacent to the target.")],"psion","daily","1"),
      Power("Mental Trauma",["implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([3,8],[INTMOD])),
          Miss(),
          Effect("The target gains vulnerable 5 psychic (save ends).")],"psion","daily","1"),
      Power("Ravening Thought",["implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([2,6],[INTMOD])),
          Hit("Ongoing 5 psychic damage (save ends)."),
          Miss("Half damage, and ongoing 3 psychic damage (save ends)."),
          Effect("Make a secondary attack."),
          Target("Each enemy adjacent to the primary target"),
          Atk([INTMOD],"will",damage([1,6],[INTMOD])),
          Hit("Ongoing 5 psychic damage (save ends).")],"psion","daily","1"),
      Power("Telekinetic Anchor",["force","implement","psionic"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"fortitude",damage([3,6],[INTMOD])),
          Miss("Half damage."),
          Effect("Each target takes 5 force damage the first time it moves on its next turn.")],"psion","daily","1"),
],"psionutility2":[
      Power("Intellect Fortress",["psionic"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect(["Choose a defense. Until the end of your next turn, you gain a +",MOD("cha")," power bonus to that defense."])],"psion","utility","2"),
      Power("Skill Empowerment",["psionic"],"daily","minor",
          [Target("One ally",("ranged",10)),
          Effect("Choose a skill. The target gains a +3 power bonus to checks using that skill until the end of the encounter.")],"psion","utility","2"),
      Power("Telekinetic Lift",["psionic"],"daily","standard",
          [Target("One ally, helpless enemy, or object that weighs 400 pounds or less and isn't carried by another creature",("ranged",10)),
          Effect("You slide the target 3 squares in any direction, even into the air. The target remains aloft and is immobilized until the end of your next turn. You can end this effect as a free action, and it ends if you end your turn out of range of the target. If the target is a creature, it can end the effect as a minor action."),
          Sustain("minor"," The target remains aloft and is immobilized until the end of your next turn, and you can slide the target 3 squares in any direction. Alternatively, you can drop the target and then use the power on a new target.")],"psion","utility","2"),
      Power("Transport Self",["psionic","teleportation"],"encounter","move",
          [Effect(["You teleport ",MOD("wis",1)," squares."])],"psion","utility","1"),
],"psionat-will3":[
      Power("Betrayal",["augmentable","charm","implement","psionic"],"at-will","standard",
          [Target("One enemy",("ranged",10)),
          Atk([INTMOD],"will",None),
          Hit(["You slide the target 1 square to a square adjacent to an enemy. The target then makes a melee basic attack as a free action against that enemy, with a +",MOD("cha")," bonus to the attack roll."]),
          Augment(1),
          Hit(["As above, and the target gains a +",MOD("cha")," bonus to the damage roll."]),
          Augment(2),
          Hit(["You slide the target ",MOD("cha")," squares to a square adjacent to an enemy. The target then makes a melee basic attack as a free action against that enemy, with a +",MOD("cha")," bonus to the attack roll and the damage roll. The target is also dazed until the end of your next turn."])],"psion","at-will","3"),
      Power("Burning Flux",["augmentable","fire","implement","psionic","zone"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage([1,6],[INTMOD])),
          Effect("Choose a square in the target's space. That square becomes a zone that lasts until the end of your next turn. Any creature that enters the zone, starts its turn there, or starts its turn adjacent to it takes fire damage equal to your Wisdom modifier."),
          Augment(1),
          Effect("As above, and the zone is totally obscured."),
          Augment(2),
          Target("Each creature in burst",("Area burst",1,10)),
          Hit("+1d6 fire damage."),
          Effect(["The burst creates a zone that lasts until the end of your next turn. The zone is totally obscured, and any creature that enters the zone or starts its turn there takes ",MOD("wis")," fire damage."])],"psion","at-will","3"),
      Power("Force Hammer",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"fortitude",damage([1,6],[INTMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Augment(1),
          Hit("As above, and the target can't shift until the end of your next turn."),
          Augment(2),
          Hit("Change damage die to 1d8, and you knock the target prone.")],"psion","at-will","3"),
      Power("Id Insinuation",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([1,6],[INTMOD])),
          Hit("The target takes a -2 penalty to fortitude until the end of your next turn."),
          Augment(1),
          Hit(["As above, but the penalty to Fortitude equals -",MOD("cha"),"."]),
          Augment(2),
          Hit(["Change damage die to 2d8. If an attack hits the target's Fortitude before the end of your next turn, that attack deals ",MOD("cha")," extra damage."])],"psion","at-will","3"),
],"psiondaily5":[
      Power("Crisis Of Identity",["charm","implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([3,6],[INTMOD])),
          Hit(["The target makes a melee basic attack as a free action against a creature of your choice, with a +",MOD("cha")," bonus to the attack roll and the damage roll."]),
          Miss()],"psion","daily","5"),
      Power("Hypnotic Pulse",["implement","psionic","psychic"],"daily","standard",
          [Target("Each enemy in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([2,6],[INTMOD])),
          Hit("The target is dazed (save ends)."),
          Miss("The target is dazed until the end of your next turn.")],"psion","daily","5"),
      Power("Shredding Ribbons",["force","implement","psionic","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"reflex",damage([2,6],[INTMOD])),
          Miss(),
          Effect(["The burst creates a zone that lasts until the end ofyour next turn. Any creature that enters the zone or starts its turn there takes ",MOD("wis")," force damage."]),
          Sustain("minor"," The zone persists.")],"psion","daily","5"),
      Power("Telekinetic Maul",["force","implement","psionic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"AC",damage([3,12],[INTMOD])),
          Hit(["You push the target ",MOD("wis","min1")," squares. If you push the target into difficult terrain. the target falls prone."]),
          Miss("Half damage, and you push the target 1 square.")],"psion","daily","5"),
],"psionutility6":[
      Power("Mind Shadow",["psionic"],"daily","minor",
          [Effect("Until you hit any creature with an attack or until the end of the encounter, you are invisible to your enemies if you are not their nearest enemy.")],"psion","utility","6"),
      Power("Steadfast Stanchion",["psionic"],"daily","standard",
          [Effect("You become immune to forced movement until the end of your next turn. In addition. your allies are immune to forced movement while within 5 squares of you. If you move, the effect ends."),
           Sustain("minor"," The effect persists.")],"psion","utility","6"),
      Power("Telekinetic Screen",["psionic"],"encounter","immediate interrupt",
          [Trigger("An enemy scores a critical hit against you"),
          Effect(["The attack's damage is reduced by ",MOD("wis",10),"."])],"psion","utility","6"),
],"psionat-will7":[
      Power("Cranial Disturbance",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([1,8],[INTMOD])),
          Hit("You knock the target prone."),
          Augment(1),
          Hit(["As above, and each creature adjacent to the target takes ",MOD("wis")," force damage."]),
          Augment(2),
          Hit(["Damage as above, and the target is dazed until the end of your next turn. In addition, each creature adjacent to the target takes ",MOD("wis",5)," force damage."])],"psion","at-will","7"),
      Power("Dread Spiral",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([1,10],[INTMOD])),
          Hit("You slide the target 1 square."),
          Augment(1),
          Hit(["As above. but you pull the target ",MOD("wis")," squares, instead of sliding it."]),
          Augment(2),
          Hit(["Damage as above, and you slide ",MOD("wis")," squares."])],"psion","at-will","7"),
      Power("Force Grasp",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([1,8],[INTMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Augment(1),
          Target("One creature or two creatures adjacent to each other"),
          Augment(2),
          Target("One or two creatures"),
          Hit("Damage as above, and the target is immobilized until the end of your next turn.")],"psion","at-will","7"),
      Power("Mind Break",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([1,8],[INTMOD])),
          Hit(["The target gains vulnerability ",MOD("cha")," to psychic damage until the end of your next turn."]),
          Special("You can use this power unaugmented as a ranged basic attack."),
          Augment(1),
          Hit("As above, but the vulnerability equals 5. The target loses psychic resistance until the end of your next turn."),
          Augment(2),
          Hit(["Damage as above, and the target gains vulnerability ",MOD("cha",5)," to psychic damage until the end of your next turn."])],"psion","at-will","7"),
],"psiondaily9":[
      Power("Clear The Slate",["force","implement","psionic"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,10)),
          Atk([INTMOD],"fortitude",damage([2,6],[INTMOD])),
          Hit(["You slide the target ",MOD("wis",3)," squares."]),
          Miss("Half damage, and you slide the target 1 square.")],"psion","daily","9"),
      Power("Mind Blast",[". implement","psionic"],"daily","standard",
          [Target("Each creature in blast",("close blast",5)),
          Atk([INTMOD],"will",None),
          Hit("The target is stunned (save ends)."),
          Miss("The target is dazed until the end ofyour next turn.")],"psion","daily","9"),
      Power("Mind Cannon",["force","implement","psionic","thunder"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([2,8],[INTMOD])),
          Hit("You push the primary target 1 square, and it is deafened (save ends)."),
          Effect("Make an attack that is a close burst 1 centered on the  target."),
          Target("Each creature in burst other than the primary target"),
          Atk([INTMOD],"fortitude",damage([1,8],[WISMOD])),
          Miss()],"psion","daily","9"),
      Power("Sensory Onslaught",["implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([2,10],[INTMOD])),
          Hit("Ongoing 5 psychic damage (save ends)."),
          Miss(),
          Effect("Until the end of your next turn, the target takes a -2 penalty to attack rolls and to all defenses, and it can't take opportunity actions.")],"psion","daily","9"),
],"psionutility10":[
      Power("Force Bubble",["psionic"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",1)),
          Effect(["Choose cold, fire, force, lightning, necrotic, radiant, or thunder. Until the end of your next turn, each target gains resistance ",MOD("int",5)," to that damage type, but only when the damage is from ranged or area attacks."])],"psion","utility","10"),
      Power("Intellect Leech",["psionic"],"daily","minor",
          [Target("One creature",("ranged",20)),
          Effect(["Until the end of the encounter, whenever the target takes psychic damage while within 10 squares of you, you gain ",MOD("cha",5)," temporary hit points."])],"psion","utility","10"),
      Power("Mind Over Flesh",["psionic"],"encounter","immediate interrupt",
          [Trigger("An effect dazes, dominates, or stuns you"),
          Effect("You make a saving throw against the triggering effect. If you save, the triggering effect doesn't affect you.")],"psion","utility","10"),
      Power("Sky Hook",["psionic"],"daily","minor",
          [Effect("Until the end of the encounter, you have a fly speed equal to your speed (hover; altitude limit 2).")],"psion","utility","10"),
],"psionat-will13":[
      Power("Concussion Burst",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"reflex",None),
          Hit(["",MOD("int")," force damage, and the target falls prone."]),
          Augment(1),
          Hit("As above, and if the target is hit by an attack against Fortitude before the start of your next turn, the target falls prone."),
          Augment(4),
          Hit(["",dmg(INTMOD,3,6),"and the target falls prone."])],"psion","at-will","13"),
      Power("Dual Hallucination",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("One or two creatures",("ranged",20)),
          Atk([INTMOD],"will",damage([1,8],[INTMOD])),
          Hit("The target grants combat advantage to the next creature that attacks it before the end of your next turn."),
          Augment(1),
          Hit(["As above, and the target takes a -",MOD("cha")," penalty to Reflex until the end of your next turn."]),
          Augment(4),
          Hit("Damage as above, and the target is dazed until the end of your next turn.")],"psion","at-will","13"),
      Power("Mind Wipe",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([1,8],[INTMOD])),
          Hit("The target takes a -1 penalty to attack rolls until the end of your next turn."),
          Augment(1),
          Hit(["As above, but the penalty equals -",MOD("cha")," and applies only to the target's next attack roll that isn't a basic attack before the end of your next turn."]),
          Augment(4),
          Hit(["Change damage die to 3d8, and the target takes a -",MOD("cha")," penalty to the next attack roll it makes before the end of your next turn."])],"psion","at-will","13"),
      Power("Thunder Tether",["augmentable","implement","psionic","thunder"],"at-will","standard",
          [Target("One or two creatures in burst",("area burst",2,10)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit(["If the target moves on its next turn, it takes ",MOD("wis")," thunder damage."]),
          Augment("1 (Zone)"),
          Hit("As above, and the burst creates a zone that lasts until the end of your next turn. The target can't leave the zone during its next turn."),
          Augment(4),
          Hit(["Change damage die to 3d8. If the target moves before the start of your next turn, it and each creature adjacent to it at the start of that move take ",MOD("wis")," thunder damage."])],"psion","at-will","13"),
],"psiondaily15":[
      Power("Crushing Bludgeon",["force","implement","psionic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"AC",damage([4,10],[INTMOD])),
          Hit("The target is slowed (saved ends)."),
          Miss("Half damage, and the target is slowed until the end of your next turn.")],"psion","daily","15"),
      Power("Dominate",[". charm","implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",None),
          Hit("The target is dominated (save ends)."),
          Aftereffect("The target takes ongoing 10 psychic damage (save ends)."),
          Miss("The target takes ongoing 10 psychiC damage (save ends).")],"psion","daily","15"),
      Power("Imprison",["force","implement","psionic"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"reflex",damage([3,6],[INTMOD])),
          Hit("You slide the target a number of squares equal to 2 + your wisdom modifier, and it is immobilized (save ends)."),
          Miss("Half damage, and you slide the target 1 square.")],"psion","daily","15"),
      Power("Psychofeedback",["implement","psionic","psychic"],"daily","standard",
          [Target("one or two creatures",("ranged",10)),
          Atk([INTMOD],"fortitude",damage([3,8],[INTMOD])),
          Hit(["The target is dazed (save ends). While the target is dazed by this power, you gain 1d8 + ",MOD("cha")," temporary hit points whenever the target deals damage to another creature."]),
          Miss()],"psion","daily","15"),
],"psionutility16":[
      Power("Freedom Of Movement",["psionic"],"daily","minor",
          [Target("Each ally in burst",("area burst",2,10)),
          Effect(["You slide each target ",MOD("wis",1)," squares. In addition, the immobilized, restrained, and slowed conditions end on each target, and if a target is grabbed, the grab ends."])],"psion","utility","16"),
      Power("Precognitive Step",["psionic"],"daily","minor",
          [Effect("Roll a d20. Once during this encounter, you can use that roll's result in place of one of your attack rolls, saving throws, skill checks, or ability checks or in place of an enemy's attack roll against you.")],"psion","utility","16"),
      Power("Psychic Chirurgery",["psionic"],"encounter","free",
          [Trigger("You or an ally is subjected to an effect that a save can end",("melee","touch")),
          Target("You or the ally",("melee","touch")),
          Effect("The target isn't subjected to the effect until the end of his or her next turn and can't start making saving throws against the effect until after that turn.")],"psion","utility","16"),
      Power("Telekinetic Boost",["psionic","zone"],"daily","minor",
          [Effect(["You create a zone in an unoccupied square within range. The zone lasts until the end of your next turn. When any ally enters the zone. you can use a free action to slide that ally ",MOD("wis")," squares. You can slide the ally in any direction, even into the air."],("ranged",5)),
           Sustain("minor"," The zone persists. and you can move it to a different unoccupied square within range.")],"psion","utility","16"),
],"psionat-will17":[
      Power("Crystalline Bonds",["augmentable","implement","psionic"],"at-will","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"fortitude",None),
          Hit("The target is immobilized until the end of your next turn."),
          Augment("1 (Force)"),
          Hit(["As above, +",MOD("wis")," force damage."]),
          Augment("4 (Force)"),
          Hit(["",dmg(INTMOD,3,10,["force"]),", and the target is immobilized until the end of your next turn."])],"psion","at-will","17"),
      Power("Forced Opportunity",["augmentable","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",None),
          Hit(["One ally adjacent to the target can make an opportunity attack against it as a free action, with a +",MOD("cha")," bonus to the attack roll and the damage roll."]),
          Augment(1),
          Hit(""),
          Other("As above, and the ally gains combat advantage for the opportunity attack."),
          Augment(4),
          Hit(["Each of your allies adjacent to the target can make an opportunity attack against it as a free action, with a +",MOD("cha")," bonus to the attack roll and the damage roll."])],"psion","at-will","17"),
      Power("Psychic Brand",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",damage([1,10],[INTMOD])),
          Hit("Until the end of your next turn, the target cannot benefit from concealment or total concealment."),
          Special("You can use this power unaugmented as a ranged basic attack."),
          Augment(1),
          Hit("As above, and the target grants combat advantage until the end of your next turn"),
          Augment(4),
          Hit(["Change damage die to 2d10. Until the end of your next turn, the target cannot benefit from concealment or total concealment, and it gains vulnerability ",MOD("cha")," to all damage."])],"psion","at-will","17"),
      Power("Shield Crack",["augmentable","implement","lightning","psionic"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("The target takes a -2 penalty to ac until the end of your next turn."),
          Augment(1),
          Target("Each enemy in burst"),
          Augment(4),
          Hit(["Change damage die to 3d8, and the target takes a -",MOD("wis")," penalty to AC and Reflex until the end of your next turn."])],"psion","at-will","17"),
],"psiondaily19":[
      Power("Crisis Of Breath",["implement","psionic","reliable"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"fortitude",damage([2,8],[INTMOD])),
          Hit("Ongoing 10 damage (save ends). the target takes a -4 penalty to its first saving throw against this ongoing damage."),
           Sustain("minor"," The target takes a -2 penalty to its next saving throw against the ongoing damage.")],"psion","daily","19"),
      Power("Psychic Crush",["implement","psionic","psychic"],"daily","standard",
          [Target("Each enemy in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([3,8],[INTMOD])),
          Hit("Ongoing 5 psychic damage (save ends). if the target is bloodied, it is also dazed (save ends)."),
          Miss("Half damage. If the target is bloodied, it is also dazed until the end of your next turn.")],"psion","daily","19"),
      Power("Psychic Leech",["charm","implement","psionic. psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"will",damage([2,10],[INTMOD])),
          Hit("The target makes a basic attack as a free action against a creature of your choice. if that attack hits, you gain temporary hit points equal to the damage it deals."),
          Miss(["The target makes a basic attack as a free action against a creature of your choice. If that attack hits, you gain ",MOD("cha")," temporary hit points."]),
          Effect("You regain 1 power point.")],"psion","daily","19"),
      Power("Shred Reality",["force","implement","psionic","teleportation"],"daily","standard",
          [Target("Each creature in burst",("area burst",3,10)),
          Atk([INTMOD],"reflex",damage([3,8],[INTMOD])),
          Hit("You teleport the target 3 squares."),
          Effect("Make a secondary attack."),
          Target("One creature hit by the primary attack"),
          Atk([INTMOD],"will",None),
          Hit("The target is removed from play. At the end of your next turn. the target reappears in an unoccupied space of your choice within 5 squares of you and is dazed until the end of its next turn."),
          Miss("The target is dazed until the end of your next turn.")],"psion","daily","19"),
],"psionutility22":[
      Power("Mind Over Earth",["psionic"],"daily","minor",
          [Effect("You gain fly 8 (hover) until the end of the encounter.")],"psion","utility","22"),
      Power("Rejuvenate The Mind",["psionic"],"daily","free",
          [Trigger("You use your second wind"),
          Effect("You regain 2 power points.")],"psion","utility","22"),
      Power("Through The Walls",["psionic"],"daily","standard",
          [Target("You and each ally in burst",("close burst",1)),
          Effect("Each target is phasing until the end of your next turn."),
           Sustain("minor"," The effect persists.")],"psion","utility","22"),
      Power("Warding Shield",["psionic"],"encounter","immediate interrupt",
          [Trigger("An enemy targets you with an area or a close attack"),
          Target("You and each ally in burst",("close burst",5)),
          Effect(["Until the end of your next turn. Each target gains a +",MOD("wis")," bonus to AC, Fortitude, and Reflex."])],"psion","utility","22"),
],"psionat-will23":[
      Power("Cruel Crush",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("You knock the target prone."),
          Augment(2),
          Hit("Change damage die to 2d10, and you knock the target prone."),
          Augment(6),
          Hit("Change damage die to 4d8, and you knock the target prone. It cannot stand up until the end of your next turn.")],"psion","at-will","23"),
      Power("Daggers Of Pain",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("Each enemy in burst",("area burst",1,10)),
          Atk([INTMOD],"will",damage([1,8],[INTMOD])),
          Hit(["The target gains vulnerability ",MOD("cha")," to psychic damage until the end of your next turn."]),
          Augment(2),
          Hit(["Change damage die to 2d10, and the target gains vulnerability to ",MOD("cha")," psychic damage until the end of your next turn."]),
          Augment(6),
          Hit(["Change damage die to 4d8, and the target takes ",MOD("cha")," psychic damage whenever it enters a square on its next turn."])],"psion","at-will","13"),
      Power("Space Vortex",["augmentable","force","implement","psionic","teleportation"],"at-will","standard",
          [Target("One creature",("ranged",5)),
          Atk([INTMOD],"reflex",None),
          Hit(["",MOD("int")," force damage. and you teleport the target to a s uare within 5 squares of you."]),
          Augment(2),
          Hit(["",dmg(INTMOD,1,12)," force damage, and you teleport the target to a square within 5 squares of you."]),
          Augment(6),
          Hit(["",dmg(INTMOD,2,12)," force damage, and the target is removed from play. At the end of your next turn, the target reappears in an unoccupied space of your choice that you can see."])],"psion","at-will","23"),
      Power("Sudden Control",["augmentable","charm","implement","psionic"],"at-will","standard",
          [Target("One enemy",("ranged",10)),
          Atk([INTMOD],"will",None),
          Hit(["You slide the target ",MOD("cha")," squares. The target then makes a basic attack as a free action against a creature of your choice, with a +",MOD("cha")," bonus to the attack roll and the damage roll."]),
          Augment("2 (Psychic)"),
          Hit("As above, and the target takes 10 psychic damage if its attack misses."),
          Augment(6),
          Hit(["The target is dominated until the end of your next turn. Until the domination ends, the target gains a +",MOD("cha")," bonus to attack rolls and damage rolls."])],"psion","at-will","23"),
],"psiondaily25":[
      Power("Forest Of Exclusion",["force","implement","psionic","zone"],"daily","standard",
          [Target("Each enemy in burst",("close burst",2)),
          Atk([INTMOD],"fortitude",damage([4,10],[INTMOD])),
          Hit("You push the target 4 squares."),
          Miss("Half damage, and you push the target 2 squares."),
          Effect("The burst creates a zone that lasts until the end of your next turn. When you move, the zone moves with you, remaining centered on you. Any enemy that enters the zone or starts its turn there takes 5 force damage and grants combat advantage until the end of its next turn."),
          Sustain("minor"," The zone persists.")],"psion","daily","25"),
      Power("Mind Switch",["implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",damage([2,8],[INTMOD])),
          Hit("The target takes ongoing 10 psychic damage and is stunned (save ends both), while the target is stunned by this power. You can use a square in the target's space as the origin square of your psionic implement powers."),
          Miss("Half damage, and the target is dazed (save ends).")],"psion","daily","25"),
      Power("Telekinetic Bombard",["force","implement","psionic"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Atk([INTMOD],"reflex",damage([5,6],[INTMOD])),
          Hit(["You push the target ",MOD("wis")," squares from the center of the burst. If the target ends adjacent to blocking terrain, the target takes 3d6 extra damage."]),
          Miss("Half damage, and you push the target 2 squares from the center of the burst.")],"psion","daily","25"),
      Power("Thrall",["charm","implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",None),
          Hit("The target is dominated (save ends)."),
          Aftereffect(["",dmg(INTMOD,2,10),", and the target is dominated until the end of its next turn."]),
          Miss("The target is dazed (save ends)."),
          Aftereffect(["",dmg(0,1,10),", and the target grants combat advantage until the end of its next turn."])],"psion","daily","25"),
],"psionat-will27":[
      Power("Claws Of Force",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Augment(2),
          Hit("Change damage die to 2d8. If the target starts its next turn adjacent to you or your allies, it can move during that turn only to squares that are adjacent to you or your allies."),
          Augment(6),
          Hit("Change damage die to 2d8, and the target is restrained until the end of your next turn.")],"psion","at-will","27"),
      Power("Concussive Detonation",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Augment(2),
          Hit(["Change damage die to 2d8, and the target gains vulnerability ",MOD("wis")," to force damage until the end of your next turn."]),
          Augment(6),
          Hit(["Change damage die to 2d8, and the target is stunned until the end of your next turn."])],"psion","at-will","27"),
      Power("Intrusive Spear",["augmentable","force","implement","psionic"],"at-will","standard",
          [Target("One or two creatures",("ranged",20)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD])),
          Hit("The target grants combat advantage until the end of your next turn."),
          Augment(2),
          Target("Two creatures adjacent to each other"),
          Hit("Change damage die to 2d10, and the target grants combat advantage until the end of your next turn."),
          Augment(6),
          Hit("Change damage die to 4d8, and the target grants combat advantage until the end of your next turn.")],"psion","at-will","27"),
      Power("Psionic Veil",["augmentable","implement","psionic","psychic"],"at-will","standard",
          [Target("Each enemy in burst",("area burst",1,20)),
          Atk([INTMOD],"will",damage([1,8],[INTMOD])),
          Hit("You and each ally adjacent to you are invisible to the target until the end ofyour next turn."),
          Augment(2),
          Hit("Change damage die to 2dl0, and you and each ally adjacent to you are invisible to the target until the end of your next turn.",("Area burst", 2,20)),
          Augment(6),
          Hit("Change damage die to 3d8, and the target is blinded until the end of your next turn.",("Area burst",2,20))],"psion","at-will","27"),
],"psiondaily29":[
      Power("Clasp Of The Psion",["force","implement","psionic","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Atk([INTMOD],"reflex",damage([6,6],[INTMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is slowed (saved ends)."),
          Effect("The burst creates a zone that lasts until the end of the encounter. While within the zone, any enemy that is hit by a force power is also immobilized until the end of its next turn.")],"psion","daily","29"),
      Power("Microcosm",["implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",damage([5,8],[INTMOD])),
          Hit("The target is deafened (save ends), blinded (save ends), and slowed (save ends)."),
          Miss("Half damage, and the target is blinded (save ends)."),
          Effect(["Until the power's effects end on the target, you can slide it ",MOD("cha")," squares as a minor action once per round."])],"psion","daily","29"),
      Power("Soul Break",["charm","implement","psionic","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([INTMOD],"will",None),
          Hit("The target is dominated (save ends)."),
          Aftereffect(["The target chooses either to be stunned until the end of its next turn or to take ",dmg(INTMOD,3,10),"."]),
          Miss(["",dmg(INTMOD,2,10),", and the target is dazed (save ends)."])],"psion","daily","29"),
      Power("Tear The World",["force","implement","psionic"],"daily","standard",
          [Target("Each creature in blast",("close blast",5)),
          Atk([INTMOD],"fortitude",damage([5,6],[INTMOD])),
          Hit("Ongoing 15 force damage (save ends)."),
          Aftereffect(["If the target is within 10 squares of you, you push it ",MOD("wis")," squares."]),
          Miss("Half damage, and you push the target 3 squares.")],"psion","daily","29"),
]}
    addPowers(psionList)

def ranger():
    rangerList={"rangerat-will1":[
      Power("Careful Attack",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(raising(1,20), [STRMOD]),["melee"],["primary","offhand"]),
          Target("one creature"),Atk([DEXMOD,2],"AC", damage(raising(1,20), [DEXMOD]),["ranged"])],"ranger","at-will",1),
      Power("Circling Strike",["beast","martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Effect("Before or after the attack your beast can shift 1 square.")],"ranger","at-will",1),
      Power("Hit and Run",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"]),
          Effect("Do not provoke opportunity attacks for moving away from the target this turn")],"ranger","at-will",1),
      Power("Nimble Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(raising(1,20), [DEXMOD]),["ranged"]),
          Special("Shift 1 square before or after this attack")],"ranger","at-will",1),
      Power("Circling Strike",["beast","martial"],"at-will","standard",
          [Target("one creature",("melee beast",1)),Atk([lambda x:x.statret("beastatk")],"AC",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),WISMOD]))],"ranger","at-will",1),
      Power("Twin Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), []),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(raising(1,20), []),["ranged"])
          ,Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), []),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(raising(1,20), []),["ranged"])],"ranger","at-will",1)
],"rangerencounter1":[
      Power("Dire Wolverine Strike",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee", "primary"])],"ranger","attack",1),
      Power("Enclose the Prey",["beast","martial","weapon"],"encounter","standard",
          [Effect("Before the attack both you and your beast companion can shift 2 squares."),
           Target("one creature designated as your quarry",("melee / beast",1)),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,WISMOD,["beast",["cat","spider","wolf"],True])]),["melee"])],"ranger","attack",1),
      Power("Evasive Strike",["martial","weapon"],"encounter","standard",
          [Special(["You can shift ",lambda x:x.mod("wis")+1," squares either before or after the attack."]),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"])],"ranger","attack",1),
      Power("Fox's Cunning",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy makes an attack against you"),
           Effect(["You can shift 1 square, then make a basic melee attack against the enemy, with a +",MOD("wis")," power bonus to the attack roll"])],"ranger","attack",1),
      Power("Hunting Partner Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["If you're flanking the target, the attack deals ",MOD("wis")," extra damage."])],"ranger","attack",1),
      Power("Off-hand Strike",["martial","weapon"],"encounter","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])],"ranger","attack",1),
      Power("Rapid Volley",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack per target"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"]),
           Special("If you target one creature, gain a +2 bonus to the damage roll.  If you target two creatures, take a -2 penalty to both attack rolls.")],"ranger","attack",1),
      Power("Singular Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
           Hit(["If no creatures are adjacent to the target, the attack deals ",MOD("wis")," extra damage."])],"ranger","attack",1),
      Power("Synchronized Strike",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee beast",1)),Atk([lambda x:x.statret("beastatk")],"AC",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")])),
           Effect("You make a secondary attack against the target."),
           Target("one creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD,orfeat(0,WISMOD,["beast",["lizard","raptor","snake"],True])]),["melee"])],"ranger","attack",1),
      Power("Two-Fanged Strike",["martial","weapon"],"encounter","standard",
          [Target("one target")
          ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit(["If both attacks hit, you deal an extra ",MOD("wis")," damage"])],"ranger","attack",1)
],"rangerdaily1":[
      Power("Boar Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Hit(["Gain ",MOD("wis")," temporary HP"]),
          Miss(),
          Effect(["Until the target is reduced to 0 hit points, gain ",MOD("wis")," temporary HP each time you hit the target."])],"ranger","attack",1),
      Power("Driving the Quarry",["beast","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect(["If the target is your quarry, you slide it 2 squares and slide your beast companion ",orfeat("2 squares, ending its movement adjacent to the target.  If the target is your quarry and is also bloodied, you instead slide the beast 4 squares.","to any square adjacent to the target",["beast",["cat","raptor","spider","wolf"],True])])],"ranger","attack",1),
      Power("Hunt's End",["martial","weapon"],"daily","standard",
          [Target("one bloodied creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Special("This attack can score a critical hit on a roll of 19-20"),
          Miss()],"ranger","attack",1),
      Power("Hunter's Bear Trap",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"]),
          Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Hit("The target is slowed and takes ongoing 5 damage (save ends both)"),
          Miss("Half damage, no ongoing damage, and the target is slowed until the end of your next turn")],"ranger","attack",1),
      Power("Jaws of the Wolf",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Other("Primary attack:"),
          Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"]),
          Other("Secondary attack:"),
          Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","offhand"]),
          Miss("Half damage per attack")],"ranger","attack",1),
      Power("Off-Hand Parry",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"]),
          Effect(["Gain a +",MOD("wis")," power bonus to AC until the end of your next turn or until you attack with your off-hand weapon"])],"ranger","attack",1),
      Power("Partnered Savaging",["beast","martial"],"daily","standard",
          [Target("one creature",("melee beast",1)),Atk([lambda x:x.statret("beastatk")],"AC",damage([2,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")])),
           Miss(),
           Effect("If the target is your quarry, you can shift 3 squares and make a basic melee attack against it.")],"ranger","attack",1),
      Power("Split the Tree",["martial","weapon"],"daily","standard",
          [Target("Two creatures within 3 squares of each other"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Special("Make 2 attack rolls, take the higher result, and apply it to both targets.")],"ranger","attack",1),
      Power("Sudden Strike",["martial","weapon"],"daily","standard",
          [Target("one creature")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Effect("Shift 1 square and make a secondary attack against the target")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"])
          ,Hit("Target is weakened until the end of your next turn")],"ranger","attack",1),
],"rangerutility2":[
      Power("Crucial Advice",["martial"],"encounter","immediate reaction",
          [Trigger("An ally within range that you can see or hear makes a skill check using a skill in which you're trained",("ranged",5)),
          Effect(["Grant the ally the ability to reroll the skill check with a ",plus(WISMOD,1)," bonus"])],"ranger","utility2"),
      Power("Ferret an Opening",["martial"],"encounter","minor",
          [Requirement("You must be flanking an enemy"),
          Effect("You gain combat advantage against the flanked enemy until the end of your next turn.")],"ranger","utility2"),
      Power("Fox Shift",["martial"],"encounter","free",
          [Trigger("You hit a target with a melee attack and the target is marked by an ally"),
          Effect("You can shift 1 square, and you gain a +2 power bonus to all defenses against your target's attacks until the end of your next turn.")],"ranger","utility2"),
      Power("Hearten the Beast",["beast","martial"],"at-will","standard",
          [Target("your beast companion in burst",("close burst",20)),
           Effect(["The target makes a saving throw",orfeat(".",[" with a +",MOD("wis")," bonus."],["beast",["bear","boar"],True])])],"ranger","utility2"),
      Power("Hunter's Privilege",["martial","stance"],"daily","immediate reaction",
          [Trigger("An enemy misses you with a melee attack",("melee",1)),
          Effect(["Slide the enemy into a square adjacent to you and gain combat advantage against it until the end of your next turn"])],"ranger","utility2"),
      Power("Pack Alertness",["beast","martial"],"at-will","minor",
          [Target("you and your beast companion in burst",("close burst",10)),
           Effect(["The targets each make a Perception check ",orfeat("",[" with a +2 bonus."],["beast",["cat","raptor","wolf"],True])," and share the better result.  Also, if your beast companion becomes aware of a target, you do as well, and vice-versa."])],"ranger","utility2"),
      Power("Scattering Volley",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack per target"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"]),
           Special("If you target one creature, gain a +2 bonus to the damage roll.  If you target two creatures, take a -2 penalty to both attack rolls."),
           Hit("Slide the target 1 square.")],"ranger","utility2"),
      Power("Thwarting Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(1, [DEXMOD]),["ranged"]),
           Hit("The target is slowed and takes a -2 penalty on attack rolls until the end of your next turn.")],"ranger","utility2"),
      Power("Unbalancing Parry",["martial"],"encounter","immediate reaction",
          [Trigger("An enemy misses you with a melee attack",("melee",1)),
          Effect(["Slide the enemy 3 squares and gain combat advantage against it until the end of your next turn"])],"ranger","utility2"),
      Power("Yield Ground",["martial"],"encounter","immediate reaction",
          [Trigger("An enemy damages you with a melee attack"),
          Effect(["You can shift ",MOD("wis")," squares.  Gain a +2 power bonus to all defenses until the end of your next turn"])],"ranger","utility2")
],"rangerencounter3":[
      Power("Beast Latch",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1)),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,WISMOD,["beast",["bear","cat","raptor","spider","snake"],True])]),["melee"]),
           Effect("If the target moves during its next turn, your beast companion can shift to any square adjacent to the targets new location as a free action.  If the target is your quarry, it is slowed until the end of your next turn.")],"ranger","attack",3),
      Power("Cut and Run",["martial","weapon"],"encounter","standard",
          [Special(["After the first or the second attack you can shift ",lambda x: x.mod("wis")+1," squares"])
          ,Target("One or two creatures")
          ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])],"ranger","attack",3),
      Power("Disruptive Strike",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("You or an ally is attacked by a creature"),
           Target("The attacking creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"]),
           Hit(["The target takes a -",lambda x: x.mod("wis")+3," penalty to its attack roll for the triggering attack"])],"ranger","attack",3),
      Power("Leonine Surge",["martial","weapon"],"encounter","standard",
          [Target("one creature, two attacks"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"],["primary","offhand"]),
           Hit(["If both attacks hit, the target is knocked prone and takes ",MOD("wis")," extra damage.  If both attacks miss, you grant combat advantage to all enemies until the start of your next turn."])],"ranger","attack",3),
      Power("Paired Predators",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1)),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,WISMOD,["beast",["boar","lizard","wolf"],True])]),["melee"]),
           Effect("Your beast companion can make a melee basic attack against a target within its reach as a free action.")],"ranger","attack",3),
      Power("Ruffling Sting",["martial","weapon"],"encounter","minor",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"]),
           Hit("Until the end of your turn, the target grants combat advantage to you for your next melee attack against it.")],"ranger","attack",3),
      Power("Shadow Wasp Strike",["martial","weapon"],"encounter","immediate reaction",
          [Target("One enemy that is your quarry"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
           Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["ranged"])],"ranger","attack",3),
      Power("Thundertusk Boar Strike",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit(["With each hit, push the target 1 square.  If both attacks hit the same target, push the target ",lambda x: x.mod("wis")+1, "squares."])],"ranger","attack",3)
],"rangerdaily5":[
      Power("Adaptive Assault",["martial","weapon"],"daily","standard",
          [Target("one or two creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit("If both attacks hit the same target, the target either takes onging 5 damage or is dazed (save ends either).")
          ,Miss("Half damage per attack.")],"ranger","attack",5),
      Power("Bloodied Frenzy",["beast","martial"],"daily","immediate reaction",
          [Trigger("An enemy bloodies either you or your beast companion"),
           Effect("Before the attack your beast companion can shift 5 squares"),
           Target("the triggering enemy",("melee beast",1)),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([2,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")])),
           Hit("The target is immobilized (save ends)"),
           Miss()],"ranger","attack",5),
      Power("Close-Combat Shot",["martial","weapon"],"daily","immediate reaction",
          [Trigger("An enemy enters a square adjacent to you"),
           Target("the triggering enemy"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Miss(),
          Special("Using this power doesn't provoke an opportunity attack from the target")],"ranger","attack",5),
      Power("Excruciating Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Hit("The target is weakened (save ends)"),
          Miss("Half damage, and the target is not weakened")],"ranger","attack",5),
      Power("Frenzied Skirmish",["martial","weapon"],"daily","standard",
          [Target("One or two creatures")
           ,Other("Primary weapon:"),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
          Other("Offhand weapon:"),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"]),
          Special("Before or after these attacks, you can move your speed without provoking opportunity attacks."),
          Hit("If either attack hits, the target is dazed until the end of your next turn.  If both attacks hit the same target, it is dazed and slowed until the end of your next turn.")],"ranger","attack",5),
      Power("Lacerating Maul",["beast","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,WISMOD,["beast",["bear","boar","lizard"],True])]),["melee"]),
           Miss(),
           Effect("If the target is your quarry and your beast companion is adjacent to it, the target takes ongoing 5 damage (save ends).  Until the ongoing damage ends, the target grants combat advantage to the beast.")],"ranger","attack",5),
      Power("Spitting-Cobra Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you can make a ranged basic attack as an immediate reaction against any enemy within 5 squares that moves closer to you.")],"ranger","attack",5),
      Power("Splintering Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Hit("The target takes a -2 penalty to attack rolls until the end of the encounter."),
          Miss("Half damage, and the target takes a -1 penalty to attack rolls until the end of the encounter")],"ranger","attack",5),
      Power("Tag the Prey",["martial","weapon"],"daily","standard",
          [Special("This attack ignores the target's cover but not superior cover."),
           Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Hit("You designate the target as your quarry until the end of your next turn.  If the target was already your quarry, the attack deals an extra 1[W] damage."),
          Miss("Half damage, and you do not designate the target as your quarry.")],"ranger","attack",5),
      Power("Two-Wolf Pounce",["martial","weapon"],"daily","standard",
          [Special("You can shift 2 squares before making this attack")
          ,Target("one creature")
          ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Effect("After attacking the primary target, you can shift 2 squares and make an additional attack.")
          ,Target("one creature other than the primary target"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","offhand"])],"ranger","attack",5)
],"rangerutility6":[
      Power("Battle Runner",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you can run a number of squares equal to your speed +4, instead of your speed +2, and you do not grant combat advantage from running.")],"ranger","utility",6),
      Power("Boundless Energy",["martial"],"encounter","free",
          [Trigger("You roll and Endurance check and dislike the result"),
          Effect("Reroll the Endurance check.  You decide whether to make the reroll before the DM announces the result.")],"ranger","utility",6),
      Power("Defensive Posture",["beast","martial"],"encounter","immediate interrupt",
          [Trigger("Your beast companion is hit by an attack within 20 squares of you",("close burst",20)),
           Target("your beast companion in burst"),
           Effect(["The target gains a +4 power bonus to the defense targeted by the attack",orfeat(".",".  This bonus lasts until the start of your next turn.",["beast",["bear","spider","snake"],True])])],"ranger","utility",6),
      Power("Evade Ambush",["martial"],"encounter","no",
          [Effect(["At the start of a surprise round in which any allies are surprised, allow ",MOD("wis")," allies within sight range to avoid being surprised."])],"ranger","utility",6),
      Power("Invigorate the Beast",["beast","healing","martial"],"daily","minor",
          [Target("your beast companion",("melee",1))
           ,Effect(["The target gains hit points as if it had spent a healing surge",orfeat(".",[" plus ",MOD("wis")," additional hit points."],["beast",["boar","lizard"],True])])],"ranger","utility",6),
      Power("Serpentine Dodge",["martial"],"encounter","minor",
          [Requirement("You must be within 2 squares of at least two enemies")
           ,Effect(["You can shift ",lambda x:x.mod("wis")+1," squares.  Until the end of your next turn, you gain a power bonus to all defenses equal to the number of enemies you were adjacent to at any time during this shift."])],"ranger","utility",6),
      Power("Unbalancing Parry",["martial"],"encounter","minor",
          [Target("one ally",("ranged",10)),Effect(["Any ally within 10 squares of you who attempts an untrained check with a skill in which you are trained gains a +",MOD("wis")," power bonus to checks with a single skill of your choice.  The ally must be able to see or hear you to gain this bonus."])],"ranger","utility",6),
      Power("Weave through the Fray",["martial"],"encounter","immediate interrupt",
          [Trigger("An enemy moves adjacent to you"),
          Effect(["You can shift ",MOD("wis")," squares."])],"ranger","utility",6),
],"rangerencounter7":[
      Power("Beast Rush",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature"),
           Effect(["Before the primary attack, your beast companion can shift ",MOD("wis")," squares."]),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["boar","cat","raptor","wolf"],True])])),
           Effect("You make a secondary attack against the target."),
           Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])],"ranger","attack",7),
      Power("Biting Volley",["martial","weapon"],"encounter","standard",
          [Target("One or two creatures, two attacks")
          ,Special("Each attack can score a critical hit onm a roll of 18-20")
          ,Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["ranged"])],"ranger","attack",7),
      Power("Claws of the Griffon",["martial","weapon"],"encounter","standard",
          [Special(["After the first or the second attack you can shift ",lambda x: x.mod("wis")+1," squares"])
          ,Target("One or two creatures")
          ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])],"ranger","attack",7),
      Power("Harried Quarry",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1))
          ,Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,WISMOD,["beast",["bear","lizard","spider","snake"],True])]),["melee"])
          ,Effect("If the target is you quarry, it grants combat advantage to you and your allies until the end of your next turn.")],"ranger","attack",7),
      Power("Hawk's Talon",["martial","weapon"],"encounter","standard",
          [Special(["Ignore any penalties from cover or consealment.  Gain a +",MOD("wis")," power bonus to this attack"]),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"])],"ranger","attack",7),
      Power("Hunter's Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature")
          ,Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["ranged"])
          ,Special("If the target is your quarry, the attack hits if the attack roll hits the target's AC or Reflex")],"ranger","attack",7),
      Power("Jackal Ploy",["martial","weapon"],"encounter","standard",
          [Target("one creature")
          ,Special("Make two attack rolls - one with each weapon - and use the higher result.")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit(["The target grants combat advantage to an ally of your choice until the start of your next turn.  You can shift ",MOD("wis")," squares."])],"ranger","attack",7),
      Power("Spikes of the Manticore",["martial","weapon"],"encounter","immediate reaction",
          [Target("One or two creatures")
           ,Other("Primary Attack:")
           ,Atk([DEXMOD],"AC", damage(2, [STRMOD]),["ranged"])
           ,Other("Secondary Attack:")
           ,Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["ranged"])],"ranger","attack",7),
      Power("Sweeping Whirlwind",["martial","weapon"],"encounter","standard",
          [Target("Each creature in burst",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Hit(["You push the target ",MOD("wis")," squares, and it is knocked prone."])],"ranger","attack",7),
      Power("Twofold Flinch",["martial","weapon"],"encounter","minor",
          [Target("one creature, primary and off-hand attack")
          ,Atk([STRMOD],"reflex", None,["melee","primary"])
          ,Atk([STRMOD],"reflex", None,["melee","offhand"])
          ,Hit(["The target takes a -2 penalty to attack rolls against you until the start of your next turn.  If both attacks hit, the penalty is -4."])],"ranger","attack",7),
],"rangerdaily9":[
      Power("Attacks on the Run",["martial","weapon"],"daily","standard",
          [Target("One or two creatures"),
           Special("You can move your speed.  At any point during your move, you can make two attacks"),
          Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Miss("Half damage per attack")],"ranger","attack",9),
      Power("Caging Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"])
          ,Hit("Ongoing 5 damage (save ends).  If the target is your quarry it instead takes ongoing 10 damage (save ends).")
          ,Miss("Half damage, and no ongoing damage.")],"ranger","attack",9),
      Power("Close Quarters Shot",["martial","weapon"],"daily","standard",
          [Target("one creature",("ranged",1)),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["ranged"]),
          Miss(),
          Special("This attack does not provoke opportunity attacks")],"ranger","attack",9),
      Power("Jarring Salvo",["martial","weapon"],"daily","standard",
          [Target("one creature, three attacks"),
           Atk([DEXMOD],"fortitude", damage(1, [DEXMOD]),["ranged"]),
           Hit("Push the target 1 square."),
          Miss("Half damage, and no push.")],"ranger","attack",9),
      Power("Beast Rush",["beast","fear","martial"],"daily","standard",
          [Target("each enemy in burst",("close burst (beast)",2)),
           Atk([lambda x:x.statret("beastatk")],"will",damage([1,8],[lambda x:x.mod("beastwis"),orfeat(0,WISMOD,["beast",["bear","cat","raptor","wolf"],True])])),
           Hit("The target is immobilized (save ends)."),
           Miss("Half damage, and the target is not immobilized")],"ranger","attack",9),
      Power("Passing Ambush",["martial","weapon"],"daily","standard",
          [Target("one creature that is surprised or unaware of your presence"),
          Atk([STRMOD],"AC", damage(3, [STRMOD,WISMOD]),["melee"]),
          Atk([DEXMOD],"AC", damage(3, [DEXMOD,WISMOD]),["ranged"]),
          Hit("You can shift 2 squares.  If you were hidden from the target when you made the attack, you remain hidden if you have any cover or concealment."),
          Miss("Half damage, and you can shift 1 square.  If you were hidden from the target when you made the attack, you can make a stealth check with a +2 bonus to remain hidden if you have any cover or concealment.")],"ranger","attack",9),
      Power("Ranger's Recovery",["martial","weapon"],"daily","standard",
          [Target("one creature that is surprised or unaware of your presence"),
          Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Effect("Before or after the attack, you can shift half your speed.  If you have used all your encounter attack powers, you regain the use of a ranger encounter attack power you have used during this encounter.  Or if you hit your qurry with this attack, you can instead choose to deal 2[W] extra damage.")],"ranger","attack",9),
      Power("Spray of Arrows",["martial","weapon"],"daily","standard",
          [Target("each enemy in blast you can see",("close blast",3)),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Miss()],"ranger","attack",9),
      Power("Swirling Leaves of Steel",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"])
          ,Miss()],"ranger","attack",9)
],"rangerutility10":[
      Power("Companion Emplacement",["beast","martial"],"encounter","move",
          [Target("you and your beast companion in burst",("close burst",20)),
           Effect(["You can move your speed",orfeat("","+1",["beast",["raptor","wolf"],True]),", and your beast companion can shift its speed",orfeat(".","+1.",["beast",["raptor","wolf"],True])])],"ranger","utility",10),
      Power("Expeditious Stride",["martial"],"encounter","minor",
          [Effect("Until the end of your next turn, your speed increases by 4, and when you shift, you can shift 1 additional square")],"ranger","utility",10),
      Power("Hunting Party",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, each time you miss your quarry with an attack, you can choose an ally within 5 squares of your quarry.  If that ally hits your quarry before the start of your next turn, the ally's attack deals extra damage equal to your Hunter's Quarry damage.")],"ranger","utility",10),
      Power("Open the Range",["martial"],"daily","immediate interrupt",
          [Trigger("An enemy moves adjacent to you"),
          Effect(["You can shift 1 square and then move ",MOD("wis")," squares.  You can't end your move next to the triggering enemy."])],"ranger","utility",10),
      Power("Hunting Party",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, you can shift ",MOD("wis")," squares as a move action whenever you hit an enemy with a ranged attack that has the bonus from the Prime Shot class feature."])],"ranger","utility",10),
      Power("Quick Recovery",["beast","martial"],"at-will","immediate reaction",
          [Trigger("your beast companion recieves an effect that a save can end within 20 squares of you"),
           Target("your beast companion in burst",("close burst",20)),
          Effect(["The target makes a saving throw against the effect with a +",MOD("wis")," bonus."])],"ranger","utility",10),
      Power("Shed the Mark",["beast","martial"],"at-will","move",
          [Requirement("You must be marked"),
           Effect("The marked condition ends, and you can shift 1 square.")],"ranger","utility",10),
      Power("Undaunted Stride",["martial","stance"],"encounter","minor",
          [Effect("Your movement is not hindered by difficult terrain")],"ranger","utility",10),
],"rangerencounter13":[
      Power("Armor Splinter",["martial","weapon"],"encounter","standard",
          [Target("one creature")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit(["If one attack hits, the target takes a -",MOD("wis")," penalty to AC until the end of your next turn.  If both attacks hit, the target takes a -",lambda x:x.mod("wis")+2," penalty to AC until the end of your next turn"])],"ranger","attack",13),
      Power("Bloodlust Strike",["martial","weapon"],"encounter","standard",
          [Target("one bloodied creature")
           ,Atk([STRMOD],"AC", damage(3, [STRMOD,WISMOD]),["melee"])
          ,Atk([DEXMOD],"AC", damage(3, [DEXMOD,WISMOD]),["ranged"])],"ranger","attack",13),
      Power("Hammering Volley",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack per target")
           ,Special("If you target one creature, you gain a +2 to the damage roll.  If you target two creatures, you take a -2 penalty to both attack rolls.")
           ,Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),["ranged"])
           ,Hit("You knock the target prone.")],"ranger","attack",13),
      Power("Herd the Prey",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([lambda x:x.statret("beastatk")],"fortitude",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["lizard","snake","spider"],True])])),
           Hit("Your beast companion can shift 2 squares toward you and then pull the target 2 squares.  The target grants combat advantage to you until the end of your next turn.")],"ranger","attack",13),
      Power("Knockdown Pounce",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature desiganted as your quarry",("melee weapon / beast",1))
           ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
           ,Hit(["You push the target ",orfeat("one square","two squares",["beast",["bear","boar","cat","raptor"],True])," and knock it prone."])],"ranger","attack",13),
      Power("Knockdown Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature of your size or smaller"),Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["ranged"]),
           Hit("The target is knocked prone")],"ranger","attack",13),
      Power("Nimble Defense",["martial","weapon"],"encounter","immediate reaction",
          [Target("one creature")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit(["If either attack hits, you gain a +",lambda x:x.mod("wis")+2," power bonus to AC until the end of your next turn"])],"ranger","attack",13),
      Power("Off-Hand Diversion",["martial","weapon"],"encounter","minor",
          [Target("one creature")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit(["The target grants combat advantage to you and your allies until the start of your next turn."])],"ranger","attack",13),
      Power("Pinning Strike",["martial","weapon"],"encounter","standard",
          [Target("One or two creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit("The target is immobilized until the start of your next turn.")],"ranger","attack",13)
],"rangerdaily15":[
      Power("Armor-Piercing Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["ranged"])],"ranger","attack",15),
      Power("Arterial Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["ranged"]),
           Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
           Hit("Ongoing 10 damage (save ends)."),
           Aftereffect("Ongoing 5 damage (save ends).")],"ranger","attack",15),
      Power("Blood Frenzy",["beast","martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Miss(),
           Effect(["Until the end of the encounter, your beast companion gains a +2 power bonus to attack rolls and damage rolls.  In addition, your beast gains ",orfeat(10,20,["beast",["boar","lizard","spider"],True]),"temporary hit points."])],"ranger","attack",15),        
      Power("Blade Cascade",["martial","weapon"],"daily","standard",
          [Target("one or more creatures")
           ,Special("Special: Alternate main and off-hand weapon attacks until you miss or until you make five attacks.  As soon as an attack misses, or you make five attacks, the attack ends."),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"])],"ranger","attack",15),
      Power("Bleeding Wounds",["martial","weapon"],"daily","standard",
          [Target("one, two, or three creatures; 3 attacks"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"]),
          Hit("A target hit once takes ongoing 5 damage (save ends).  A target hit twice takes ongoing 10 damage (save ends).  A target hit three times takes ongoing 15 damage (save ends)."),
          Miss("Half damage per attack and no ongoing damage")],"ranger","attack",15),
      Power("Confounding Arrows",["martial","weapon"],"daily","standard",
          [Target("one, two, or three creatures; 3 attacks"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"]),
          Hit("A target hit once is dazed (save ends).  A target hit twice is stunned (save ends).  A target hit three times is stunned (save ends) and takes +2[W] damage."),
          Miss("The target is dazed (save ends).")],"ranger","attack",15),
      Power("Scent of Fear",["beast","martial"],"encounter","standard",
          [Target("one creature",("melee beast",1)),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([3,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")])),
           Effect("Until the end of the encounter, the target grants combat advantage to your beast companion, and on each of your turns, you can take a minor action to command the beast to make a melee basic attact against the target.")],"ranger","attack",15),
      Power("Steeling Flurry",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see, primary and off-hand attacks",("close burst",1))
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit("If you hit at least twice, you gain a +2 power bonus to Ac until the start of your next turn")
          ,Miss("Half damage per attack")],"ranger","attack",15),
      Power("Stunning Steel",["martial","weapon"],"daily","standard",
          [Target("one or two creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit("If one attack hits, the target is immobilized (save ends).  If both attacks hit, the target is stunned and immobilized (save ends both).")
          ,Miss("Half damage per attack and the target is not stunned or immobilized.")],"ranger","attack",15),
      Power("Tracking Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
           Effect(["Until you hit the target again or until the end of the encounter, you gain a +",MOD("wis")," power bonus to attack rolls against the target."])],"ranger","attack",15),
],"rangerutility16":[
      Power("Curving Shot",["martial"],"daily","free",
          [Trigger("You miss with a ranged attack roll"),
           Effect("You reroll the attack.")],"ranger","utility",16),
      Power("Evade the Blow",["martial"],"daily","immediate interrupt",
          [Trigger("An enemy hits you with a melee attack"),
           Effect("Shift 1 square away from the enemy.")],"ranger","utility",16),
      Power("Longstrider",["martial","stance"],"daily","minor",
          [Effect("Your speed increases by 2")],"ranger","utility",16),
      Power("Momentary Respite",["martial"],"daily","standard action",
          [Effect(["You can shift ",MOD("wis")," squares and make a saving throw.  You are no longer marked by any enemy."])],"ranger","utility",16),
      Power("Pack Stealth",["beast","martial"],"encounter","minor",
          [Requirement("You and your beast companion must have cover or concealment."),
           Target("you and your beast companion in burst",("close burst",orfeat(2,5,["beast",["cat","spider","snake"],True]))),
           Effect("The targets become hidden from any enemy that they have cover or concealment against.")],"ranger","utility",16),
      Power("Shared Healing",["beast","healing","martial"],"encounter","minor",
          [Target("you and your beast companion in burst",("close burst",2)),
           Effect("Each target regains hit points as if spending a healing surge.")],"ranger","utility",16),
      Power("Stalker's Senses",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you take no attack roll penalty because of concealment or total concealment when you attack your quarry.")],"ranger","utility",16),
      Power("Wary Shooter",["martial"],"encounter","minor",
          [Effect("Until the end of your next turn, any ranged attack you make does not provoke opportunity attacks.")],"ranger","utility",16),
],"rangerencounter17":[
      Power("Arrow of Vengeance",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("A creature within range attacks your ally"),
           Special(["Gain a ",plus(WISMOD)," power bonus to this attack roll"]),
           Target("the attacking creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"])],"ranger","attack",17),
      Power("Blade and Fang",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Effect("Your beast companion makes a secondary attack against the target."),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["bear","boar","lizard","snake"],True])]))],"ranger","attack",17),
      Power("Two-Weapon Eviscerate",["martial","weapon"],"encounter","standard",
          [Target("one creature")
          ,Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"],["primary","offhand"])
          ,Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"])
          ,Hit(["Each enemy adjacent to the target takes ",MOD("wis")," damage."])],"ranger","attack",17),
      Power("Cheetah's Rake",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee", "primary"]),
           Hit("You knock the target prone.  The target is immobilized until the end of your next turn.")],"ranger","attack",17),
      Power("Hounding Beast",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit("The target provokes opportunity attacks from you if it shifts or attacks on its next turn")
          ,Effect(["Before ",orfeat("or","and",["beast",["cat","raptor","spider","wolf"],True])," the attack, your beast companion can shift 1 square.  If the beast shifts, the target grants combat advantage to you for other attacks until the end of your next turn."])],"ranger","attack",17),
      Power("Pounding Barrage",["martial","weapon"],"encounter","standard",
          [Target("one creature, three attacks")
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit(["If two of the attacks hit, the target takes 1d6 extra damage.  If three of the attacks hit, the target is also immobilized until the end of your next turn."])],"ranger","attack",17),
      Power("Triple Shot",["martial","weapon"],"encounter","immediate reaction",
          [Target("one, two, or three creatures; 3 attacks"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])],"ranger","attack",17),
      Power("Two-Weapon Eviscerate",["martial","weapon"],"encounter","standard",
          [Target("one creature, primary and off-hand attacks")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit("If both attacks hit, the target takes an extra 1d10 damage and is weakened until the end of your next turn.")],"ranger","attack",17),
      Power("Untamed Outburst",["martial","weapon"],"encounter","standard",
          [Target("one creature, primary and off-hand attacks")
          ,Atk([STRMOD,2],"AC", damage(2, [STRMOD]),["melee","primary"])
          ,Atk([STRMOD,2],"AC", damage(2, [STRMOD]),["melee","offhand"])
          ,Hit("If both attacks hit, the target is dazed until the end of your next turn.")],"ranger","attack",17)
],"rangerdaily19":[
      Power("Claim the Prize",["martial","weapon"],"daily","standard",
          [Target("one bloodied creature designated as your quarry")
          ,Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"])
          ,Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["ranged"])],"ranger","attack",19),
      Power("Cruel Cage of Steel",["martial","weapon"],"daily","standard",
          [Target("one creature, two, or three creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","offhand"])
          ,Other("Tertiary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Hit("A target hit once is dazed until the end of your next turn.  A target hit twice is stunned until the end of your next turn.  A target hit three times is stunned and weakened until the end of your next turn.")
          ,Miss("Half damage per attack and the target is not dazed, stunned, or weakened.")
          ,Effect("After the first attack and after the second attack you can shift 1 square.")],"ranger","attack",19),
      Power("Dead Stop",["martial","weapon"],"daily","immediate interrupt",
          [Trigger("An enemy makes a charge attack against you"),
           Target("The triggering enemy"),
           Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
           Hit("You knock the target prone."),
           Miss("Half damage, and you don't knock the target prone."),
           Special("Using this power doesn't provoke an opportunity attack from the target.")],"ranger","attack",19),
      Power("Driving Offensive",["martial","weapon"],"daily","standard",
          [Target("one creature")
          ,Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee","primary"])
          ,Hit("You push the target 3 squares")
          ,Miss("Half damage, and you push the target 1 square.")
          ,Effect("Make a ranged secondary attack against the target")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["ranged","offhand"])
          ,Hit("The target is dazed (save ends).")
          ,Miss("Half damage, and the target is not dazed")],"ranger","attack",19),
      Power("Ferocious Roar",["beast","fear","martial"],"daily","standard",
          [Target("each enemy in burst",("close burst (beast)",2)),
           Atk([lambda x:x.statret("beastatk")],"will",damage([2,8],[lambda x:x.mod("beastwis"),orfeat(0,WISMOD,["beast",["bear","cat","snake","wolf"],True])])),
           Hit("The target is pushed 1 square and dazed (save ends)."),
           Miss("Half damage, and the target is pushed 1 square, and the target is not dazed.")],"ranger","attack",19),
      Power("Gnawing Assault",["beast","martial"],"daily","standard",
          [Target("one creature",("melee beast",1)),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([2,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")])),
           Hit("The target is immobilized (save ends)."),
           Miss("Half damage, and the target is immobilized until the end of its next turn."),
           Effect("If the target was already immobilized and your beast companion began the turn adjacent to it, the target takes ongoing 10 damage (save ends).")],"ranger","attack",19),
      Power("Great Ram Arrow",["martial","weapon"],"daily","standard",
          [Target("one creature",("ranged",1)),
           Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
           Hit(["Push the target ",MOD("str")," squares, and it is knocked prone"]),
           Miss("Half damage, and you push the target 1 square, and it is knocked prone.")],"ranger","attack",19),
      Power("Threefold Assault",["martial","weapon"],"daily","standard",
          [Target("one, two, or three creatures, three attacks (at least one attack with each weapon)")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["ranged","primary"],["heavy thrown","light thrown"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["ranged","offhand"],["heavy thrown","light thrown"])
          ,Hit(["If you hit a target twice, you push it ",MOD("wis")," squares.  If you hit a target three times, it is also dazed until the end of your turn."])
          ,Special("If you use this power as a ranged attack, it doesn't provoke opportunity attacks.")],"ranger","attack",19),
      Power("Two-in-One-Shot",["martial","weapon"],"daily","standard",
          [Special("If first attack hits, gain a +5 bonus on the attack roll for the second attack."),
           Target("one creature, two attacks"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Miss("Half damage per attack")],"ranger","attack",19),
      Power("Wounding Whirlwind",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see, primary and offhand attack",("close burst",1)),
           Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"]),
           Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"]),
           Hit("A target hit with one weapon takes ongoing 5 damage (save ends).  A target hit with both weapons takes ongoing damage 10 (save ends)."),
           Miss("Half damage per attack and no ongoing damage.")],"ranger","attack",19)
],"rangerutility22":[
      Power("Adamant Recovery",["healing","martial"],"daily","immediate interrupt",
          [Trigger("You are reduced to 0 hit points or fewer"),
           Effect("You spend a healing surge and can and can shift 1 square")],"ranger","utility",22),
      Power("Forest Ghost",["illusion","martial"],"daily","standard",
          [Effect("When it is not your turn, enemies treat you as invisible if you have cover or concealment from them.  An enemy still knows the square you occupy if it saw you in that square at any point during a round.  The effect lasts until the end of the encounter or for 5 minutes.")],"ranger","utility",22),
      Power("Hit the Dirt",["martial"],"encounter","immediate interrupt",
          [Trigger("You are hit by an area attack or a close attack"),
           Effect(["Shift ",MOD("wis")," squares"])],"ranger","utility",22),
      Power("Hunt the Herd",["martial"],"daily","minor",
          [Target("Each enemy in burst you can see.",("close burst",1)),
           Effect("Until the end of your next turn, you designate each target as your quarry and can deal your Hunter's Quarry damage against each one you hit.")],"ranger","utility",22),
      Power("Master of the Hunt",["martial","stance"],"encounter","minor",
          [Effect(["You gain a +",MOD("wis")," bonus to damage rolls"])],"ranger","utility",22),
      Power("Preternatural Senses",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you gain blindsight 5 and a +5 power bonus to perception checks.")],"ranger","utility",22),
      Power("Safe Stride",["martial"],"encounter","move",
          [Effect(["You can shift ",MOD("wis")," squares."])],"ranger","utility",22),
      Power("Selfless Sacrifice",["beast","martial"],"daily","immediate interrupt",
          [Trigger("You or your adjacent beast companion is damaged by an attack"),
           Target("You and your beast companion in burst.",("close burst",1)),
           Effect(["The target damaged by the triggering attack takes only half the damage, and the other target takes the remainder (If both targets were damaged by the triggering attack, one target can take half of the other's damage.)  The target taking the remainder of the other's damage gains ",lambda x:x.statret("level")," temporary hit points."])],"ranger","utility",22),
      Power("Wild Dash",["beast","martial"],"daily","immediate interrupt",
          [Trigger("Your beast companion is hit by an attack or an enemy enters a square within 5 squares of you."),
           Effect("Your beast companion can shift its speed.")],"ranger","utility",22),
],"rangerencounter23":[
      Power("Blade Ward",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("A creature makes a melee attack against you"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Effect(["Until the end of your next turn, the target's attack rolls against you take a -",MOD("wis")," penalty"])],"ranger","attack",23),
      Power("Chase Down",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit(["You slide the target 2 squares.  Your beast companion can shift ",orfeat(4,"its speed",["beast",["bear","cat","spider","wolf"],True])," and must end adjacent to the target."])],"ranger","attack",23),
      Power("Cloak of Thorns",["martial","weapon"],"encounter","immediate interrupt",
          [Target("One or two creatures"),
           Other("Primary Attack:"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","primary"]),
           Other("Secondary Attack:"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","offhand"]),
           Hit("If one attack hits, the target takes a -2 penalty to attack rolls.  If both attacks hit the same target, this penalty worsens to -4."),
           Effect("If any adjacent creature makes an attack against you and misses before the start of your next turn, make a melee basic attack against it with both your main weapon and your off-hand weapon as an immediate action.")],"ranger","attack",23),
      Power("Dazing Volley",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack per target"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
           Special("If you target one creature, gain a +2 bonus to the damage roll.  If you target two creatures, you take a -2 penalty to both attack rolls"),
           Hit("The target is dazed until the end of your next turn.")],"ranger","attack",23),
      Power("Hammer Shot",["martial","weapon"],"encounter","immediate reaction",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(4, [DEXMOD]),["ranged"]),
           Hit(["Push the target ",MOD("wis")," squares"])],"ranger","attack",23),
      Power("Hobbling shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["ranged"]),
           Hit("The target is slowed until the start of your next turn.  If the target is your quarry, it is instead immobilized until the start of your next turn.")],"ranger","attack",23),
      Power("Manticore's Volley",["martial","weapon"],"encounter","standard",
          [Target("one creature, three attacks"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Hit("If two attacks hit, deal an extra 1[W] damage.  If three attacks hit, deal an extra 2[W] damage.")],"ranger","attack",23),
      Power("Nonchalant Collapse",["martial","weapon"],"encounter","minor",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee","offhand"]),
           Hit("You knock the target prone")],"ranger","attack",23),
      Power("Overwhelming Fury",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target grants combat to your beast companion until the end of your next turn"),
           Effect("Your beast makes a secondary attack against the target"),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([3,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["boar","lizard","snake"],True])]))],"ranger","attack",23),
],"rangerdaily25":[
      Power("Ambusher's Reaping",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(5, [STRMOD,WISMOD]),["melee"]),
           Atk([DEXMOD],"AC", damage(5, [DEXMOD,WISMOD]),["melee"]),
           Hit("You can shift your speed.  If you are hidden from the target when you make the attack, you remain hidden if you have any cover or concealment."),
          Miss("Half damage, and you can shift 1 square.  You can make a Stealth check with a +2 bonus to remain hidden if you have any cover or concealment.")],"ranger","attack",25),
      Power("Bloodstorm",["martial","weapon"],"daily","standard",
          [Target("One or two creatures")
           ,Other("Primary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Other("Secondary Attack:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])
          ,Miss()
          ,Effect(["After making these attacks, you can shift ",MOD("wis")," squares."])],"ranger","attack",25),
      Power("Primal Rampage",["beast","martial","weapon"],"daily","standard",
          [Requirement("You and your beast companion must charge and use this power in place of a melee basic attack."),
           Target("one creature"),
           Other("Primary Attack (Beast):"),
           Atk([lambda x:x.statret("beastatk")],"AC",damage([2,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["boar","cat","raptor","lizard","spider"],True])])),
           Hit("The target is knocked prone"),
           Effect("Your beast companion can shift 1 square, and you make a secondary attack against the target."),
           Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("The target is dazed (save ends)"),
          Miss()],"ranger","attack",25),
      Power("Pursuit of the Wild Hunt",["beast","martial","weapon"],"daily","standard",
          [Target("one creature",("melee weapon / beast",1)),
           Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Miss(),
           Effect("Until the end of the encounter, before you take any actions on each of your turns, you can take a free action to command your beast companion to shift its speed to a space closer to the target.  In addition, the target provokes an opportunity attack from your beast companion whenever the target shifts or makes an attack that doesn't include the beast as a target.")],"ranger","attack",25),
      Power("Ranger's Resurgence",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["ranged"]),
           Effect("Before or after the attack, you can shift your speed.  If you have expended all of your encounter attack powers, you regain the use of a ranger encounter attack power you have used during this encounter.  Or if you hit your quarry with this attack, you can choose to deal 4[W] extra damage.")],"ranger","attack",25),
      Power("Tiger's Reflex",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you can make a basic attack against an enemy you choose as an immediate interrupt if it attacks you.")],"ranger","attack",25),
      Power("True-Eye Shot",["martial","weapon"],"daily","standard",
          [Target("one creature",("ranged","sight")),
           Atk([DEXMOD,-2],"AC", damage(5, [DEXMOD]),["ranged"])],"ranger","attack",25),
      Power("Unstoppable Arrows",["martial","weapon"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"]),
          Miss()],"ranger","attack",25)
],"rangerencounter27":[
      Power("Beastly Vise",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1))
           ,Atk([STRMOD],"AC", damage(3, [STRMOD,orfeat(0,WISMOD,["beast",["boar","cat","raptor","spider","wolf"],True])]),["melee"])
           ,Hit("If you and your beast companion are both flanking the target, the target is immobilized until the start of your next turn.")],"ranger","attack",27),
      Power("Catch and Drop",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature",("melee weapon / beast",1))
           ,Other("Primary Attack (Beast):")
           ,Atk([lambda x:x.statret("beastatk")],"reflex",damage([1,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr")]))
           ,Hit(["The target is knocked prone",orfeat("."," and the beast slides the target 1 square.",["beast",["bear","lizard","snake"],True])])
           ,Effect("You make a secondary attack against the target")
           ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])],"ranger","attack",27),
      Power("Death Rend",["martial","weapon"],"encounter","standard",
          [Special(["After the first or the second attack you can shift ",lambda x: x.mod("wis")+1," squares"])
          ,Target("One or two creatures, primary and off-hand attacks")
          ,Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],["primary","offhand"])
          ,Hit("If both attacks hit, the target takes an extra 1d10 damage and is stunned until the end of your next turn.")],"ranger","attack",27),
      Power("Hail of Arrows",["martial","weapon"],"encounter","standard",
          [Target("each enemy in range"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"])],"ranger","attack",27),
      Power("Lightning Shot",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("one creature you can see has just taken damage"),
           Target("the creature that took damage"),Atk([DEXMOD],"AC", damage(2, [STRMOD]),["ranged"]),
          Special("Deal an additional 1[W] damage if the target was bloodied")],"ranger","attack",27),
      Power("Unstable Gash",["beast","martial","weapon"],"encounter","standard",
          [Target("one creature")
           ,Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"])
           ,Hit("If the target attacks or moves more than 1 square before the start of your next turn, it takes 4[W] extra damage.")],"ranger","attack",27),
      Power("Wandering Tornado",["martial","weapon"],"encounter","standard",
          [Target("Each creature in burst",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","primary"])
          ,Effect(["You can shift ",lambda x:x.mod("wis")+1," squares and then make another close burst 1 attack (as above)"])],"ranger","attack",27)
],"rangerdaily29":[
      Power("Follow-up Blow",["martial","stance","weapon"],"daily","minor",
          [Requirement("You must be wielding two melee weapons"),
          Effect("You can use your off-hand weapon to make a melee basic attack with a -2 penalty against each enemy you hit using a melee attack power other than a melee basic attack.")],"ranger","attack",29),
      Power("Five-Missile Dance",["martial","weapon"],"daily","standard",
          [Target("up to five creatures"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Hit("If you hit a target at least twice, you push it 1 square.  If you hit a target at least four times, you also knock it prone.  If you hit a target five times, it is also immobilized (save ends)."),
          Miss("Half damage per attack"),
          Effect("You can shift 1 square after each attack.")],"ranger","attack",29),
      Power("Huntsmaster's Bloodbath",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"fortitude", damage(4, [STRMOD]),["melee"]),
           Atk([DEXMOD],"fortitude", damage(4, [DEXMOD]),["ranged"]),
          Hit("Ongoing 20 damage (save ends)."),
          Miss("Half damage, and ongoing 10 damage (save ends).")],"ranger","attack",29),
      Power("Huntsmaster's Mauling",["beast","martial","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect("Your beast companion makes a secondary attack against the target.  If the primary attack bloodied the target, the beast gains combat advantage for the second attack."),
          Atk([lambda x:x.statret("beastatk")],"AC",damage([5,lambda x:x.statret("beastdiesize")],[lambda x:x.mod("beaststr"),orfeat(0,WISMOD,["beast",["bear","snake","wolf"],True])])),
          Miss()],"ranger","attack",29),
      Power("Suffering's End",["martial","weapon"],"daily","standard",
          [Target("one bloodied creature"),
           Effect(["Before the attack, you can shift ",MOD("wis")," squares."]),
           Atk([STRMOD],"fortitude", damage(8, [STRMOD]),["melee"]),
          Miss("Deal 5[W] instead of 8[W] damage")],"ranger","attack",29),
      Power("Three-in-One Shot",["martial","weapon"],"daily","standard",
          [Special("If first attack hits, gain a +5 bonus on the attack roll for the second and third attack."),
           Target("one creature, three attacks"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"]),
          Miss("Half damage per attack")],"ranger","attack",29),
      Power("Twin-Strike Tornado",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",2)),
           Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"],["primary","offhand"]),
          Miss()],"ranger","attack",29),
      Power("Weave a Web of Steel",["martial","weapon"],"daily","immediate interrupt",
          [Trigger("An enemy hits you with a melee attack")
          ,Target("the triggering enemy"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee","primary"])
          ,Other("Offhand weapon:")
          ,Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee","offhand"])
          ,Hit("If both attacks hit, the target's attack misses.")
          ,Miss("Half damage with your main weapon, no damage with your off-hand weapon.")],"ranger","attack",29),
]}
    addPowers(rangerList)

def rogue():
    rogueList={"rogueat-will1":[
      Power("Deft Strike",["martial","weapon"],"at-will","standard",
          [Special("You can move 2 squares before the attack")
          ,Target("one creature"),Atk([DEXMOD],"AC", damage(raising(1,20), [DEXMOD]),[],["crossbow","light blade","sling"])],"rogue","at-will",1),
      Power("Disheartening Strike",["martial","rattling","weapon"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(raising(1,20), [DEXMOD]),[],["crossbow","light blade","sling"])],"rogue","at-will",1),
      Power("Piercing Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(raising(1,20), [DEXMOD]),["melee"],["light blade"])],"rogue","at-will",1),
      Power("Riposte Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(raising(1,20), [DEXMOD]),["melee"],["light blade"])
          ,Hit("If the target attacks you before the start of your next turn, you make your riposte against the target as an immediate inturrupt:")
          ,Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"],["light blade"])],"rogue","at-will",1),
      Power("Sly Flourish",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(raising(1,20), [DEXMOD,CHAMOD]),[]
          ,["crossbow","light blade","sling"])],"rogue","at-will",1)
],"rogueencounter1":[
      Power("Dazing Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target is dazed until the end of your next turn")],"rogue","attack",1),
      Power("Fox's Gambit",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("You negate any marks the target has applied.  The target cannot mark any targets until the end of your next turn."),
          Effect(["You can shift ",orfeat(1,DEXMOD,"artful dodger")," square(s)"])],"rogue","attack",1),
      Power("Guarded Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit("If the target makes a melee attack against you before the start of your next turn, you can make a second attack against it as an immediate interrupt."),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"],["light blade"]),
          Hit("The target takes a -2 penalty to the triggering attack roll.")],"rogue","attack",1),
      Power("Impact Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit("You push the target 1 square")],"rogue","attack",1),
      Power("King's Castle",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),[],["light blade","crossbow","sling"]),
          Effect("Switch places with a willing adjacent ally")],"rogue","attack",1),
      Power("Positioning Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(1, [DEXMOD]),["melee"],["light blade"])
          ,Hit(["Slide the target ",orfeat(1,lambda x:x.mod("cha"),"artful dodger")," square(s)"])],"rogue","attack",1),
      Power("Sly Lunge",["martial","weapon"],"encounter","standard",
          [Target("one creature granting combat advantage to you"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You gain combat advantage against the target until the end of your next turn.  If you don't apply your sneak attack damage to this attack, it deals 1d6",orfeat("",plus(STRMOD),"brutal scoundrel")," extra damage."])],"rogue","attack",1),
      Power("Termination Threat",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD,CHAMOD]),["melee"],["light blade"]),
          Other(["",orfeat("","Hit: If the target is already taking the attack penalty from one of your rattling attacks, the target is also immobilized until the end of your next turn.","ruthless ruffian")])],"rogue","attack",1),
      Power("Torturous Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD,orfeat(0,STRMOD,"brutal scoundrel")]),["melee"]
          ,["light blade"])],"rogue","attack",1),
      Power("Unbalancing Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit("The target is slowed until the end of your next turn.")],"rogue","attack",1),
],"roguedaily1":[
      Power("Blinding Barrage",["martial","weapon"],"daily","standard",
          [Target("each enemy in blast you can see",("close blast",3)),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"],["crossbow","sling", "light thrown"])
          ,Hit("Target is blinded until the end of your next turn")
          ,Miss("Half damage, and the target is not blinded")],"rogue","attack",1),
      Power("Checking Jab",["martial","rattling","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"])
          ,Hit("Target is slowed (save ends).  You have combat advantage against the target while it is slowed by this attack.")
          ,Miss("Half damage, and the target is not slowed")],"rogue","attack",1),
      Power("Confounding Attack",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"])
          ,Effect("As a free action, the target makes a melee basic attack against a creature of your choice adjacent to it.  If you or the target has combat advantage against the creature and you haven't dealt your Sneak Attack damage during this round, you can deal your Sneak Attack damage against the creature.")],"rogue","attack",1),
      Power("Easy Target",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["light blade","crossbow","sling"]),
           Hit("Target is slowed and grants combat advantage to you (save ends both)"),
           Miss("Half damage, and the target grants combat advantage to you until the end of your next turn")],"rogue","attack",1),
      Power("Handspring Assault",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"])
          ,Hit("You can shift 2 squares.")
          ,Special("When charging, you can use this power in place of a melee basic attack.")],"rogue","attack",1),
      Power("Pommel Smash",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"])
          ,Hit("The target takes a -2 penalty to attack rolls (save ends).")
          ,Miss("Half damage, and the target takes a -2 penalty to attack rolls until the end of its next turn.")],"rogue","attack",1),
      Power("Precise Incision",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"])],"rogue","attack",1),
      Power("Press the Advantage",["martial","weapon"],"daily","free",
          [Trigger("You bloody an enemy with a melee attack"),
           Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Miss()],"rogue","attack",1),
      Power("Trick Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"])
          ,Hit("Slide the target 1 square")
          ,Effect("Until the end of the encounter, each time you hit the target you slide it 1 square")],"rogue","attack",1)
],"rogueutility2":[
      Power("Adaptable Flanker",["martial"],"encounter","minor",
          [Requirement("You and an ally must be adjacent to the same enemy"),
           Effect("You gain combat advantage against the enemy until the start of your next turn")],"rogue","utility2"),
      Power("Double Take",["martial"],"encounter","minor",
          [Effect(["Make a perception check with a +",MOD("cha")," bonus."])],"rogue","utility2"),
      Power("Fleeting Ghost",["martial"],"at-will","move",
          [Effect("You can move your speed and make a Stealth check.  You do not take the normal penalty from movement on this check.")],"rogue","utility2"),
      Power("Great Leap",["martial"],"at-will","move",
          [Effect("Make a high jump or a long jump.  Determine the DC of the Athletics check as though you had a running start.  The distance you can jump can exceed your speed.")],"rogue","utility2"),
      Power("Hop Up",["martial"],"encounter","immediate reaction",
          [Trigger("You are knocked prone"),
          Effect("You can stand up and can shift 1 square.")],"rogue","utility2"),
      Power("Marked Escape",["martial"],"encounter","minor",
          [Requirement("You must be marked"),
           Effect("The marked condition ends on you")],"rogue","utility2"),
      Power("Master of Deceit",["martial"],"encounter","free",
          [Trigger("You make a bluff check and dislike the result"),
          Effect("Reroll the bluff check.  You decide whether to make the reroll before the DM announces the result.")],"rogue","utility2"),
      Power("Quick Fingers",["martial"],"encounter","minor",
          [Effect("Make a thievery check as part of this action, even if the check is normally a standard action")],"rogue","utility2"),
      Power("Reap the Rattled",["martial"],"at-will","move",
          [Effect("Select an enemy within line of sight that is taking a penalty from one of your rattling attacks.  You gain combat advantage against that enemy until the end of your next turn.")],"rogue","utility2"),
      Power("Tumble",["martial"],"encounter","move",
          [Effect("You can shift up to your speed")],"rogue","utility2"),
      Power("Sneak in the Attack",["martial"],"encounter","minor",
          [Target("One creature",("melee",1)),Effect("Until the start of your next turn, the next ally who hits the target and has combat advantage against it deals extra damage to it equal to your Sneak Attack damage.")],"rogue","utility2")
],"rogueencounter3":[
      Power("Bait and Switch",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit(["Switch places with the target, and you can then shift ",orfeat(1,lambda x:x.mod("cha"),"artful dodger")," square(s)"])],"rogue","attack",3),
      Power("Blade Vault",["martial","weapon"],"encounter","standard",
          [Effect(["Before the attack, you can shift 2 squares.",orfeat("","  Ignore difficult terrain during this shift.",["training","athletics"])]),
           Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["For every square you shifted as part of this power, the attack deals ",MOD("str")," extra damage."])],"rogue","attack",3),
      Power("Defender's Cohort",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit(["If the target is marked by an ally of yours, the attack deals ",MOD("cha")," extra damage."])],"rogue","attack",3),
      Power("Enforced Threat",["martial","rattling","weapon"],"encounter","standard",
          [Other(["",orfeat("","Special: If the target is taking the attack penalty from one of your rattling attacks, you gain combat advantage against the target for this attack.","ruthless ruffian")]),
           Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"])],"rogue","attack",3),
      Power("Flamboyant Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD,CHAMOD]),["melee"],["light blade"]),
          Other(["",orfeat("","Hit: You can shift 1 square","artful dodger")])],"rogue","attack",3),
      Power("Low Slash",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You slide the target 1 square, and the target is slowed until the end of your next turn.  If you're flanking the target, the attack deals ",lambda x:max(x.mod("str"),x.mod("cha"))," extra damage."])],"rogue","attack",3),
      Power("Nasty Backswing",["martial","weapon"],"encounter","free",
          [Trigger("You miss with a melee attack"),
           Special("You must have combat advantage for this attack."),
           Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD,orfeat(0,STRMOD,"brutal scoundrel")]),["melee"],["light blade"]),
          Hit("You can shift 1 square")],"rogue","attack",3),
      Power("Setup Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Effect("The target grants combat advantage to you until the end of your next turn.")],"rogue","attack",3),
      Power("Topple Over",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD,orfeat(lambda x:x.mod("str"),0,"brutal scoundrel")],"AC", damage(1, [DEXMOD]),["melee"],["light blade"])
          ,Hit("The target is knocked prone")],"rogue","attack",3),
      Power("Trickster's Blade",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["light blade","crossbow","sling"]),
          Effect(["+",lambda x:x.mod("cha")," AC until the start of your next turn"])],"rogue","attack",3)
],"roguedaily5":[
      Power("Clever Riposte",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Effect(["Until the end of the encounter, the target takes ",lambda x: x.mod("dex")," damage every time it attacks you, and you can shift as an immediate reaction after such an attack."])],"rogue","attack",5),
      Power("Compel the Craven",["fear","martial","rattling","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit(["The target moves ",MOD("cha")," squares away from you, avoiding unsafe squares and difficult terrain if it can."]),
          Miss(["The target moves 1 square away from you, avoiding unsafe squares and difficult terrain if it can"])],"rogue","attack",5),
      Power("Deep Cut",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Hit(["Target takes ",lambda x:x.mod("str")+5," ongoing damage (save ends)"]),
           Miss("Half damage, and no ongoing damage.")],"rogue","attack",5),
      Power("Downward Spiral",["martial","rattling","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Effect("You knock the target prone.")],"rogue","attack",5),
      Power("Driving Assault",["martial","weapon"],"daily","standard",
          [Target("one creature, two attacks"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("You push the target 1 square, and you can shift 1 square toward the target.  If both attacks hit, you knock the target prone after the second hit."),
          Miss("Half damage per attack")],"rogue","attack",5),
      Power("Flashy Riposte",["martial","rattling","weapon"],"daily","immediate reaction",
          [Trigger("An enemy makes a melee attack against you"),
           Target("the triggering enemy"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Effect("The target grants combat advantage to you and your allies until the end of your next turn.")],"rogue","attack",5),
      Power("Staggering Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target is slowed (save ends).  If the target is bloodied when you make this attack, the attack deals 1[W] extra damage."),
          Effect("Until the end of the encounter, when you hit the target, it is slowed (save ends).")],"rogue","attack",5),
      Power("Surefooted Retort",["martial","weapon"],"daily","immediate interrupt",
          [Trigger("An enemy attacks you"),
           Target("The triggering enemy"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Miss(),
          Effect(["If the triggering attack would knock you prone or slwo you, negate the condition.  Reduce any pull, push, or slide from the triggering attack by ",MOD("dex")," squares."])],"rogue","attack",5),
      Power("Walking Wounded",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("Knock the target prone.  Until the end of the encounter, if the target moves more than half its speed in a single action, it falls prone at the end of its movement."),
          Miss("Half damage, and the target is not knocked prone.")],"rogue","attack",5)
],"rogueutility6":[
      Power("Chameleon",["martial"],"at-will","immediate interrupt",
          [Trigger("You are hidden and lose cover or concealment against an opponent"),
          Effect("Make a stealth check.  Until the end of your next turn, you remain hidden if a creature that has a clear line of sight to you does not beat your check result with its Perception check.  If at the end of your turn you do not have cover or concealment against a creature, that creature automatically notices you.")],"rogue","utility",6),
      Power("Ferret Out Frailty",["martial"],"encounter","minor",
          [Effect(["Until the beginning of your next turn, you gain combat advantage against one target within line of sight.  If the target is taking the attack penalty from one of your rattling attacks, you instead gain combat advantage until the end of your next turn."])],"rogue","utility",6),
      Power("Fortuitous Dodge",["martial"],"daily","immediate reaction",
          [Trigger("A melee or ranged attack misses you"),
           Target("One creature other than the attacker",("melee",1)),
          Effect("The target is also targetted by the triggering attack.  You can then shift 1 square.")],"rogue","utility",6),
      Power("Ignoble Escape",["martial"],"encounter","move",
          [Effect(["If you are marked, end that condition.  You can shift a number of squares equal to your speed."])],"rogue","utility",6),
      Power("Mob Mentality",["martial"],"encounter","standard",
          [Target("you and each ally in burst",("close burst",10)),
           Effect("The targets gain a +2 power bonus to Charisma-based skill and ability checks until the end of your next turn")],"rogue","utility",6),
      Power("Nimble Climb",["martial"],"encounter","move",
          [Effect("Make an Athletics check to climb a surface.  You can move at your full speed during this climb.")],"rogue","utility",6),
      Power("Sidestep Stance",["martial","stance"],"daily","minor",
          [Effect(["Choose one enemy within 5 squares of you that you can see.  Until the stance ends, you gain a +2 power bonus to AC against that enemy's melee attacks and ranged attacks if you can see the enemy.  You can choose a new enemy as a minor action."])],"rogue","utility",6),
      Power("Slippery Mind",["martial"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack against your will defense"),
          Effect("Gain a +2 power bonus to your will defense against the triggering attack")],"rogue","utility",6),
      Power("Threatening Glare",["fear","martial"],"encounter","minor",
          [Effect("Until the end of your next turn, opportunity attacks against you deal half damage, and if an enemy makes an opportunity attack against you, you gain combat advantage against that enemy until the end of your next turn.")],"rogue","utility",6),
      Power("Vault Position",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, you gain a +1 power bonus to Reflex.  As a minor action, you can make an athletics check to jump, but doing so ends the stance.")],"rogue","utility",6),
      Power("Vexing Flanker",["martial"],"encounter","immediate reaction",
          [Trigger("An ally enters a square adjacent to an enemy adjacent to you"),
           Effect("You can shift to any other suqare adjacent to the enemy.")],"rogue","utility",6),
],"rogueencounter7":[
      Power("Circling Predator",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
           Effect("You can shift 1 square and must end adjacent to the target.  Then make a secondary attack against the target."),
          Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("You gain combat advantage against the target until the end of your next turn.")],"rogue","attack",7),
      Power("Cloud of Steel",["martial","weapon"],"encounter","standard",
          [Target("each enemy in blast you can see",("close blast",5)),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),[],["light blade","crossbow","sling"])],"rogue","attack",7),
      Power("Dismaying Slash",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target takes a -2 penalty to saving throws until the end of your next turn.")],"rogue","attack",7),
      Power("From the Shadows",["martial","weapon"],"encounter","standard",
          [Effect(["Before the attack, you can shift ",orfeat(2,lambda x:1+x.mod("cha"),"artful dodger")," squares.  If the target could not see you before the shift, you gain combat advantage for this attack."]),
           Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit(["You can shift ",orfeat(2,lambda x:1+x.mod("cha"),"artful dodger")," squares.  If you have any cover or concealment after this shift, you can make a stealth check as a free action."])],"rogue","attack",7),
      Power("Hectoring Strike",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD,STRMOD]),[],["crossbow","light blade","sling"]),
          Other(["",orfeat("","Hit: You slide the target 1 square, and the target grants combat advantage to you until the end of your next turn.","brutal scoundrel")])],"rogue","attack",7),
      Power("Imperiling Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["The target takes a -",orfeat(1,lambda x:x.mod("str"),"brutal scoundrel")," penalty to AC and Reflex defense until the end of your next turn."])],"rogue","attack",7),
      Power("Rogue's Luck",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Miss("Make a secondary attack against the target."),
          Atk([DEXMOD],"AC", damage(1, [DEXMOD,orfeat(0,lambda x:x.mod("cha"),"artful dodger")]),[],["crossbow","light blade","sling"])],"rogue","attack",7),
      Power("Sand in the Eyes",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target is blinded until the end of your next turn.")],"rogue","attack",7),
      Power("Snap Shot",["martial","weapon"],"encounter","minor",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"])],"rogue","attack",7),
      Power("Spring the Trap",["martial",orfeat("","rattling","brutal scoundrel"),"weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"fortitude", damage(1, [DEXMOD]),["melee"],["light blade"])],"rogue","attack",7),
],"roguedaily9":[
      Power("Crimson Edge",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(1, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit("The target is slowed ant takes ongoing 10 damage (save ends both)"),
          Aftereffect("The target is slowed and takes ongoing 5 damage (save ends both)."),
          Miss("Half damage, no ongoing damage, and the target is slowed (save ends).")],"rogue","attack",9),
      Power("Burst Fire",["martial","weapon"],"daily","standard",
          [Target("each enemy in bust you can see",("area burst",1,10)),Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Miss()],"rogue","attack",9),
      Power("Crimson Edge",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit(["The target takes ",lambda x:x.mod("str")+5,"ongoing damage and grants combat advantage to you (save ends both)"]),
          Miss("Half damage, and no ongoing damage")],"rogue","attack",9),
      Power("Deadly Positioning",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Effect("You slide the target 3 squares to a square adjacent to you, and then attack"),
          Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Effect("Until the end of the encounter, as long as you are adjacent to the target, you slide the target 1 square before making a melee attack against it.")],"rogue","attack",9),
      Power("Into Harm's Way",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You slide the target 2 squares.  Then an ally of yours can make a melee basic attack against the creature as a free action."]),
          Miss()],"rogue","attack",9),
      Power("Knockout",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target is knocked unconcious (save ends).  If the unconcious target takes any damage, it is no longer unconcious."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"rogue","attack",9),
      Power("Not It",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("An ally adjacent to you or the target marks the target until the start of your next turn."),
          Miss("Half damage, and no mark.")],"rogue","attack",9),
      Power("Not Worth My Time",["martial","rattling","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit("Push the target 1 square.  The target is then immobilized (save ends)."),
          Miss("Half damage, no push, and the target is immobilized until the end of its next turn.")],"rogue","attack",9),
      Power("Rogue's Recovery",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Effect("If you have used all of your encounter attack powers, you regain the use of a rogue encounter attack power you have used during this encounter.  Or if you have combat advantage against the target, you can instead deal 2[W] extra damage with the attack.")],"rogue","attack",9),
      Power("Swift Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("If the target has not taken an action during this encounter, the attack deals 1[W] extra damage."),
          Miss()],"rogue","attack",9),
      Power("Vexing Escape",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You can shift ",MOD("cha")," squares"]),
          Miss("Half damage, and you can shift 1 square."),
          Effect("Until the end of the encounter, each time the target enters a square adjacent to you, you can shift 1 square as an immediate reaction.")],"rogue","attack",9),
      Power("Vexing Sting",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target takes a -2 penalty to attack rolls (save ends).")],"rogue","attack",9),
],"rogueutility10":[
      Power("Brisk Stride",["martial"],"encounter","move",
          [Effect("You can move your speed +4.  During this movement and until the end of your next turn, you can move across difficult terrain at your normal speed.")],"rogue","utility",10),
      Power("Certain Freedom",["martial"],"daily","move",
          [Effect("You automatically succeed on an Acrobatics check to escape from a grab or to escape from restraints.")],"rogue","utility",10),
      Power("Close Quarters",["martial"],"daily","move",
          [Effect("Move into the space of an adjacent creature larger than you and at least Large in size. (It gets its usual opportunity attack against you as you leave an adjacent square.)  You gain combat advantage against the creature, and it takes a -4 penalty to attack rolls against you.  When the creature moves, you move along with it, staying in the same portion of the creature's space.  The creature can make a Strength or Dexterity vs. Reflex attack (as a standard attack with no penalty) to slide you 1 square into an adjacent square and end this effect."),
          Special("Allies of the target creature can attack you without penalty.")],"rogue","utility",10),
      Power("Combat Tumbleset",["martial"],"encounter","move",
          [Effect("You can shift your speed and can shift through squares occupied by enemies during this movement.")],"rogue","utility",10),
      Power("Dangerous Theft",["martial"],"encounter","free action",
          [Effect("On your next action, ignore the -10 penalty when you make a Thievery check to pick a pocket during combat.")],"rogue","utility",10),
      Power("Executioner's Mein",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, all your attacks gain the rattling keyword.")],"rogue","utility",10),
      Power("Gap in the Armor",["martial"],"daily","minor",
          [Effect("Choose an enemy within 5 squares of you.  You gain a +2 power bonus to attack rolls against that enemy until the end of the encounter.")],"rogue","utility",10),
      Power("Peripheral Concealment",["martial"],"daily","standard",
          [Requirement("No creature is within 3 squares of you"),
           Effect("You become hidden until you attack or until the end of your next turn.")],"rogue","utility",10),
      Power("Shadow Stride",["martial"],"at-will","move",
          [Effect("You must be hidden to use this power.  You can move your speed and must end your movement in a space where you can remain hidden.  Then make a Stealth check with no penalty for moving.  If the check succeeds, you remain hidden during the movement, even if you have no cover or concealment during it.")],"rogue","utility",10),
],"rogueencounter13":[
      Power("Bounding Escape",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Effect(["You can jump horizontally ",MOD("str")," squares or jump vertically ",lambda x: x.mod("str")/2," squares.  This movement does not provoke opportunity attacks from ",orfeat("the target.","any enemy","artful dodger")])],"rogue","attack",13),
      Power("Cunning Cyclone",["martial","rattling","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Special("If you have combat advantage against more than one target, you can deal 1 die of Sneak Attack damage to each target that you have combat advantage against, rather than dealing all your Sneak Attack damage to one target.  This counts as one use of Sneak Attack, regardless of the number of targets.")],"rogue","attack",13),
      Power("Daunting Attack",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["The target is dazed until the end of your next turn.",orfeat("","  If the target is already taking the penalty to attack rolls from one of your rattling attacks, instead of being dazed, the target is stunned until the end of your next turn.","ruthless ruffian")])],"rogue","attack",13),
      Power("Fool's Opportunity",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"will", None,["melee"],["light blade"]),
          Hit("The target takes damage as if it were hit by its own melee basic attack.  If you have combat advantage against the target, you can add your Sneak Attack damage.")],"rogue","attack",13),
      Power("Powerful Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit("You push the target 1 square, and the target is slowed until the end of your next turn.")],"rogue","attack",13),
      Power("Skip Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit(["An enemy within 3 squares of the target takes ",MOD("dex")," damage."])],"rogue","attack",13),
      Power("Stunning Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target is stunned until the end of your next turn.")],"rogue","attack",13),
      Power("Toppling Slash",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD,orfeat(0,STRMOD,"brutal scoundrel")],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["Push the target ",orfeat("1 square","2 squares","brutal scoundrel")," and knock it prone."])],"rogue","attack",13),
      Power("Tornado Strike",["martial","weapon"],"encounter","standard",
          [Target("one or two creatures, one attack per target"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["light blade","crossbow","sling"]),
           Hit(["Slide the target ",lambda x:max(2,1+x.mod("cha")*x.check("feature","artful dodger"))," squares."])],"rogue","attack",13),
      Power("Unbalancing Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
          Hit(["The target cannot shift until the end of your next turn.  If the target provokes an opportunity attack from you before the start of your next turn, you gain a +",MOD("str")," bonus to the attack and damage roll, and you knock the target prone on a hit."])],"rogue","attack",13)
],"roguedaily15":[
      Power("Bloody Path",["martial","weapon"],"daily","standard",
          [Effect("You can move your speed.  Every enemy that can make an opportunity attack against you as a result of this movement attacks itself with its opportunity attack rather than you.  Any enemy that can make an opportunity attack against you during this movement must do so.  It cannot refrain from making the attack to avoid harming itself.")],"rogue","attack",15),
      Power("Bold Feint",["martial","reliable","weapon"],"daily","immediate interrupt",
          [Trigger("An enemy hits you with a melee attack and another enemy is within its reach"),
           Target("the attacking enemy"),Atk([CHAMOD],"will", None,[]),
           Hit("Choose an enemy within the taret's reach.  That enemy is hit instead of the target of the triggering attack.")],"rogue","attack",15),
      Power("Finish It",["martial","weapon"],"daily","standard",
          [Target("one bloodied creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit("Ongoing 5 damage.  The ongoing damage lasts until the creature is no longer bloodied."),
           Miss("Half damage, and no ongoing damage.")],"rogue","attack",15),
      Power("Garrote Grip",["martial","weapon"],"daily","standard",
          [Special("You can use this power as a minor action if you have already grabbed a creature.  Doing so requires no attack roll."),
           Target("one creature"),Atk([DEXMOD],"reflex", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Hit(["Grab the target.  Until the target escapes, you have cover, and any melee attack or ranged attack that misses you hits the target instead."]),
           Sustain("minor","Sustain the grab for another round.  The third time you sustain the grab after using this power, the target falls unconscious.  If an unconscious target takes any damage, it is no longer unconscious.")],"rogue","attack",15),
      Power("Mind-Boggling Onslaught",["martial","rattling","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Effect("Whether or not this rattling attack deals damage, the target takes the -2 penalty to attack rolls until the end of your next turn."),
           Sustain("minor","The penalty to attack rolls lasts until the end of your next turn, or you can end the penalty and daze the target until the end of your next turn.")],"rogue","attack",15),
      Power("Ripple Effect",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit("Slide the target 4 squares."),
           Miss("Half damage, and you slide the target 1 square"),
           Effect("Make a secondary attack after the slide."),
           Target("one enemy adjacent to the primary target"),Atk([DEXMOD],"reflex", damage([1,6], [DEXMOD]),["melee"],["light blade"]),
           Hit("You slide the second target 1 square.")],"rogue","attack",15),
      Power("Slaying Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Special(["If the target is bloodied, this attack does and additional 2[W]",plus(STRMOD)," bonus damage, and can score a critical hit on a roll of 17-20."]),
           Miss()],"rogue","attack",15),
      Power("Vicious Cooperation",["martial","weapon"],"daily","standard",
          [Target("one creature you're flanking"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["melee"],["light blade"]),
           Effect("An ally flanking the target with you can make a melee basic attack against it as a free action.  You can deal Sneak Attack damage to the target if either you or your ally hit it.")],"rogue","attack",15),
      Power("Wounding Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Hit("If the target is not bloodied before you make this attack, the attack also deals ongoing 10 damage (save ends)."),
           Miss()],"rogue","attack",15),
],"rogueutility16":[
      Power("Anticipate Attack",["martial"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack."),
           Effect("You gain a +4 bonus to all defenses until the end of your next turn.")],"rogue","utility",16),
      Power("Defensive Roll",["martial"],"encounter","immediate interrupt",
          [Trigger("You are missed by an attack."),
           Effect("You can shift your speed.")],"rogue","utility",16),
      Power("Denying Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, each time an enemy misses you with a melee or ranged attack, that enemy takes a -2 penalty to its next attack roll against you.")],"rogue","utility",16),
      Power("Foil the Lock",["martial"],"daily","minor",
          [Effect("On your next action, gain a +10 power bonus when you make a Thievery check to open a lock.  If the check succeeds, the lock opens at once.")],"rogue","utility",16),
      Power("Grasshopper Leap",["martial"],"encounter","free",
          [Trigger("You make an Athletics check to jump"),
           Effect("Treat the Athletics check as if you had rolled a 20.")],"rogue","utility",16),
      Power("Hide in Plain Sight",["martial"],"encounter","minor",
          [Effect("You must already be hidden to use this power.  You are invisible until you leave your current square.  No other action that you perform makes you visible.")],"rogue","utility",16),
      Power("Leaping Dodge",["martial"],"encounter","immediate interrupt",
          [Trigger("An enemy targets you with an attack."),
           Effect("Make an athletics check to jump with a +5 power bonus and move the appropriate distance.")],"rogue","utility",16),
      Power("Magpie Filch",["martial"],"daily","free",
          [Trigger("You hit a creature with a melee attack"),
           Requirement("You must have a hand free"),
           Target("The triggering creature"),
           Effect("You take a small object from the target as if you had made a successful Thievery check to pick pocket.")],"rogue","utility",16),
      Power("Opportunistic Relocation",["martial"],"encounter","move",
          [Requirement("You must have reduced an enemy to 0 hit points during this turn."),
           Effect("You can shift your speed.")],"rogue","utility",16),
      Power("Raise the Stakes",["martial"],"daily","minor",
          [Effect("Until the end of your next turn, any of your attacks can score a critical hit on a roll of 17-20, and any attack against you can score a critical hit on a roll of 19-20.")],"rogue","utility",16),
      Power("Vigilant Footwork",["martial"],"daily","minor",
          [Requirement("You must be wielding a light blade."),
           Effect("Until the stance ends, you gain a +1 power bonus to AC and Reflex against melee attacks.")],"rogue","utility",16),
],"rogueencounter17":[
      Power("Audacious Strike",["martial","weapon"],"encounter","standard",
          [Effect("Before the attack, you can shift 4 squares."),
           Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
          Effect("You can shift 2 squares.")],"rogue","attack",17),
      Power("Blistering Outburst",["martial","weapon"],"encounter","standard",
          [Target("each creature in burst you can see",("close burst",1)),Atk([DEXMOD],"fortitude", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"rogue","attack",17),
      Power("Dragon Tail Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(3, [DEXMOD]),[],["light blade","crossbow","sling"]),
           Hit("If the target attacks you before the start of your next turn, you can attack it as an immediate interrupt:"),
           Target("the same creature"),Atk([DEXMOD, lambda x:x.check("feature","brutal scoundrel")*x.mod("str")],"fortitude", damage(2, [DEXMOD]),[],["light blade","crossbow","sling"])],"rogue","attack",17),
      Power("Escape Artist's Gambit",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You can shift ",orfeat("1 square",[lambda x:1+x.mod("cha")," squares"],"artful dodger"),".  If you are immobilized, slowed, or both, those conditions end before you shift, and you automatically escape if you are grabbed."])],"rogue","attack",17),
      Power("Guerrilla Blitz",["martial","weapon"],"encounter","standard",
          [Effect("Before the attack you can move your speed."),
           Target("one creature"),Atk([DEXMOD],"will", damage(2, [DEXMOD,orfeat(0,STRMOD,"brutal scoundrel")]),[],["light blade","crossbow","sling"]),
          Effect("Until the start of your next turn, you gain a +1 power bonus to AC and Reflex for every 2 squares you moved as part of this power.")],"rogue","attack",17),
      Power("Hounding Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(3, [DEXMOD]),[],["light blade","crossbow","sling"]),
          Hit(["Until the end of your next turn, you gain combat advantage against the target and a +",lambda x:max(1, x.check("feature","artful dodger")*x.mod("cha"))," power bonus to all defenses against its attacks."])],"rogue","attack",17),
      Power("No Escape",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy leaves a square adjacent to you or enters a square where it has cover or concealment against you"),
           Target("one creature"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["ranged"],["light thrown","crossbow","sling"]),
          Hit("Knock the target prone.")],"rogue","attack",17),
      Power("Stab and Grab",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"]),
          Hit("You grab the target.  If you have already grabbed the target, it is restrained instead of immobilized until it escapes your grab.  The target can attempt to escape the grab as normal.")],"rogue","attack",17),
      Power("Stinging Squall",["martial","rattling","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD,orfeat(0,CHAMOD,"ruthless ruffian")],"AC", damage(1, [DEXMOD]),["melee"],["light blade"]),
          Hit(["The target is weakened when making attacks",orfeat(" against you "," ","ruthless ruffian"),"until the end of your next turn."])],"rogue","attack",17),
],"roguedaily19":[
      Power("Bloodbath Attack",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You knock the target prone, and it takes ongoing ",MOD("str")," damage (save ends)."]),
           Effect(["Until the end of the encounter, whenever you hit the target, the target takes ongoing ",MOD("str")," damage (save ends)."])],"rogue","attack",19),
      Power("Blood Squall",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Hit("Ongoing 10 damage (save ends)."),
           Miss("Half damage, and no ongoing damage.")],"rogue","attack",19),
      Power("Daunting Barrage",["martial","weapon"],"daily","standard",
          [Target("each enemy in blast you can see",("close blast",5)),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target is dazed (save ends)."),
          Miss("Half damage, and the target is not dazed")],"rogue","attack",19),
      Power("Feinting Flurry",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(5, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Effect(["Until the end of your next turn, all of the target's defenses against your attacks take a -",MOD("cha")," penalty"]),
          Sustain("minor","Sustain the penalty for another round")],"rogue","attack",19),
      Power("Flying Foe",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(4, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You slide the target ",MOD("str")," squares.  If an obstacle (including a creature) arrests the slide, both the target and the obstacle take ",dmg(0,1,6)," and the target ends its movement in the square it occupied before it collided with the obstacle."]),
           Miss(["You slide the target ",MOD("str")," squares, and no damage from obstacles."])],"rogue","attack",19),
      Power("Marked Beating",["martial","weapon"],"daily","standard",
          [Target("one creature marked by an ally"),Atk([DEXMOD],"reflex", damage(5, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target is dazed and takes a -2 penalty to all defenses (save ends both)."),
          Miss("Half damage, and the target is dazed until the end of your next turn, and no penalty to defenses.")],"rogue","attack",19),
      Power("Snake's Retreat",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(6, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Effect("When the target makes a melee or a ranged attack against you, you can shift 1 square as an immediate interrupt.  The target can make a saving throw to end this effect.")],"rogue","attack",19),
      Power("Stolen Vitality",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["melee"],["light blade"]),
           Hit(["The target is slowed (save ends).  You gain ",lambda x:x.mod("cha")+10," temporary hit points."]),
           Miss("Half damage, and the target is slowed until the end of your next turn, and no temporary hit points.")],"rogue","attack",19),
      Power("Strong-Arm Loyalty",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Hit("The target is dominated until the start of your next turn or until it is attacked."),
           Miss("Half damage, and the target is immobilized until the start of your next turn or until it is attacked.")],"rogue","attack",19),
      Power("Uncanny Ricochet",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Miss("Make a secondary attack with combat advantage."),
          Target("one creature within 3 squares of the primary target"),Atk([DEXMOD],"reflex", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Miss("Half damage.")],"rogue","attack",19),
],"rogueutility22":[
      Power("Cloud Jump",["martial"],"encounter","move",
          [Effect("Make to consecutive Athletics checks to jump, with a +5 power bonus to each.  You don't have to land between the jumps and can exceed your normal movement.")],"rogue","utility",22),
      Power("Dazzling Acrobatics",["martial"],"encounter","minor",
          [Effect("You can shift twice your speed.  You can climb at full speed as part of this move.  If an enemy attacks you while you shift, you gain a +4 bonus to AC against this attack.")],"rogue","utility",22),
      Power("Hide from the Light",["martial"],"daily","immediate interrupt",
          [Effect("You must already be hidden to use this power.  You are invisible until the end of the encounter or until you end the effect by moving more than 2 squares in a turn or by making any attack other than a basic attack or an at-will attack.")],"rogue","utility",22),
      Power("Mountebank's Flight",["martial","teleportation"],"encounter","immediate reaction",
          [Trigger("A creature within 5 squares of you teleports."),
           Effect("Make to consecutive Athletics checks to jump, with a +5 power bonus to each.  You don't have to land between the jumps and can exceed your normal movement.")],"rogue","utility",22),
      Power("Scoundrel's Epiphany",["martial"],"daily","free",
          [Trigger("You make a Dungeoneering or Streetwise check to remember or discover a useful bit of information."),
           Effect("If you are trained in the skill, don't roll for the check; you are considered to have rolled a 25 and then add your skill check bonus.  If you are not trained in the skill, you gain a +5 bonus to the check.")],"rogue","utility",22),
      Power("Seize the Moment",["martial"],"daily","no",
          [Trigger("You make an initiative check at the beginning of an encounter."),
           Effect("You gain a +20 bonus to your initiative check.  Until the end of your first turn in the encounter, you gain a +2 power bonus to attack rolls and a +4 power bonus to speed.")],"rogue","utility",22),
      Power("Thief of Fortune",["martial"],"daily","no",
          [Trigger("Your attack misses or you fail a saving throw."),
           Effect("Reroll the triggering attack roll or saving throw and use the new result.  One creature you can see takes a -2 penalty to attack rolls and saving throws until the end of your next turn.")],"rogue","utility",22),
      Power("Unnerving Footwork",["martial"],"daily","minor",
          [Effect("Until the stance ends, any creature that ends its turn adjacent to you takes a -2 penalty to attack rolls against you until the end of its next turn.")],"rogue","utility",22),
      Power("Wall Crawl",["martial"],"at-will","move",
          [Effect("You climb a number of squares equal to your speed minus your armor's check penalty.")],"rogue","utility",22),
],"rogueencounter23":[
      Power("Blindside",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit(["If you have combat advantage against the target, it is dazed until the start of your next turn."])],"rogue","attack",23),
      Power("Crack Shot",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("area burst",1,10)),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("You knock the target prone.")],"rogue","attack",23),
      Power("Collapsing Riposte",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy misses you with a melee attack"),
           Target("the triggering enemy"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You knock the target prone",orfeat("",", and the target is dazed until the end of your next turn","artful dodger"),"."])],"rogue","attack",23),
      Power("Death Dance",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"AC", damage(2, [DEXMOD,orfeat(0,STRMOD,"brutal scoundrel")]),["melee"],["light blade"]),
          Effect("You can shift 2 squares.")],"rogue","attack",23),
      Power("Felling Gash",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(4, [DEXMOD]),["melee"],["light blade"]),
          Hit(["You knock the target prone",orfeat("",", and the target is dazed until the end of your next turn","ruthless ruffian"),"."])],"rogue","attack",23),
      Power("Fettering Shot",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
          Hit("The target is immobilized until the end of your next turn.")],"rogue","attack",23),
      Power("Knave's Gambit",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Miss(["The target makes a melee basic attack ",orfeat("",["with a +",MOD("cha")," bonus to the attack and damage roll "],"artful dodger"),"as a free action against an adjacent target other than you.  You choose the target of this attack."])],"rogue","attack",23),
      Power("Scorpion Strike",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("An ally damages a creature adjacent to you",("melee",1)),
           Target("the creature your ally damaged"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
          Other(["",orfeat("",["Effect: Shift ",MOD("str")," squares"],"brutal scoundrel")])],"rogue","attack",23),
      Power("Steel Entrapment",["martial","weapon"],"encounter","standard",
          [Target("each enemy in blast you can see",("close blast",5)),Atk([DEXMOD],"fortitude", damage(3, [DEXMOD]),["ranged"],["crossbow","light blade","sling"])
          ,Hit("The target is immobilized until the end of your next turn.")],"rogue","attack",23)
],"roguedaily25":[
      Power("Acrobatic Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Miss(),
           Effect("You can shift 4 squares and repeat the attack against a second target.  You can then shift 4 squares and repeat the attack against a third target.")],"rogue","attack",25),
      Power("Biting Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target takes ongoing 10 damage and is weakened (save ends both)"),
          Miss("Half damage, and the target takes ongoing 10 damage (save ends)")],"rogue","attack",25),
      Power("Cruel Pursuit",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You slide the target ",lambda x:x.mod("cha")+1," squares.  You can then shift ",lambda x:x.mod("cha")+3," squares to a square adjacent to the target."]),
           Miss("Half damage, you slide the target 2 squares, and you can then shift 3 squares to a square adjacent to the target."),
           Effect("Make a secondary attack against the target."),
           Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Miss()],"rogue","attack",25),
      Power("Ghost on the Wind",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"will", damage(6, [DEXMOD]),["melee"],["light blade"]),
           Hit("You become invisible.  You shift into any square adjacent to the target and reappear at the start of your next turn.  You have combat advantage against the target until the end of your next turn."),
           Miss("Half damage, you can shift 1 square to another square adjacent to the target, and you have combat advantage against the target until the end of your next turn.")],"rogue","attack",25),
      Power("Gory Slash",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target takes ongoing 10 damage and is immobilized (save ends both)"),
          Miss("Half damage, and the target takes ongoing 5 damage (save ends).  The target is immobilized until the start of your next turn.")],"rogue","attack",25),
      Power("Hamstring",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target takes ongoing 10 damage and is slowed (save ends both)"),
          Miss("Half damage, and the target takes ongoing 5 damage (save ends both)")],"rogue","attack",25),
      Power("Magnetic Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(6, [DEXMOD,STRMOD,CHAMOD]),[],["crossbow","light blade","sling"]),
          Miss()],"rogue","attack",25),
      Power("Rogue's Resurgence",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Effect("If you have used all your encounter attack powers, you regain the use of a rogue encounter attack power you have used during this encounter.  Or if you have combat advantage against the target, you can instead deal 4[W] extra damage with the attack.")],"rogue","attack",25),
      Power("Shocking Execution",["martial","rattling","weapon"],"daily","standard",
          [Target("one bloodied creature"),Atk([DEXMOD],"fortitude", damage(4, [DEXMOD]),["melee"],["light blade"]),
          Hit("Each enemy within 3 squares of you takes a -2 penalty to attack rolls (save ends)."),
          Miss("Half damage, and each enemy within 3 squares of you takes a -2 penalty to attack rolls until the start of your next turn.")],"rogue","attack",25),
      Power("Visceral Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["melee"],["light blade"]),
          Hit("The target is stunned (save ends)"),
          Miss("Half damage, and the target is weakened and slowed until the end of your next turn.")],"rogue","attack",25),
],"rogueencounter27":[
      Power("Dance of Death",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["If the target makes a melee attack against you before the end of your next turn, you can make it attack another creature of your choice instead, including itself.",orfeat("",[" The creature gains a +",MOD("cha")," power bonus to this attack roll"],"artful dodger")])],"rogue","attack",27),
      Power("Hurling Pounce",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You push the target ",orfeat(2,lambda x:x.mod("str")+1,"brutal scoundrel")," squares.  You can then shift 2 squares and make a secondary attack."]),
           Target("one creature other than the primary target"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"])],"rogue","attack",27),
      Power("Hurricane of Blood",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD,lambda x:x.check("feature","brutal scoundrel")*x.mod("str")],"AC", damage(5, [DEXMOD]),["melee"],["light blade"])],"rogue","attack",27),
      Power("Perfect Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC, Fortitude, Reflex", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Special("Make only one attack roll. The attack hits if it equals or exceeds any of the three defenses."),
          Hit("Deal an extra 1[W] damage if the attack roll hit two defenses.  The target is also stunned if the attack hits all three defenses.")],"rogue","attack",27),
      Power("Safe Bet",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit(["If the target makes an attack before the start of your next turn, you can shift ",MOD("dex")," squares and make a basic attack against the target as an immediate interrupt."])],"rogue","attack",27),
      Power("Skirmishing Strike",["martial","weapon"],"encounter","minor",
          [Target("one creature"),Atk([DEXMOD,-2],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You can shift ",orfeat("1 square",[CHAMOD," squares"],"artful dodger"),"."])],"rogue","attack",27),
      Power("Stunning Assist",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
          Hit("The target is dazed until the end of your next turn.  If the target is marked by any of your allies, it is stunned instead of dazed.")],"rogue","attack",27),
      Power("Stupefying Violence",["martial","rattling","weapon"],"encounter","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Hit(["Slide the target ",orfeat(2,lambda x:2+x.mnod("cha"),"ruthless ruffian")," squares."])],"rogue","attack",27),
],"roguedaily29":[
      Power("A Murder of One",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(4, [DEXMOD]),["melee"],["light blade"]),
           Effect("You can shift 3 squares and can shift through squares occupied by enemies during this movement.  Make a secondary attack."),
           Target("one creature other than the primary target"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit("If the primary attack hit, this attack deals 1[W] extra damage."),
           Effect("You can shift 3 squares and can shift through squares occupied by enemies during this movement.  Make a tertiary attack."),
           Target("one creature other than the primary and secondary targets"),Atk([DEXMOD],"AC", damage(2, [DEXMOD]),["melee"],["light blade"]),
           Hit("If the primary attack or the secondary attack hit, this attack deals 1[W] extra damage.")],"rogue","attack",29),
      Power("Assassin's Point",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(7, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Special("If you have combat advantage against the target, double any extra damage from Sneak Attack or a critical hit.")],"rogue","attack",29),
      Power("Cagey Killer",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"AC", damage(3, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Hit("The target is stunned (save ends)."),
           Aftereffect("The target is dazed (save ends)."),
           Miss("Half damage, and the target is dazed (save ends).")],"rogue","attack",29),
      Power("Deathweaving Strike",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(3, [DEXMOD]),["melee"],["light blade"]),
           Hit(["You slide the target ",lambda x:x.mod("cha")+1," squares.  Each of your allies adjacent to the target at any time during this forced move can make a basic attack against the target as an opportunity action.  Each ally's attack has combat advantage and deals ",MOD("cha")," extra damage on a hit."])],"rogue","attack",29),
      Power("Immobilizing Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"fortitude", damage(5, [DEXMOD]),[],["crossbow","light blade","sling"]),
           Hit("The target is immobilized (save ends).  If the target succeeds on its saving throw, it is slowed (save ends).  Saving throws against these effects sake a -5 penalty."),
           Miss("Half damage, and the target is slowed (save ends).  Saving throws against this effect take a -5 penalty.")],"rogue","attack",29),
      Power("Moving Target",["martial","weapon"],"daily","immediate interrupt",
          [Target("one creature"),Atk([CHAMOD],"will", None,[],["crossbow","light blade","sling"]),
          Hit("Instead of attacking you, the target attacks a creature you choose within 2 squares of you.  You must choose a creature that the target can attack."),
          Miss("The target's attack is made agaisnt you as normal, but deals half damage if it hits.")],"rogue","attack",29),
      Power("Sight-Stealing Shot",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([DEXMOD],"reflex", damage(4, [DEXMOD]),["ranged"],["crossbow","light thrown","sling"]),
           Hit("The target is blinded and dazed (save ends both)."),
           Miss("Half damage, and the target is dazed until the end of its next turn.")],"rogue","attack",29),
]}
    addPowers(rogueList)

def runepriest():
    runepriestList={"runepriestat-will1":[
      Power("Word Of Binding",["divine","runic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",None),
          Hit(["",MOD("str")," damage, and the target is immobilized until the end of your next turn or until you aren't adjacent to it."]),
          Other(["Rune Of Destruction:  Before the end of your next turn, the next attack against the target from one of your allies deals ",MOD("wis")," extra damage to the target."]),
          Other(["Rune Of Protection:  One ally adjacent to either you or the target gains a ",MOD("wis")," power bonus to AC until the end of your next turn."])],"runepriest","at-will","1"),
      Power("Word Of Diminishment",["divine","runic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other(["Rune Of Destruction:  Until the end of your next turn, the target has vulnerable ",lambda x:raising(3,10)(x)-2-x.check("level",21)," to all damage, but vulnerable ",lambda x:raising(2,10)(x)+3+x.check("level",21)," against opportunity attacks."]),
          Other(["Rune Of Protection:  Until the end of your next turn, the target takes a -",MOD("con")," penalty to damage rolls."])],"runepriest","at-will","1"),
      Power("Word Of Exchange",["divine","runic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other(["Rune Of Destruction:  Before the end of your next turn, the next attack against the target from one of your allies deals ",MOD("wis")," extra damage to the target, and the ally gains ",MOD("wis")," temporary hit points."]),
          Other(["Rune Of Protection:  The target takes a -1 penalty to all defenses until the end of your next turn, and the next ally to hit the target before the end of your next turn gains a +",MOD("wis")," power bonus to AC. The bonus lasts until the end of your next turn."])],"runepriest","at-will","1"),
      Power("Word Of Shielding",["divine","runic","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other(["Rune Of Destruction:  The first time the target hits or misses you or an ally adjacent to you with an attack before the end of your next turn, the target takes ",MOD("con")," damage. The target doesn't take this damage if it attacks a creature marking it."]),
          Other(["Rune Of Protection:  The first time the target hits or misses you or an ally adjacent to you with an attack before the end of your next turn, the target of that attack gains ",MOD("con")," temporary hit points."])],"runepriest","at-will","1"),
],"runepriestencounter1":[
      Power("Anvil Of Battle",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"fortitude",damage(1,[STRMOD]),["melee"]),
          Hit("Until the start of your next turn, you have resist 5 to all damage against the target's attacks."),
          Other(["Rune Of Destruction:  Until the end of your next turn, whenever the target shifts, you or an ally adjacent to you can make an opportunity attack against it with a +",MOD("con")," bonus to the attack roll."]),
          Other("Rune Of Protection:  Until the end of your next turn, whenever the target shifts, you and each ally within 1 squares of the target can shift 1 square as a free action.")],"runepriest","encounter","1"),
      Power("Divine Rune Of Thunder",["divine","runic","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other(["Rune Of Destruction:  Add ",MOD("wis")," to the damage roll. The target grants combat advantage until the end of your next turn."]),
          Other(["Rune Of Protection:  You push the target ",MOD("wis")," squares, and it is dazed until the end of your next turn."])],"runepriest","encounter","1"),
      Power("Executioner's Call",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("Your allies gain a +1 bonus to damage rolls against the target until the end of your next turn."),
          Other("Rune Of Destruction:  One ally within 5 squares of you gains a +4 power bonus to the next attack roll he or she makes against the target before the start of your next turn."),
          Other("Rune Of Protection:  The target takes a -1 penalty to attack rolls until the end of your next turn.")],"runepriest","encounter","1"),
      Power("Flames Of Purity",["divine","fire","healing","runic","weapon"],"encounter","standard",
          [Target("Each enemy in blast",("close blast",3)),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),[]),
          Other("Rune Of Destruction:  Each ally in the blast gains a +3 power bonus to damage rolls until the end of your next turn."),
          Other("Rune Of Protection:  Each ally in the blast regains 3 hit points.")],"runepriest","encounter","1"),
],"runepriestdaily1":[
      Power("Rune of Endless Fire",["divine","fire","radiant","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("The target is blinded until the end of your next turn."),
          Miss("Half damage."),
          Effect("Until the end of the encounter, you gain a +1 bonus to damage rolls, your attacks deal fire and radiant damage instead of their normal damage types, and the number of hit points and temporary hit points granted by your powers increases by 4.")],"runepriest","daily","1"),
      Power("Rune of Iron's Rebuke",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("The target is slowed and cannot shift (save ends both)."),
          Miss("Half damage. and the target is slowed and cannot shift until the end of your next turn."),
          Effect(["Until the end of the encounter, while the target is adjacent to you, it takes ",MOD("str")," damage when any attack misses it and deals no damage on a miss."])],"runepriest","daily","1"),
      Power("Rune of the Undeniable Dawn",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),[]),
          Miss("Half damage."),
          Effect("The burst creates a zone that lasts until the end of your next turn. You and your allies gain a +1 power bonus to all defenses while within the zone."),
           Sustain("minor"," the zone persists.")],"runepriest","daily","1"),
      Power("Rune of Twilight's Beacon",["divine","weapon; varies"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"fortitude",damage(2,[choosestat("rune of twilight's beacon",["str"],False)]),["melee"]),
          Miss(),
          Effect("Choose an ally within 5 squares of you. Until the end of the encounter, the target takes 5 necrotic or radiant damage whenever it doesn't end its turn adjacent to that ally. This effect ends if the ally ends his or her turn not adjacent to the target.")],"runepriest","daily","1"),
],"runepriestutility2":[
      Power("Icon of Victory",["divine","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts until the end of your next turn. You and your allies gain a + 2 power bonus to attack rolls while within the zone.",("close burst",1)),
           Sustain("minor"," the zone persists.")],"runepriest","utility","2"),
      Power("Mark of Skilled Effort",["divine"],"encounter","minor",
          [Target("One ally",("ranged",10)),
          Effect("Until the end of your next turn. the target gains a + 5 power bonus to his or her next untrained skill check or a + 2 power bonus to his or her next trained skill check.")],"runepriest","utility","2"),
      Power("Rune of the Final Effort",["divine"],"encounter","minor",
          [Target("One bloodied ally",("melee",1)),
          Effect("Until the end of your next turn, the target gains a + 5 power bonus to all defenses.")],"runepriest","utility","2"),
      Power("Shield of Sacrifice",["divine","healing"],"daily","minor",
          [Target("You or one ally in burst",("close burst",5)),
          Effect("The target loses a healing surge. One or two allies within 5 squares of the target regain hit points as if they had each spent a healing surge. The target and each ally who regained hit points gain a + 5 power bonus to AC until the end of your next turn.")],"runepriest","utility","2"),
],"runepriestencounter3":[
      Power("Beacon of Vengeance",["divine","radiant","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("One ally adjacent to the target becomes invisible to it until yhe end of your next turn."),
          Other("Rune of Destruction:  If the ally's next attack against the target before the end of your next turn is against AC, it is against reflex instead if that defense is lower."),
          Other(["Rune of Protection:  The ally can use a free action to shift ",MOD("wis")," squares."])],"runepriest","encounter","3"),
      Power("Symbol of Wrath Reversed",["divine","healing","runic","wedpon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other("Rune of Destruction: The target's first attack during its next turn provokes an opportunity attack from you or an ally of your choice."),
          Other(["Rune of Protection: If the target makes any attacks during its next turn, you and each ally within 3 squares of it regain ",MOD("con")," hit points."])],"runepriest","encounter","3"),
      Power("Word of Alliance",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Other("Rune of Destruction:  Until the end of your next turn, when any ally attacks the target, he or she gains a power bonus to the attack roll equal to the number of his or her allies adjacent to the target."),
          Other("Rune of Protection:  Until the end of your next turn, the target takes a penalty to attack rolls equal to the number of your allies adjacent to it when it attacks.")],"runepriest","encounter","3"),
      Power("Word of the Blinding Shield",["divine","radiant","runic","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy makes an attack roll against your ally",("close burst",5)),
          Target("The triggering enemy in burst",("close burst",5)),
          Atk([STRMOD],"fortitude",None),
          Hit("The target is blinded until the end of its turn."),
          Other(["Rune of Destruction: The target also takes ",MOD("con")," radiant damage."]),
          Other(["Rune of Protection: The ally gains ",MOD("con")," temporary hit points."])],"runepriest","encounter","3"),
],
"runepriestdaily5":[
      Power("Cage of Light",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("Each enemy in blast",("close blast",3)),
          Atk([STRMOD],"will",damage(1,[STRMOD]),[]),
          Miss(),
          Effect("The blast creates a zone that lasts until the end of your next turn. Leaving the zone costs enemies 1 extra squares of movement. Any enemy that attacks an ally who is within the zone grants combat advantage (save ends)."),
          Sustain("minor"," the zone persists.")],"runepriest","daily","5"),
      Power("Rune of Arrow's Flight",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(1,[STRMOD]),["melee"]),
          Hit("The target grants combat advantage when targeted by area attacks and ranged attacks and has vulnerable 5 to all damage from area attacks and ranged attacks (save ends both)."),
          Aftereffect("The target grants combat advantage when targeted by area attacks and ranged attacks until the end of your next turn."),
          Miss("Half damage, and the target grants combat advantage when targeted by area attacks and ranged attacks until the end of your next turn."),
          Effect("Until the end of the encounter, enemies don't grant cover to the target against ranged attacks.")],"runepriest","daily","5"),
      Power("Rune of the Ember of Wrath",["divine","fire","weapon"],"daily","standard",
          [Target("One or two creatures"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Miss(),
          Effect("If you attack only one creature with this power, it takes ongoing 5 fire damage (save ends). If you attack two creatures, both are affected by the Ember of Wrath (save ends). Until the ember ends on a target, whenever that target is hit by a melee or a ranged attack, the other target takes 5 fire damage.")],"runepriest","daily","5"),
      Power("Rune of the Final Act",["divine","weapon; varies"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"fortitude",damage(1,[choosestat("rune of the final act",["str"],False)]),["melee"]),
          Miss(),
          Effect("The target is affected by a Deathly Rune (save ends). Until the rune ends, you and your allies gain a +1 power bonus to damage rolls against the target. Whenever you or any of your allies hit the target, the bonus increases by 1.")],"runepriest","daily","5"),
],"runepriestutility6":[
      Power("Banner of Alliance",["divine"],"daily","minor",
          [Target("One ally in burst",("close burst",5)),
          Effect("Until the end of the encounter, whenever the target takes damage, you can use an immediate interrupt to take the damage in the target's place.")],"runepriest","utility","6"),
      Power("Compact of Peace",["divine"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Each target gains a +5 power bonus to Diplomacy checks and Insight checks until the end of your next turn. The effect ends if any target makes an attack.")],"runepriest","utility","6"),
      Power("Rune of Meritorious Alacrity",["divine"],"daily","free",
          [Trigger("You roll initiative",),
          Target("You and each ally",("ranged","sight")),
          Effect("Each target gains a + 10 bonus to his or her initiative check.")],"runepriest","utility","6"),
      Power("Rune of Unyielding Steel",["divine"],"encounter","standard",
          [Target("One ally",("melee",1)),
          Effect("The target gains a +1 power bonus to all defenses until the end of your next turn or until he or she is no longer adjacent to you.")],"runepriest","utility","6"),
],"runepriestencounter7":[
      Power("Gathering Storm Intonation",["divine","lightning","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"reflex",damage(1,[STRMOD]),["melee"]),
          Hit("Until the end of your next turn, you can make the following secondary attack, using a square in the primary target's space as the origin square."),
          Other("Opportunity Action"),
          Trigger("The primary target makes an attack"),
          Target("Each enemy in burst other than the primary target",("close burst",1)),
          Atk([STRMOD],"reflex",None),
          Hit(["",MOD("str")," lightning damage."]),
          Other(["Rune of Destruction: The primary target takes ",MOD("con")," lightning damage."]),
          Other("Rune of Protection: You slide the secondary target 2 squares.")],"runepriest","encounter","7"),
      Power("Rune of Roaring Fire",["divine","fire","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Other(["Rune of Destruction: Until the end of your next turn, the target takes ",MOD("con",5)," fire damage whenever it makes an opportunity attack."]),
          Other(["Rune of Protection: Until the end of your next turn, you and your allies have concealment against the target, and the target takes a -",MOD("con")," penalty to Perception checks."])],"runepriest","encounter","7"),
      Power("Symbol of Cowardice",["divine","fear","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(2,[STRMOD]),["melee"]),
          Other("Rune of Destruction: Until the end of your next turn, each ally who ends his or her turn adjacent to the target can push the target 1 square as a free action."),
          Other(["Rune of Protection: Until the end of your next turn, the target takes a penalty to attack rolls equal to ",MOD("wis")," + the number of your allies adjacent to it."])],"runepriest","encounter","7"),
      Power("Word of Befuddlement",["divine","runic","weapon"],"encounter","standard",
          [Target("one creature"),
           Atk([STRMOD],"will",damage(2,[STRMOD])),
          Other("Rune of Destruction: Until the end of your next turn, the first time any of your allies hits the target, the target makes a melee basic attack as a free action against an enemy of your choice."),
          Other("Rune of Protection: Until the end of your next turn, the target takes a -5 penalty to attack rolls against your allies who aren't adjacent to it.")],"runepriest","encounter","7"),
],"runepriestdaily9":[
      Power("Rune of Boundless Fury",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Miss(),
          Effect("Until the end of your next turn, whenever any ally starts his or her turn adjacent to the target, that ally can make a melee basic attack against the target as a free action.")],"runepriest","daily","9"),
      Power("Rune of Death's Verge",["divine","weapon; varies"],"daily","standard",
          [Target("One creature Primary"),
          Atk([STRMOD],"fortitude",damage(2,[STRMOD]),[]),
          Special("Necrotic or Radiant damage"),
          Miss(),
          Effect("Until the end of the encounter, you can make the following secondary attack, using a square in the primary target's space as the origin square."),
          Other("Opportunity Action"),
          Trigger("The primary target drops to 0 hit points Secondary"),
          Target("Each enemy in burst",("close burst",3)),
          Atk([STRMOD],"will",None),
          Hit("The secondary target is dazed (save ends).")],"runepriest","daily","9"),
      Power("Rune of Shielding",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, when the target is included as a target of a close or an area attack that also includes you or any of your allies, the attack automatically misses you and your allies.")],"runepriest","daily","9"),
      Power("Unconquered Redoubt",["divine","radiant","weapon","zone"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([STRMOD],"fortitude",damage(1,[STRMOD]),[]),
          Hit("You push the target 4 squares."),
          Miss("Half damage, and you push the target 1 square."),
          Effect("The blast creates a zone that lasts until the end of your next turn. While within the zone, you and your allies gain a +1 power bonus to AC and resist 5 to all damage against close attacks and area attacks."),
          Sustain("minor"," the zone persists.")],"runepriest","daily","9"),
],"runepriestutility10":[
      Power("Banner of Resolution",["divine"],"daily","minor",
          [Target("One ally in burst",("close burst",5)),
          Effect("Until the end of the encounter, the target gains 5 temporary hit points whenever he or she hits with an attack.")],"runepriest","utility","10"),
      Power("Rune of Daunting Light",["divine"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("The targets don't grant combat advantage until the end of your next turn.")],"runepriest","utility","10"),
      Power("Rune of Shared Lore",["divine"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Choose a skill. Until the end of the encounter, whenever each target makes a check with that skill, he or she uses the highest bonus for that skill from among all the targets.")],"runepriest","utility","10"),
      Power("Rune of the Astral Winds",["divine"],"at-will","move",
          [Target("One ally",("(special) melee","touch")),
          Effect("You slide the target 4 squares."),
          Special("You can use this power only once per round.")],"runepriest","utility","10"),          
],"runepriestencounter13":[
      Power("Iron Redoubt",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("You mark the target until the end of your next turn."),
          Other(["Rune of Destruction: Until the mark ends, you can use an opportunity action to make a melee basic attack against the target when it makes any attack that doesn't include you as a target. You gain a +",MOD("wis")," power bonus to the attack roll and the damage roll against the target."]),
          Other(["Rune of Protection: Until the end of your next turn, the target takes a -",MOD("wis")," penalty to damage rolls."]),
          Effect("Until the end of your next turn, you have resist 5 to all damage against the target's attacks.")],"runepriest","encounter","13"),
      Power("Whirling Storm Word",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("The target grants combat advantage until the end of your next turn."),
          Other(["Rune of Destruction: Until the end of your next turn, while the target is flanked, you and your allies gain a +",MOD("con")," bonus to damage rolls against it."]),
          Other(["Rune of Protection: Until the end of your next turn, the target takes a -",MOD("con")," penalty to attack rolls."])],"runepriest","encounter","13"),
      Power("Word of Astral Defiance",["divine","radiant","runic","weapon"],"encounter","standard",
          [Target("Each creature in burst",("close burst",1)),
          Atk([STRMOD],"reflex",damage(1,[STRMOD]),[]),
          Hit("You slide the target 1 square."),
          Other(["Rune of Destruction: Until the end of your next turn, the target has vulnerability ",MOD("wis")," to all damage while adjacent to you."]),
          Other(["Rune of Protection: Until the end of your next turn, allies gain a +",MOD("wis")," power bonus to all defenses while adjacent to you."])],"runepriest","encounter","13"),
      Power("Word of Lingering Thunder",["divine","runic","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Other(["Rune of Destruction: Choose one or two allies within 5 squares of you . If the target enters a square adjacent to either of those allies during its next turn, it takes ",MOD("con")," thunder damage and falls prone."]),
          Other(["Rune of Protection: Choose one ally within 5 squares ofyou. If the target moves away from that ally during its next turn, it takes ",MOD("con")," thunder damage and falls prone."])],"runepriest","encounter","13"),
],"runepriestdaily15":[
      Power("Brand of Arcing Lightning",["divine","lightning","weapon"],"daily","standard",
          [Target("one creature"),
           Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect(["The target is affected by a lightning brand (save ends). Until the brand ends, whenever you or any of your allies hit the target, an enemy within 5 squares of the target takes ",MOD("str",5)," lightning damage."])],"runepriest","daily","15"),
      Power("Rune of Judgment's Levy",["divine","weapon"],"daily","standard",
          [Target("One creature Primary"),
          Atk([STRMOD],"reflex",damage(2,[STRMOD]),["melee"]),
          Miss(),
          Effect("You mark the target until the end of the encounter. Until the mark ends, you can make the following secondary attack against the target."),
          Other("Immediate Interrupt"),
          Trigger("The target makes an attack that doesn't include you as a target",("close burst",5)),
          Atk([STRMOD],"will",damage(1,[]),["melee"])],"runepriest","daily","15"),
      Power("Rune of the First Fortress",["divine","weapon","zone"],"daily","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),[]),
          Miss(),
          Effect("The burst creates a zone that lasts until the end of your next turn. While within the zone, you and your allies gain resist 5 to all damage. Any enemy that willingly enters the zone is immobilized until the end of your next turn."),
        Sustain("minor"," the zone persists.")],"runepriest","daily","15"),
      Power("Rune of the Flanking Wind",["divine","teleportation","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"reflex",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect("Choose one ally within 10 squares of you. You teleport that ally to a square where he or she flanks the target. Until the end of the encounter, you and your allies gain a +2 power bonus to all defenses while flanking the target.")],"runepriest","daily","15"),
],"runepriestutility16":[
      Power("Rune of Preservation",["divine","healing"],"encounter","minor",
          [Target("Two allies in burst or you and one ally in burst",("close burst",5)),
          Effect("Each target gains resist 5 to all damage until the end of your next turn. In addition, each target can spend a healing surge.")],"runepriest","utility","16"),
      Power("Rune of Reinvigoration",["divine","healing"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Each target regains hit points as if he or she had spent a healing surge and gains a +4 power bonus to all defenses until the end of your next turn.")],"runepriest","utility","16"),
      Power("Rune of the Unblinking Eye",["divine"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Each target gains a +5 power bonus to Perception checks until the end of the encounter.")],"runepriest","utility","16"),
      Power("Rune of the Warded Path",["divine"],"encounter","minor",
          [Effect("Choose up to four unoccupied squares in the burst. Until the end of your next turn, you and your allies don't provoke opportunity attacks when leaVing those squares.",("close burst",5))],"runepriest","utility","16"),
],"runepriestencounter17":[
      Power("Rune of the Astral Phalanx",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Hit("Each ally adjacent to the target can make a melee basic attack against it as a free action."),
          Other(["Rune of Destruction: Each ally gains a +",MOD("wis")," bonus to the melee basic attack's damage roll."]),
          Other(["Rune of Protection: Each ally can shift ",MOD("wis")," squares as a free action, instead of making the melee basic attack."])],"runepriest","encounter","17"),
      Power("Mark of Battle's End",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Hit("You push each enemy within 3 squares of the target 3 squares away from it."),
          Other("Rune of Destruction: You slide each ally within 3 squares of the target 3 squares to a square adjacent to the target."),
          Other("Rune of Protection: You push each ally within 3 squares of the target 3 squares away from it.")],"runepriest","encounter","17"),
      Power("Whisper of the Cunning Step",["divine","runic","teleportation","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Hit("The target is slowed until the end of your next turn."),
          Other("Rune of Destruction: One ally within 5 squares of you can use a free action to shift half his or her speed. If that ally ends this shift adjacent to the target, the ally gains a +2 power bonus to the next attack roll he or she makes against the target before the end of your next turn."),
          Other(["Rune of Protection: One ally within 5 squares of you can use a free action to teleport a number of squares equal to ",MOD("wis")," + his or her speed."])],"runepriest","encounter","17"),
      Power("Word of Healing Assault",["divine","healing","runic"],"encounter","standard",
          [Target("One or two allies in burst",("close burst",5)),
          Effect("Each target can make a basic attack as a free action. If a target's attack hits, he or she can also spend a healing surge and regain 2d10 additional hit points."),
          Other(["Rune of Destruction: The basic attacks each deal ",MOD("con")," extra damage."]),
          Other("Rune of Protection: Each target gains resist 5 to all damage until the end of your next turn.")],"runepriest","encounter","17"),
],"runepriestdaily19":[
      Power("Mark of Ill Luck",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, the target takes 5 damage both when a ranged attack against a creature within 5 squares of it misses and when a melee attack against a creature adjacent to it misses.")],"runepriest","daily","19"),
      Power("Rune of Rust",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"reflex",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect("The target takes a -4 penalty to AC (save ends)."),
          Other("Each Failed Saving Throw: The penalty increases by 2."),
          Aftereffect("The penalty persists until the end of the target's next turn.")],"runepriest","daily","19"),
      Power("Rune ofthe Threshold",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(3,[STRMOD]),["melee"]),
          Miss(),
          Effect("Until the end of your next turn, whenever the target saves against an effect, that effect instead persists until the end of the target's next turn.")],"runepriest","daily","19"),
      Power("Rune of Warding Light",["divine","radiant","weapon","zone"],"daily","standard",
          [Effect("The burst creates a zone that lasts until the end of your next turn. You and your allies have cover while within the zone. While the zone perSists, you can make the following attack, using the burst's origin square as the attack's origin square.",("close burst",2)),
          Other("Opportunity Action"),
          Trigger("An enemy enters the zone or starts its turn there"),
          Target("The triggering enemy in burst",("close burst",2)),
          Atk([STRMOD],"will",damage(1,[STRMOD]),[]),
          Hit("You slide the target 3 squares."),
          Sustain("minor","The zone persists.")],"runepriest","daily","19"),
],"runepriestutility22":[
      Power("Banner ofthe Undefeated",["divine"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Until the end of the encounter, the dying condition doesn't cause the targets to fall unconscious. Each target instead falls unconscious when he or she fails a death saving throw.")],"runepriest","utility","22"),
      Power("Banner of Victory",["divine","healing","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts until the end of your next turn. While within the zone, you and your allies have regeneration 5 while bloodied. While within the zone, your enemies have vulnerable 5 to all damage.",("close burst",5)),
           Sustain("minor","The zone persists.")],"runepriest","utility","22"),
      Power("Rune of the Hero's Resolve",["divine"],"daily","minor",
          [Target("You or one ally in burst",("close burst",5)),
          Effect("The target gains temporary hit points equal to his or her current hit point total and can take a standard action as a free action.")],"runepriest","utility","22"),
      Power("Symbol of Defiance",["divine"],"encounter","minor",
          [Target("Each bloodied ally in burst",("close burst",5)),
          Effect(["You slide each target 5 squares. Until the end of your next turn, each target gains a +",MOD("wis")," power bonus to all defenses."])],"runepriest","utility","22"),
],"runepriestencounter23":[
      Power("Mark of Untamed Wrath",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(3,[STRMOD]),["melee"]),
          Other("Rune of Destruction: Until the end of your next turn, when any of your allies hit the target, each enemy adjacent to the target takes 5 damage."),
          Other("Rune of Protection: Until the end of your next turn, the target must include your enemy nearest to it as a target of its attacks. If the target can't include any of your enemies when it makes an attack, the target is dazed until the end of its next turn, after it makes the attack.")],"runepriest","encounter","23"),
      Power("Rune of Rising Fury",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",None),
          Hit("Three of your allies can each make a basic attack against the target as a free action once during each of their next turns."),
          Other("Rune of Destruction: The allies have combat advantage against the target for the basic attacks."),
          Other("Rune of Protection: The allies can each shift 1 square as a free action after making the basic attack.")],"runepriest","encounter","23"),
      Power("Rune of the Wandering Star",["divine","radiant","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(2,[STRMOD]),["melee"]),
          Other(["Rune of Destruction: The target takes ",MOD("con")," extra radiant damage. At the end of the target's next turn, each enemy within 5 squares of it takes ",MOD("con")," radiant damage."]),
          Other(["Rune of Protection: The target takes a -2 penalty to the next attack roll it makes before the end of your next turn. At the end of the target's next turn, each enemy within 5 squares of it takes a -",MOD("con",5)," penalty to damage rolls on that enemy's next turn."])],"runepriest","encounter","23"),
      Power("Tide of Victory",["divine","fear","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(3,[STRMOD]),["melee"]),
          Other(["Rune of Destruction: You push the target a number of squares equal to the number of your allies within 3 squares of it. The target also takes ",MOD("con")," extra damage."]),
          Other("Rune of Protection: Until the end of your next turn, whenever the target makes an attack roll, it takes a penalty to that roll equal to the number of your allies within 3 squares of it.")],"runepriest","encounter","13"),
],"runepriestdaily25":[
      Power("Rune of Allied Effort",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(6,[STRMOD]),["melee"]),
          Miss(),
          Effect("Until the end of the encounter, when the target is included as a target of a close or an area attack that also includes you or your allies, you and each ally included in the attack can choose not to be targeted by it.")],"runepriest","daily","25"),
      Power("Rune of the Conquering Sign",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(4,[STRMOD]),["melee"]),
          Miss(),
          Effect("The target is affected by the conquering sign (save ends). Until the sign ends, each ally within 5 squares of the target can make a basic attack against it as a free action at the start of each of the target's turns.")],"runepriest","daily","25"),
      Power("Rune of the Penultimate Step",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"fortitude",None),
          Hit("The target is stunned (save ends)."),
          Other("First Failed Saving Throw: The target is unconscious instead of stunned (save ends)."),
          Miss("The target is stunned (save ends).")],"runepriest","daily","25"),
      Power("Sylarian Sign",["divine","weapon"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([STRMOD],"reflex",damage(4,[STRMOD]),[]),
          Hit("The target doesn't benefit from resistances or immunities until the end of the encounter. In addition, the target takes a -10 penalty to damage rolls that deal acid, cold, fire, lightning. or thunder damage (save ends)."),
          Miss("Half damage, and the target's resistances are reduced by 10 until the end of the encounter. In addition, the target takes a -5 penalty to damage rolls that deal acid, cold, fire, lightning, or thunder damage (save ends).")],"runepriest","daily","25"),
],"runepriestencounter27":[
      Power("Invocation of Carceri",["divine","radiant","runic","weapon","zone"],"encounter","standard",
          [Effect("Before the attack, the burst creates a zone that lasts until the end of your next turn.",("close burst",1)),
          Target("One, two, or three enemies in burst"),
          Atk([STRMOD],"reflex",damage(1,[STRMOD]),[]),
          Hit("The target can't leave the zone until the end of your next turn."),
          Other(["Rune of Destruction: When a target within the zone hits or misses a creature outside the zone, that target takes ",MOD("con")," radiant damage and falls prone."]),
          Other("Rune of Protection: While within the zone, each target takes a -4 penalty to attack rolls against creatures outside the zone.")],"runepriest","encounter","17"),
      Power("Word of Divine Battle",["divine","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Other("Rune of Destruction: Until the end of your next turn, your allies gain a +4 power bonus to attack rolls against the target."),
          Other(["Rune of Protection: Until the end of your next turn, each ally you can see gains a +",MOD("wis")," power bonus to all defenses."])],"runepriest","encounter","27"),
      Power("Word of Vengeful Thunder",["divine","runic","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(1,[STRMOD]),["melee"]),
          Other("Rune of Destruction: Choose up to two allies within 10 squares of you. Until the end of your next turn, any enemy that deals damage to either ally takes thunder damage equal to half the damage it dealt."),
          Other("Rune of Protection: Choose up to two allies within 10 squares of you. Until the end of your next turn, those allies take half damage from all attacks.")],"runepriest","encounter","27"),
      Power("Word of Weal And Woe",["divine","healing","radiant","runic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(3,[STRMOD]),["melee"]),
          Hit("Each ally within 5 squares of you can spend a healing surge."),
          Other(["Rune of Destruction: For each ally who spends a healing surge, the target takes ",MOD("wis")," extra damage."]),
          Other("Rune of Protection: For each ally who spends a healing surge, the target and each enemy within 2 squares of it take a -1 penalty to attack rolls and damage rolls until the end of your next turn.")],"runepriest","encounter","27"),
],"runepriestdaily29":[
      Power("Brand of Death's Gate",["divine","weapon; varies"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"AC",damage(7,[choosestat("brand of death's gate",["str"],False)]),["melee"]),
          Miss(),
          Effect("The first time you use this power each day, you regain the use of the power if it reduces the target to 0 hit points.")],"runepriest","daily","29"),
      Power("Rune of Awakening",["divine","healing","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"reflex",damage(3,[STRMOD]),["melee"]),
          Hit("Three allies you can see regain all their hit points."),
          Miss("Half damage, and one ally you can see regains all his or her hit points.")],"runepriest","daily","29"),
      Power("Rune of Pacifism",["divine","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([STRMOD],"will",damage(5,[STRMOD]),["melee"]),
          Hit("The target cannot attack (save ends)."),
          Miss("Half damage, and the target cannot attack until the end of your next turn.")],"runepriest","daily","29"),
]}
    addPowers(runepriestList)

def seeker():
    seekerList={"seekerat-will1":[
      Power("Biting Swarm",["primal","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(raising(1,20),[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("The target and each enemy adjacent to it take a -2 penalty to attack rolls until the start of your next turn."),
          Special("You can use this power as a ranged basic attack.")],"seeker","at-will","1"),
      Power("Elemental Spirits",["primal","weapon; varies"],"at-will","standard",
          [Target("One creature"),
          Special("Choose cold, fire, lightning, or thunder whenever you use this power, Your choice determines the power's damage type."),
          Atk([WISMOD],"AC",damage(raising(1,20),[WISMOD]),["ranged"]),
          Hit("Of the chosen type. until the end of your next turn, any creature that starts its turn adjacent to the target takes damage of the chosen type equal to your dexterity modifier.")],"seeker","at-will","1"),
      Power("Grappling Spirits",["primal","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(raising(1,20),[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("The target is slowed and can't shift until the end of its next turn."),
          Special("You can use this power as a ranged basic attack.")],"seeker","at-will","1"),
      Power("Guardian Harrier",["primal","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(raising(1,20),[WISMOD]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(raising(1,20),[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("If the target doesn't end its next turn at least 2 squares away from its starting position, it takes damage equal to your strength modifier."),
          Special("You can use this power as a ranged basic attack.")],"seeker","at-will","1"),
      Power("Thorn Cloud Shot",["poison","primal","weapon","zone"],"at-will","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(raising(1,20),[WISMOD]),["ranged"]),
          Hit("The attack creates a zone in a burst 1 centered on the target. the zone lasts until the start of your next turn. any creature that ends its turn within the zone takes poison damage equal to your wisdom modifier.")],"seeker","at-will","1"),
],"seekerencounter1":[
      Power("Flickering Arrow",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["ranged"]),
          Hit(["Until the end of your next turn, the target can't benefit from cover, concealment, or total concealment, and enemies take a -",orfeat(2,MOD("dex",2),"bloodbond")," penalty to attack rolls while within 2 squares of the target."])],"seeker","encounter","1"),
      Power("Mischief Spirits",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("rangedbasicattack")],"AC",damage(1,[WISMOD,lambda x:x.statret("rangedbasicdamage")],[1,6]),["ranged"]),
          Hit("If the target moves on its next turn, it falls prone at the end of that turn."),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","1"),
      Power("Possessing Spirits",["charm","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"will",damage(1,[WISMOD]),["ranged"]),
          Hit("The target makes a melee basic attack as a free action against an enemy adjacent to it. if that attack hits, the target and that enemy are also dazed until the end of your next turn.")],"seeker","encounter","1"),
      Power("Serpent Arrow",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
           Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["melee"],["heavy thrown","light thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["ranged"]),
          Hit(["At the end of the target's next turn, you slide the target and each enemy adjacent to it ",orfeat("1 square.",[MOD("str")," squares."],"spiritbond")])],"seeker","encounter","1"),
      Power("Spider Spirits",["poison","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,8]),["ranged"]),
          Hit("The target is slowed and takes a -2 penalty to all defenses until the end of your next turn.")],"seeker","encounter","1"),
],"seekerdaily1":[
      Power("Fungal Blooms",["conjuration","poison","primal","weapon"],"daily","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("The primary target is immobilized (save ends)."),
          Effect("You conjure four fungal blooms in four different squares adjacent to the primary target. A fungal bloom can make the following secondary attack, using the fungal bloom's square as the origin square. Once a fungal bloom attacks, it disappears. It otherwise lasts until the end of the encounter."),
          Other("Opportunity Action"),
          Trigger("An enemy enters the fungal bloom's square"),
          Target("Each enemy in burst",("close burst",1)),
          Atk([WISMOD],"fortitude",None),
          Hit(["",MOD("wis")," poison damage."])],"seeker","daily","1"),
      Power("Rime Strike",["cold","primal","weapon","zone"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage."),
          Effect("The attack creates a zone of difficult terrain in a burst 1 centered on the target. The zone lasts until the end of the encounter. Any creature that enters the zone or starts its turn there takes 5 cold damage. As a minor action, you can end the zone.")],"seeker","daily","1"),
      Power("Spirit Rider",["primal","weapon"],"daily","standard",
          [Target("one creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(2,[WISMOD]),["ranged"]),
          Effect(["Until the end of the encounter, the first time the target misses with an attack each round, each enemy adjacent to the target takes ",MOD("wis")," damage."])],"seeker","daily","1"),
      Power("Storm Of Spirit Shards",["primal","weapon"],"daily","standard",
          [Target("Each enemy in burst"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,6]),[]),
          Miss()],"seeker","daily","1"),
      Power("Swarming Bats",["primal","weapon","zone"],"daily","standard",
          [Target("Each enemy in burst",("area burst",2,10)),
          Atk([WISMOD],"reflex",damage(1,[WISMOD]),[]),
          Effect("You slide each target 1 square. The burst creates a zone of difficult terrain that lasts until the end of your next turn. The zone is also difficult terrain for flying creatures. While within the zone, enemies grant combat advantage. As a move action, you can move the zone 4 squares."),
          Sustain("minor"," The zone persists.")],"seeker","daily","1"),
],"seekerutility2":[
      Power("Harrying Spirits",["primal"],"daily","free",
          [Trigger("An enemy you can see saves against an effect that a save can end",("close burst",10)),
          Target("One enemy in burst other than the triggering enemy",("close burst",10)),
          Effect("Whenever the target attacks you before the end of the encounter. the target grants combat advantage until the end of its next turn.")],"seeker","utility","2"),
      Power("Hunter's Instinct",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends. when you make a ranged weapon attack against any creature within 2 squares of you, you can score a critical hit on a roll of 19-20.")],"seeker","utility","2"),
      Power("Stag's Grace",["primal"],"encounter","minor",
          [Effect("Choose one enemy you can see. Until the end of your next turn, you do not provoke opportunity attacks from that enemy.")],"seeker","utility","2"),
      Power("Stone Spirit Ward",["primal"],"encounter","minor",
          [Effect("Until the end of your next turn, you gain resistance to all damage equal to your Strength modifler.")],"seeker","utility","2"),
],"seekerencounter3":[
      Power("Burrowing Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,8]),["ranged"]),
          Hit("The first time the target makes an attack before the end of your next turn, each enemy adjacent to the target takes 5 damage.")],"seeker","encounter","3"),
      Power("Escaping Shot",["primal","psychic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"will",damage(1,[WISMOD]),["ranged"]),
          Hit("The target is dazed until the end of your next turn."),
          Effect(["You shift ",orfeat("1 square.",[MOD("dex")," squares."],"bloodbond")]),
          Special("Making this attack doesn't provoke an opportunity attack from the target.")],"seeker","encounter","3"),
      Power("Spectral Scorpion Sting",["conjuration","poison","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("You conjure a spirit scorpion in an unoccupied square adjacent to the target. the scorpion lasts until the end of your next turn. any enemy that starts its turn adjacent to the scorpion takes 5 poison damage if it ends its turn not adjacent to the scorpion.")],"seeker","encounter","3"),
      Power("Stampede Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"fortitude",damage(1,[WISMOD],[1,6]),["ranged"]),
          Hit("You push the target 1 squares, then push each enemy adjacent to it 1 squares."),
          Other("Spiritbond:  The number of squares you push the target equals your Strength modifier.")],"seeker","encounter","3"),
      Power("Winter Spirit",["cold","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"fortitude",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("The target is immobilized until the end of its next turn."),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","3"),
],"seekerdaily5":[
       Power("Corralling Shot",["primal","reliable","weapon"],"daily","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),[]),
          Hit("Make a secondary attack."),
          Target("One or two creatures that are within 5 squares of the primary target"),
          Atk([WISMOD],"AC",damage(1,[]),[]),
          Hit("You slide the secondary target 5 squares to a square adjacent to the primary target.")],"seeker","daily","5"),
      Power("Ensnaring Shot",["primal","weapon","zone"],"daily","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"reflex",damage(1,[WISMOD]),[]),
          Hit("The primary target is restrained (save ends)."),
          Effect("The attack creates a zone of difficult terrain in a burst 1 centered on the primary target. The zone lasts until the end of your next turn. Until the zone ends, you can make the following secondary attack, using a square within the zone as the origin square."),
          Other("Opportunity Action"),
          Trigger("An enemy enters the zone or starts its turn there"),
          Target("The triggering enemy in burst",("close burst",1)),
          Atk([WISMOD],"reflex",None),
          Hit("The secondary target is immobilized (save ends)."),
         Sustain("minor"," The zone persists.")],"seeker","daily","5"),
      Power("Call Of The Ghost Wolf",["conjuration","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["melee"],["light thrown"],["heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["ranged"]),
          Effect("You conjure a ghost wolf in an unoccupied square adjacent to the target. The wolf occupies its square and lasts until the end of your next turn. Your allies can flank enemies with the wolf and deal1d6 extra damage when they hit enemies flanked by it."),
           Sustain("minor"," The wolf persists, and each enemy adjacent to it takes a -1 penalty to attack rolls until the end of your next turn.")],"seeker","daily","5"),
      Power("Protecting Spirits",["primal","weapon"],"daily","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([WISMOD],"will",damage(1,[WISMOD],[1,6]),[]),
          Hit("You push the target 2 squares and knock it prone."),
          Miss("Half damage, and you push the target 1 square.")],"seeker","daily","5"),
      Power("Wildfire Shot",["fire","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"reflex",damage(1,[WISMOD]),["ranged"]),
          Hit("Ongoing 5 fire damage (save ends).  Whenever the target takes this ongoing damage, each enemy adjacent to the target takes ongoing 5 fire damage (save ends)."),
          Miss("Half damage. and ongoing 5 fire damage (save ends).")],"seeker","daily","5"),
],"seekerutility6":[
      Power("Blurring Stride",["illusion","primal"],"daily","minor",
          [Effect("You assume a blurry form until the end of your next turn. Until this form ends. if you end a move action at least 3 squares from where you started. you gain concealment until the end of your next turn."),
           Sustain("minor"," The form persists.")],"seeker","utility","6"),
      Power("Cloak Of Quills",["primal"],"encounter","minor",
          [Effect(["Until the end of your next turn. whenever an adjacent enemy hits you with an opportunity attack, that enemy takes ",MOD("str")," damage."])],"seeker","utility","6"),
      Power("Eagle's Aim",["primal"],"encounter","minor",
          [Effect("Until the end of your next turn, you take no penalty to attack rolls for attacking at long range.")],"seeker","utility","6"),
      Power("Earthbond Gift",["primal"],"encounter","minor",
          [Requirement("You must be bloodied or weakened."),
          Effect(["You gain ",MOD("2wis")," temporary hit points. If you are weakened, you can also make a saving throw against a single effect on you that is weakening you."])],"seeker","utility","6"),
],"seekerencounter7":[
      Power("Feyjump Shot",["primal","teleportation","weapon"],"encounter","standard",
          [Target("One or two creatures"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("You teleport the target 3 squares."),
          Effect("If you hit both targets, you can swap their positions when you teleport them, rather than teleporting each one 3 squares. If you do so, both targets are dazed until the end of your next turn.")],"seeker","encounter","7"),
      Power("Thunder Spirit",["primal","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit(["The target falls prone and is deafened until the end of your next turn.",orfeat("",["  Each enemy adjacent to the target takes ",MOD("dex")," thunder damage and is deafened until the end of your next turn."],"bloodbond")])],"seeker","encounter","7"),
      Power("Tremor Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,8]),["ranged"]),
          Hit("Make a secondary attack that is an area burst 1 centered on the primary target."),
          Target("Each enemy in burst other than the primary target"),
          Atk([WISMOD],"fortitude",None),
          Hit("You slide the secondary target 1 square, and it grants combat advantage until the end of your next turn.")],"seeker","encounter","7"),
      Power("Wasp Sting Shot",["poison","primal","weapon","zone"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")],[1,6]),["ranged"]),
          Hit(["The attack creates a zone in a burst 1 centered on the target. the zone lasts until the end of your next turn. Any enemy that enters the zone or starts its turn there takes ",MOD("wis")," poison damage."]),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","7"),
      Power("Windstorm Strike",["primal","weapon"],"encounter","standard",
          [Target("Each enemy in burst"),
          Atk([WISMOD],"fortitude",damage(1,[WISMOD]),[]),
          Hit(["You push the target ",orfeat(2,MOD("str"),"spiritbond")," squares."])],"seeker","encounter","7"),
],"seekerdaily9":[
      Power("Binding Shot",["primal","weapon"],"daily","standard",
          [Target("Two creatures within 5 squares of each other"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,8]),["ranged"]),
          Miss(),
          Effect("If both attacks hit, you slide one of the targets 5 squares to a square adjacent to the other target, and each target is bound by vines (save ends). Until this effect ends on a target, that target can't move by any means to a square that isn't adjacent to the other target. When a target makes a saving throw against this effect, the target can take 10 damage to gain a +5 bonus to the saving throw.")],"seeker","daily","9"),
      Power("Nature's Vengeance",["primal","weapon","zone"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["ranged"]),
          Hit("You slide the target 1 square, and it is immobilized (save ends)."),
          Miss(),
          Effect("The attack creates a zone in a burst 1 centered on the target. The zone lasts until the end of your next turn. Whenever an enemy within the zone deals damage with an attack, that enemy is immobilized (save ends). If that enemy is already immobilized, it takes 5 damage, and it is restrained instead of immobilized (save ends)."),
          Sustain("minor"," The zone persists.")],"seeker","daily","9"),
      Power("Spirits Of Fire And Ice",["cold","fire","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("Choose either the target or one creature adjacent to it. the creature you choose takes ongoing 5 cold damage and is immobilized (save ends both). Whenever that creature takes this ongoing damage, each enemy adjacent to it takes 5 cold damage."),
          Miss("Half damage, and the target takes ongoing 5 cold damage (save ends).")],"seeker","daily","9"),
      Power("Squall Spirit",["lightning","primal","thunder","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"fortitude",damage(1,[WISMOD],[2,8]),["ranged"]),
          Hit("Each enemy adjacent to the target takes 5 thunder damage."),
          Miss()],"seeker","daily","9"),
],"seekerutility10":[
      Power("Burrowing Stride",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends, you can use a move action to move either your speed through loose earth or half your speed through solid stone. You must end the move in an unoccupied space.")],"seeker","utility","10"),
      Power("Feywild Jaunt",["primal"],"encounter","move",
          [Effect("You are removed from play. At the start of your next turn, you reappear in an unoccupied space of your choice. That space must be within a number of squares of the space you left equal to your speed.")],"seeker","utility","10"),
      Power("Host Of Sparrows",["polymorph","primal"],"daily","immediate reaction",
          [Trigger("You are damaged by an attack"),
          Effect("You assume the form of a cloud of flying sparrows until the start of your next turn, and you fly your speed without provoking opportunity attacks. While in this form. you are insubstantial, you can't attack, and you can't pick up or manipulate objects. If you are still airborne at the start ofyour turn, you land without taking falling damage.")],"seeker","utility","10"),
      Power("Sheltering Underbrush",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts until the end of your next turn. You and your allies have cover while within the lone, and the zone is difficult terrain for your enemies.",("close burst",2)),
          Sustain("minor"," The zone persists.")],"seeker","utility","10"),
],"seekerencounter13":[
      Power("Feymire Trap",["primal","teleportation","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,6]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,6]),["ranged"]),
          Hit("You teleport the target 3 squares, and it is slowed until the end of its next turn.")],"seeker","encounter","13"),
      Power("Rabid Shot",["poison","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"fortitude",damage(1,[WISMOD]),["ranged"]),
          Hit("The target must use a free action to charge a creature of your choice. If the charge attack misses or the target can't charge anyone, the target takes 10 poison damage.")],"seeker","encounter","13"),
      Power("Raven Wing Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")],[1,8]),["ranged"]),
          Hit(["If the target doesn't end its next turn at least 2 squares away from its starting position, it takes ",dmg(0,1,8),"."]),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","13"),
      Power("Swarming Spirits",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit(["Until the end of your next turn, the target is blinded, and enemies take a -2 penalty to attack rolls while within ",orfeat(2,MOD("dex",2),"bloodbond")," squares of the target."])],"seeker","encounter","13"),
      Power("Wind Spirits",["primal","weapon"],"encounter","standard",
          [Target("Each enemy in burst",("area burst",1,"weapon range")),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),[]),
          Hit(["You push the target ",orfeat(2,MOD("str"),"spiritbond")," squares and knock it prone."]),
          Special("Using this power doesn't provoke opportunity attacks.")],"seeker","encounter","13"),
],"seekerdaily15":[
      Power("Corrosive Slime",["acid","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("The target and each enemy adjacent to it take ongoing 10 acid damage (save ends)."),
          Miss("Half damage, and each enemy adjacent to the target takes 5 acid damage."),
          Effect("Any creature reduced to 0 hit points by this power dissolves into a puddle of corrosive slime that fills the creature's space. Until the end of the encounter, any creature that enters that space or starts its turn there takes 5 acid damage.")],"seeker","daily","15"),
      Power("Fey Sinkhole",["primal","psychic","teleportation","weapon","zone"],"daily","standard",
          [Effect("The burst creates a zone that lasts until the end of the encounter or until you dismiss it as a minor action. Until the zone ends, you can make the following attack, using a square within the zone as the origin square."),
           Other("Opportunity Action"),
          Trigger("A creature starts its turn within the zone"),
          Target("The triggering creature in burst",("close burst",1)),
          Atk([WISMOD],"will",None),
          Hit("5 psychic damage, and the target is dazed until the start of its next turn. If the target leaves the zone before the end of its turn, you can use a free action to teleport the target to a square within the zone.")],"seeker","daily","15"),
      Power("Triple Raptor Shot",["primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"reflex",damage(1,[WISMOD]),["ranged"]),
          Special("Make the attack three times."),
          Miss()],"seeker","daily","15"),
      Power("Wave Of Sleep",["primal","sleep","weapon"],"daily","standard",
          [Target("Each enemy in burst"),
          Atk([WISMOD],"fortitude",None),
          Hit("The target is dazed (save ends)."),
          Other("First Failed Saving Throw:  The target is unconscious instead of dazed (save ends)."),
          Miss("The target is dazed (save ends).")],"seeker","daily","15"),
],"seekerutility16":[
      Power("Bramble Hide",["primal"],"encounter","minor",
          [Effect(["Until the end of your next turn, you gain a +2 bonus to AC, and any creature that hits you with a melee attack takes ",MOD("wis",10)," damage."])],"seeker","utility","16"),
      Power("Earthfriend",["primal"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",5)),
          Effect("Each target ignores difficult terrain until the end of your next turn."),
          Sustain("minor"," The effect persists.")],"seeker","utility","16"),
      Power("Ephemeral Wings",["primal"],"encounter","immediate reaction",
          [Trigger("An enemy damages you with a melee or a close attack"),
          Effect(["You fly a ",MOD("wis")," squares and must land in a square that is farther away from the enemy than where you started. This movement doesn't provoke opportunity attacks."])],"seeker","utility","16"),
      Power("Sure Sight",["primal"],"daily","minor",
          [Effect("Until the end of the encounter, you gain darkvision, ignore concealment and total concealment, and are immune to the blinded condition.")],"seeker","utility","16"),
],"seekerencounter17":[
      Power("Convocation Of Arrows",["primal","weapon"],"encounter","standard",
          [Target("One or two creatures"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")],[1,8]),["ranged"]),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","17"),
      Power("Flesh-Tether Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit(["If the target moves before the end of your next turn, it takes 5 damage and is dazed until the end of its next turn.",orfeat(""," The target also grants combat advantage until the end of your next turn.","bloodbond")])],"seeker","encounter","17"),
      Power("Infestation Of Moths",["polymorph","primal","weapon"],"encounter","standard",
          [Target("One creature"),
           Atk([WISMOD],"AC",damage(1,[WISMOD],[2,8]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,8]),["ranged"]),
          Hit(["You slide the target ",orfeat(3,MOD("str",2),"spiritbond")," squares. until the start of your next turn, the target is insubstantial, and enemies are blinded while adjacent to it."])],"seeker","encounter","17"),
      Power("Sprite Dance",["primal","teleportation","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit("You teleport the target 5 squares. one ally adjacent to the destination space can then make a melee basic attack against the target as an immediate reaction.")],"seeker","encounter","17"),
],"seekerdaily19":[
      Power("Captivating Missile",["charm","primal","reliable","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("The target is dominated (save ends)."),
          Special("You can use this power as a ranged basic attack.")],"seeker","daily","19"),
      Power("Conflagration Spirit",["fire","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,8]),["ranged"]),
          Hit("Ongoing 10 fire damage (save ends)."),
          Miss(),
          Effect("Each enemy adjacent to the target takes 10 fire damage.")],"seeker","daily","19"),
      Power("Fury Spirits",["conjuration","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,8]),[]),
          Effect("You conjure four fury spirits in four different squares adjacent to the primary target. Each spirit can make the following secondary attack, using the spirit's square as the origin square. Once a spirit attacks, it disappears. It otherwise lasts until the end of the encounter."),
          Other("Opportunity Action"),
          Trigger("An enemy enters the spirit's square"),
          Target("Each enemy in burst",("Close burst", 1)),
          Atk([WISMOD],"reflex",None),
          Hit(["",MOD("wis",5),"damage."])],"seeker","daily","19"),
      Power("Grasping Vines",["primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[3,8]),["ranged"]),
          Hit("The target is then immobilized until it has taken at least 10 damage."),
          Miss("Half damage, and the target is immobilized until the end of your next turn.")],"seeker","daily","19"),
      Power("Rending Vines",["primal","weapon","zone"],"daily","standard",
          [Target("Each enemy in burst"),
          Atk([WISMOD],"reflex",damage(1,[WISMOD],[1,8]),[]),
          Hit("The target is restrained (save ends)."),
          Effect("The burst creates a zone of difficult terrain that lasts until the end of your next turn. Any enemy that starts its turn within the zone takes 5 damage. Until the zone ends, you can make the following secondary attack, using a square within the zone as the origin square."),
          Other("Free Action"),
          Trigger("An enemy enters the zone"),
          Target("The triggering enemy in burst",("Close burst",1)),
          Atk([WISMOD],"reflex",None),
          Hit("5 damage. and the secondary target is restrained (save ends)."),
          Sustain("minor"," The zone persists.")],"seeker","daily","19"),
],"seekerutility22":[
      Power("Guiding Spirit",["primal"],"encounter","minor",
          [Effect("You gain a +5 power bonus to the next ranged attack roll you make before the end of your turn.")],"seeker","utility","22"),
      Power("Land Passage",["primal"],"encounter","immediate interrupt",
          [Trigger("You are targeted by an attack",("melee",1)),
          Target("You or you and one ally",("melee",1)),
          Effect("The targets are removed from play. At the start of your next turn, they each reappear in unoccupied spaces within 5 squares of the space you left.")],"seeker","utility","22"),
      Power("Nature's Passage",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends, you are phasing.")],"seeker","utility","22"),
      Power("Primal Morass",["primal","zone"],"daily","standard",
          [Effect("The burst creates a zone that lasts until the end of your next turn. Each square within the zone requires 2 extra squares of movement to enter. Creatures ignore this effect while flying.",("area burst",5,10)),
           Sustain("minor"," The zone persists.")],"seeker","utility","22"),
],"seekerencounter23":[
      Power("Quill Storm",["primal","weapon"],"encounter","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,8]),["ranged"]),
          Hit("Make a secondary attack that is an area burst 3 centered on the primary target."),
          Target("Each creature in burst other than the primary target"),
          Atk([WISMOD],"reflex",damage([1,8],["ranged"])),
          Hit("The secondary target takes a -2 penalty to attack rolls (save ends).")],"seeker","encounter","23"),
      Power("Roaring Missile",["primal","thunder","weapon"],"encounter","standard",
          [Target("Each enemy in burst"),
          Atk([WISMOD],"fortitude",damage(1,[WISMOD]),[]),
          Hit("Until the end of your next turn, the target is deafened and dazed, and each enemy adjacent to it is deafened.")],"seeker","encounter","23"),
      Power("Sinking Earth",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"AC",damage(2,[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("Until the end of your next turn, the target is restrained, and enemies adjacent to it are slowed."),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","23"),
      Power("Spirit Inferno",["fire","primal","weapon"],"encounter","standard",
          [Requirement("You must be wielding a light thrown or a heavy thrown weapon to make a melee attack with this power."),
          Target("One creature"),
          Atk([WISMOD],"reflex",damage(2,[WISMOD]),["melee","light thrown","heavy thrown"]),
          Atk([WISMOD],"reflex",damage(2,[WISMOD]),["ranged"]),
          Hit(["Until the end of your next turn, the target is immobilized and takes ",orfeat(5,MOD("str",5),"spiritbond")," fire damage whenever an enemy within 5 squares of it makes an attack."])],"seeker","encounter","23"),
      Power("Stride-Breaking Shot",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[2,6]),["ranged"]),
          Hit(["Until the end ofyour next turn, the target takes ",orfeat(5,MOD("dex",5),"bloodbond")," damage whenever it moves on its turn or uses an attack power."])],"seeker","encounter","23"),
],"seekerdaily25":[
      Power("Lightning Burst",["lightning","primal","weapon"],"daily","standard",
          [Target("One or two creatures Primary"),
          Atk([WISMOD],"AC",damage(2,[WISMOD]),["ranged"]),
          Miss(),
          Effect("Make a secondary attack for each primary target. Each attack is an area burst 1 centered on a different primary target."),
          Target("Each creature in burst other than the primary targets"),
          Atk([WISMOD],"reflex",damage([1,10],[WISMOD]))],"seeker","daily","25"),
      Power("Slavering Sentinels",["conjuration","fear","primal","weapon"],"daily","standard",
          [Effect("You conjure four spirit sentinels in four different unoccupied squares in the burst. The sentinels occupy their squares, and they last until the end of your next turn. The sentinels grant cover to you and your allies. As a move action, you can move a single sentinel to a square within 10 squares of you. While the sentinels persist, you can make the following attack through them."),
           Other("Opportunity Action"),
          Trigger("An enemy starts its turn adjacent to a sentinel"),
          Target("The triggering enemy",("Melee",1)),
          Atk([WISMOD],"reflex",damage([3,8],[WISMOD])),
          Hit("You push the target 5 squares from the sentinel."),
          Sustain("minor"," The sentinels persist.")],"seeker","daily","25"),
      Power("Thundering Shot",["primal","thunder","weapon"],"daily","standard",
          [Target("One creature Primary"),
          Atk([WISMOD],"AC",damage(2,[WISMOD]),[]),
          Effect("Make a secondary attack that is an area burst 1 centered on the primary target."),
          Target("Each creature in burst"),
          Atk([WISMOD],"fortitude",None),
          Hit("10 thunder damage, and the secondary target is dazed and slowed (save ends both).")],"seeker","daily","25"),
      Power("Wind Of Decay",["poison","primal","weapon","zone"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD],[2,8]),["ranged"]),
          Hit("The target and each enemy adjacent to it are dazed (save ends)."),
          Effect("The attack creates a zone in a burst 1 centered on the target. The zone lasts until you dismiss it as a minor action or until the end of the encounter. Any creature that ends its turn within the zone takes 10 poison damage. As a move action, you can move the zone 4 squares.")],"seeker","daily","25"),
],"seekerencounter27":[
      Power("Abundant Growth",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD],[2,6]),["ranged"]),
          Hit("The target is slowed until the start of your next turn. The first time the target takes damage while slowed by this power, the target is instead immobilized until the end of your next turn. The first time the target takes damage while immobilized by this power, the target falls prone.")],"seeker","encounter","27"),
      Power("Angry Earth",["primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,6]),["ranged"]),
          Hit("The target and all enemies within 1 squares of it fall prone.")],"seeker","encounter","27"),
      Power("Devouring Arrow",["necrotic","primal","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([WISMOD,lambda x:x.statret("basicrangedattack")],"fortitude",damage(1,[WISMOD,lambda x:x.statret("basicrangeddamage")]),["ranged"]),
          Hit("The target and each creature adjacent to it are weakened until the end of your next turn."),
          Special("You can use this power as a ranged basic attack.")],"seeker","encounter","27"),
      Power("Razor Hail",["cold","primal","weapon"],"encounter","standard",
          [Target("Each creature in burst"),
          Atk([WISMOD],"reflex",damage(1,[WISMOD]),[]),
          Hit(["If the target moves more than half its speed on its next turn, it falls prone at the end of that turn.",orfeat(""," If the target moves at all on its next turn, it grants combat advantage until the end of your next turn.","bloodbond")])],"seeker","encounter","27"),
      Power("Widows' Net",["poison","primal","weapon"],"encounter","standard",
          [Target("One creature"),
           Atk([WISMOD],"AC",damage(1,[WISMOD]),["melee"],["light thrown","heavy thrown"]),
          Atk([WISMOD],"AC",damage(1,[WISMOD]),["ranged"]),
          Hit(["You slide the target ",orfeat("1 square",[MOD("str")," squares"],"spiritbond"),". Each enemy adjacent to the target at the end of this movement is restrained until the end of your next turn."])],"seeker","encounter","27"),
],"seekerdaily29":[
      Power("Baleful Shot",["primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(1,[WISMOD],[1,8]),["ranged"]),
          Hit("The target is stunned (save ends)."),
          Miss("Half damage, and the target is dazed (save ends)."),
          Effect("Any enemy that can see the target and isn't immune to fear takes a -1 penalty to attack rolls until the start of your next turn.")],"seeker","daily","29"),
      Power("Bones Of The Earth",["primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD],[3,8]),["ranged"]),
          Hit("The target takes 10 damage whenever it moves on its turn (save ends)."),
          Miss("Half damage, and the target takes 5 damage whenever it moves on its turn (save ends).")],"seeker","daily","29"),
      Power("Trampling Shot",["primal","weapon"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([WISMOD],"reflex",damage(2,[WISMOD]),[]),
          Hit("You knock the target prone."),
          Effect("You make a ranged basic attack with a +2 bonus to attack rolls for each target you hit with the close blast and a +5 bonus to damage rolls for each target you missed with it.")],"seeker","daily","29"),
      Power("Uttercold",["cold","primal","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([WISMOD],"AC",damage(2,[WISMOD],[2,8]),["ranged"]),
          Hit("The target is restrained and gains vulnerable 10 to all damage (save ends both). In addition, any enemy that starts its turn adjacent to the target takes 5 cold damage and is slowed until the start of its next turn."),
          Miss("Half damage, and the target is slowed (save ends).")],"seeker","daily","29"),
]}
    addPowers(seekerList)

def shaman():
    shamanList={"shamanat-will1":[
      Power("Claws of the Eagle",["primal","spirit"],"at-will","standard",
        [Target("one creature",("melee spirit",1)),
         Effect("One ally adjacent to your spirit companion or within 3 squares of you can make a basic attack against the target.  If the ally's attack hits, the target grants combat advantage until the end of your next turn.")],"shaman","at-will",1),
      Power("Defending Strike",["implement","primal","spirit"],"at-will","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([raising(1,20),8],[WISMOD])),
         Effect("Until the end of your next turn, you and your allies gain a +1 power bonus to AC while adjacent to your spirit companion")],"shaman","at-will",1),
      Power("Haunting Spirits",["implement","primal","psychic"],"at-will","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"will", damage([raising(1,20),6],[WISMOD])),
         Hit("Until the end of your next turn, the target grants combat advantage to an ally of your choice")],"shaman","at-will",1),
      Power("Protecting Strike",["implement","primal","spirit"],"at-will","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"will", damage([raising(1,20),8],[WISMOD])),
         Hit(["Each ally adjacent to your spirit gains ",MOD("con")," temporary hit points."])],"shaman","at-will",1),
      Power("Stalker's Strike",["implement","primal","spirit"],"at-will","standard",
        [Special(["If the target is bloodied you gain a +",lambda x:x.mod("int")/2," bonus to the attack roll"]),
         Target("one creature",("melee spirit",1)),Atk([WISMOD],"will", damage([raising(1,20),10],[WISMOD])),
         Hit("Until the end of your next turn, your spirit companion can flank with you and your allies")],"shaman","at-will",1),
      Power("Spirit of the Tempest",["implement","primal","thunder"],"at-will","standard",
        [Target("one creature",("melee",1)),Atk([WISMOD],"fortitude", damage([raising(1,20),8],[WISMOD])),
         Effect("One ally within 2 squares of either you or your spirit companion can make a saving throw.")],"shaman","at-will",1),
      Power("Voice of Battle",["implement","primal","psychic","spirit"],"at-will","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"will", damage([raising(1,20),6],[WISMOD])),
         Effect("One ally within 2 squares of your spirit companion can shift 2 squares as a free action.")],"shaman","at-will",1),
      Power("Watcher's Strike",["implement","primal","spirit"],"at-will","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([raising(1,20),8],[WISMOD])),
         Hit("Until the end of your next turn, you and your allied gain a +1 bonus to attack rolls and a +5 bonus to Perception checks while adjacent to your spirit companion.")],"shaman","at-will",1),
      Power("Wrath of Winter",["cold","implement","primal","teleportation"],"at-will","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"foritude", damage([raising(1,10),10],[WISMOD])),
         Hit("You can teleport your spirit companion to a space adjacent to the target.")],"shaman","at-will",1),
],"shamanencounter1":[
      Power("Call to the Ancestral Warrior",["implement","primal","spirit"],"encounter","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([1,10],[WISMOD])),
          Hit("Until the end of your next turn, you and your allies gain a +2 to all defenses while next to your spirit companion.")],"shaman","attack",1),
      Power("Call to the Ancient Defender",["implement","primal","spirit"],"encounter","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"foritude", damage([2,8],[WISMOD])),
          Effect("Until the end of your next turn, you and your allied gain a +5 bonus to all defenses against opportunity attacks while adjacent to your spirit companion")],"shaman","attack",1),
      Power("Thunder Bear's Warding",["implement","primal","thunder"],"encounter","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"foritude", damage([1,6],[WISMOD]))
          ,Hit(["You and your allies gain resistance ",MOD("con")," to all damage while adjacent to your spirit companion."])
          ,Other(["",orfeat("",["Effect: You or an ally within 5 squares of you gains ",MOD("con")," temporary hit points"],"protector spirit")])],"shaman","attack",1),
      Power("Twin Panthers",["implement","primal"],"encounter","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([1,8],[WISMOD]))
          ,Hit(["Until the end of your next turn, you and your allies have combat advantage when making melee attacks against any enemy adjacent to your spirit companion."])
          ,Effect("Make the attack one more time against the same target or a different one")
          ,Other(["",orfeat("",["Special: If the target is bloodied, gain a +",lambda x:x.mod("int")/2," bonus to the attack roll"],"stalker spirit")])],"shaman","attack",1),
],"shamandaily1":[
      Power("Blessing of the Seven Winds",["implement","primal","zone"],"daily","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"foritude", damage([2,10],[WISMOD]))
          ,Hit("Slide the target 2 squares")
          ,Miss()
          ,Effect("This attack creates a zone of swirling winds in a burst 1 centered on the target.  The zone lasts until the end of the encounter.  As a moveaction, you can move the zone 5 squares.  As a minor action, you can slide each creature within the zone 1 square.")],"shaman","attack",1),
      Power("Cleansing Wind of the North",["cold","implement","primal"],"daily","standard",
        [Target("each enemy in the blast",("close blast",5)),Atk([WISMOD],"fortitude", damage([1,10],[WISMOD])),
           Miss(),
           Effect("Each ally in the blast makes a saving throw with a +5 power bonus")],"shaman","attack",1),
      Power("Spirit of the Healing Flood",["healing","implement","primal"],"daily","standard",
        [Target("one each enemy in the burst",("close burst",5)),Atk([WISMOD],"foritude", damage([1,8],[WISMOD]))
          ,Miss()
          ,Effect("Until the end of the encounter, you and each ally in the burst gain regeneration 2 while bloodied.  As a minor action, a character can end this effect on himself or herself to regain 10 hit points.")],"shaman","attack",1),
      Power("Wrath of the Spirit World",["implement","primal","psychic"],"daily","standard",
        [Target("each enemy in burst and each enemy adjacent to your spirit companion",("close burst",2)),Atk([WISMOD],"will", damage([3,6],[WISMOD]))
          ,Hit("Knock the target prone")
          ,Miss()],"shaman","attack",1)
],"shamanutility2":[
      Power("Bounds of the Clan",["primal"],"encounter","immediate interrupt",
          [Trigger("An ally within 10 squares of you takes damage",("ranged",10)),
           Target("the triggering ally"),
           Effect("You and the target each take half of the damage")],"shaman","utility2"),
      Power("Spirit Call",["primal"],"encounter","minor",
          [Target("each of your shaman conjurations and zones in the burst",("close burst",10)),
            Effect("You move each target 5 squares")],"shaman","utility2"),
      Power("Spirit of Life",["healing","primal"],"daily","standard",
          [Target("one ally in burst",("close burst",10)),
           Effect("The target regains hit points as if he or she had spent a healing surge",("close burst",10))],"shaman","utility2"),
      Power("Spirits of Battle",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone filled with ancestral spirits that lasts until the end of the encounter.  While within the zone, your allies gain a +1 bonus to attack rolls.",("area burst",5,10))],"shaman","utility2"),
],"shamanencounter3":[
      Power("Call to the Savage Elder",["implement","primal","spirit"],"encounter","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([2,8],[WISMOD]))
          ,Hit(["Until the end of your next turn, any ally adjacent to your spirit companion gains a +",MOD("wis")," power bonus to damage rolls of melee attacks."])],"shaman","attack",3),
      Power("Lightning Panther Spirit",["implement","lightning","primal"],"encounter","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([1,10],[WISMOD]))
          ,Hit(["Until the end of your next turn, any ally adjacent to your spirit companion can shift as a minor action.",orfeat("","  Until the end of your next turn, any ally ignores difficult terrain in your spirit companion's space and in squares adjacent to it.","stalker spirit")])],"shaman","attack",3),
      Power("Rimefire Spirit",["cold","fire","implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"will", damage([2,6],[WISMOD]))
          ,Hit("Until the end of your next turn ,any enemy adjacent to your spirit companion gains vulnerable 5 cold and vulnerable 5 fire.")],"shaman","attack",3),
      Power("Spring Renewal Strike",["implement","primal"],"encounter","standard",
        [Target("one creature",("melee spirit",1)),Atk([WISMOD],"fortitude", damage([2,8],[WISMOD]))
         , Effect(["One ally adjacent to your spirit companion can spend a healing surge",orfeat(".",[" and regain an additional ",MOD("con")," hit points."],"protector spirit")])],"shaman","attack",3)
],"shamandaily5":[
      Power("Earthrage Spirit",["implement","primal"],"daily","standard",
        [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"reflex", damage([2,6],[WISMOD])),
          Hit("You knock the target prone"),
          Miss("Half damage."),
          Effect("Each target drops prone whenever it is hit by an attack (save ends).")],"shaman","attack",5),
      Power("Spirit of the Hawk's Wind",["implement","primal","radiant","zone"],"daily","standard",
        [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([2,8],[WISMOD])),
           Hit("The target is blinded until the end of your next turn"),
           Miss("Half damage."),
           Effect("The attack creates a zone of uplifting winds in a burst 3 centered on the target.  The zone lasts until the end of the encounter.  While within the zone, any ally can uce a move action to shift 4 squares and ignore difficult terrain during the shift.  As a move action, you can move the zone 5 squares.")],"shaman","attack",5),
      Power("Spirit of the Shielding Fire",["fire","implement","primal"],"daily","standard",
          [Target("one ally in burst",("close burst",5)),
           Effect("The primary target gains 10 temporary hit points.  Until the end of the encounter, the primary target gainst resist 5 fire, and you can make the following attack as an immediate interrupt:"),
           Trigger("An enemy hits the primary target with a melee attack"),
           Target("the triggering enemy",("ranged",5)),Atk([WISMOD],"reflex", damage([2,6],[WISMOD]))],"shaman","attack",5),
      Power("War Chieftain's Blessing",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([2,10],[WISMOD])),
          Miss(),
          Effect("Until the end of the encounter, you and your allies gain a +2 bonus to attack rolls against the target.")],"shaman","attack",5),
],"shamanutility6":[
      Power("Blessing of the Iron Tree",["primal"],"daily","minor",
          [Target("One bloodied ally in burst",("close burst",5)),
          Effect("The target gains reist 5 to all damage until the end of the encounter.")],"shaman","utility",6),
      Power("Spirit of the Keeper",["primal","zone"],"daily","minor",
          [Effect("The zone creates a burst of bright light that lasts until the end of your next turn.  You and your allies ignore cover, superior cover, concealment, and total concealment when attacking any enemy that is within the zone.  While within the zone, any enemy takes a -5 penalty to stealth checks.",("area burst",5,10))],"shaman","utility",6),
      Power("Spirit of the Keeper",["healing","primal"],"daily","minor",
          [Target("One creature in burst",("close burst",5)),Effect("The target can spend a healing surge and regain 1d6 additional hit points.  Until the end of the encounter, any ally adjacent to your spirit comapanion doesn't grant combat advantage.")],"shaman","utility",6),
      Power("Sudden Restoration",["primal"],"encounter","minor",
          [Target("one or two allies",("ranged",10)),
           Effect("Each target makes a saving throw.")],"shaman","utility",6),
],"shamanencounter7":[
      Power("Call to the Blood Dancer",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"will", damage([2,10],[WISMOD])),
           Hit(["Until the end of your next turn, any ally can score a critical hit on a roll of 18-20 ",orfeat("",["and gains a +",MOD("int")," bonus to damage rolls "],"stalker spirit"),"while adjacent to your spirit companion."])],"shaman","attack",7),
      Power("Call to the Howling Storm",["implement","lightning","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([2,8],[WISMOD])),
          Hit("One ally adjacent to your spirit companion can shift 5 squares as a free action.")],"shaman","attack",7),
      Power("Thunderstorm Spirit",["implement","lightning","primal","thunder"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([1,12],[WISMOD])),
          Hit("Until the end of your next turn, when you and your allies hit any enemy adjacent to your spirit companion, that enemy takes 1d6 extra lightning and thunder damage.")],"shaman","attack",7),
      Power("Winter Wind Spirit",["cold","implement","primal"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"fortitude", damage([1,10],[WISMOD])),
          Hit(["Before the end of your next turn, as an immediate interrupt, you can grant an ally adjacent to your spirit companion a +",orfeat(4,lambda x:3+x.mod("con"),"protector spirit")," bonus to AC against an attack that hits."])],"shaman","attack",7)
],"shamandaily9":[
      Power("Ancient Warlord's Inpiration",["conjuration","implement","primal"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([1,10],[WISMOD])),
          Effect("You conjure an ancient warlord spirit in an unoccupied square adjacent to the target.  The spirit lasts until the end of the encounter.  If an ally starts his or her turn adjacent to the spirit or in its space, as an immediate reaction you can allow that ally to make a basic attack as a free action.  As a move action, you can move the spirit 5 squares.")],"shaman","attack",9),
      Power("Clever Trickster Spirit",["implement","primal","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([2,8],[WISMOD])),
           Miss(),
           Effect("The target is slowed and grants combat advantage (save ends both)."),
           Aftereffect("The enemy nearest to the target is slowed and grants combat advantage (save ends both).")],"shaman","attack",9),
      Power("Raging Storm Spirit",["implement","lightning","primal","thunder","zone"],"daily","standard",
          [Target("one creature in burst",("area burst",5,10)),Atk([WISMOD],"reflex", damage([3,6],[WISMOD])),
          Effect("The burst creates a zone of thunder that lasts until the end of the encounter.  Any ally deals 1d6 extra thunder damage when he or she hits an enemy that is within the zone.")],"shaman","attack",9),
      Power("Spirit of Autumn's Reaping",["healing","implement","necrotic","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([2,10],[WISMOD])),
          Hit("The target gains vulnerable 5 to all damage (save ends)."),
          Miss("Half damage, and the target gains vulnerable 2 to all damage (save ends)."),
          Effect("You and each ally within 10 squares of you regain 5 hit points.")],"shaman","attack",9)
],"shamanutility10":[
      Power("Primal Gust",["primal"],"encounter","minor",
          [Target("One creature",("ranged",10)),
           Effect("You slide the target 3 squares")],"shaman","utility",10),
      Power("Rock Shield Spirits",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone filled with rock spirits that lasts until the end of the encounter.  While within the zone, any ally gains a +2 power bonus to AC and Fortitude.  As a move action, you can move the zone 5 squares.",("area burst",1,5))],"shaman","utility",10),
      Power("Spirits of the Shadowed Moon",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone of shimmering lights and shadows that lasts until the end of the encounter.  While within the zone, your allies gain concealment and can make Stealth checks to become hidden.  As a move action, you can move the zone 5 squares.")],"shaman","utility",10),
      Power("Spirit Summons",["primal"],"daily","free",
          [Effect("Until the end of the encounter, you can use your Call Spirit Companion power to conjure a second spirit companion.  When you attack with a spirit power, you choose which spirit companion to use for the attack.  When an effect applies to creatures adjacent to your spirit companion, the effect applies to creatures adjacent to both spirit companions.  The second spirit companion disappears at the end of the encounter.")],"shaman","utility",10),
],"shamanencounter13":[
      Power("Call to the Indomitable Defender",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"fortitude", damage([2,6],[WISMOD])),
          Hit(["Until the end of your next turn, you and your allies gain resist ",orfeat(5,lambda x:x.mod("con")+4,"protector spirit")," to all damage while adjacent to your spirit companion."])],"shaman","attack",13),
      Power("Call to the Laughing Fortune",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
          Hit(["Until the start of your next turn, if an ally adjacent to your spirit companion misses with an attack, you can use an immediate interrupt to allow that ally to reroll the attack.",orfeat("",["  The ally gains a +",MOD("int")," bonus to the new attack roll."],"stalker spirit")])],"shaman","attack",13),
      Power("Howling Gust",["implement","primal","teleportation"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"reflex", damage([2,8], [WISMOD])),
           Hit("Slide the target 2 squares.  You teleport one ally adjacent to your spirit companion 5 squares.")],"shaman","attack",13),
      Power("Spirit of Cleansing Light",["implement","primal","radiant"],"encounter","standard",
          [Target("one or two creatures",("ranged",5)),Atk([WISMOD],"will", damage(3, [WISMOD])),
          Hit("One ally adjacent to your spirit companion makes a saving throw with a +2 bonus.")],"shaman","attack",13)
],"shamandaily15":[
      Power("Guardian of the Primal Copse",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([WISMOD],"fortitude", damage([4,8],[WISMOD])),
           Miss(),
           Effect("After the attack, the target's defenses all equal the lowest of its defenses (save ends).")],"shaman","attack",15),
      Power("Searing Wind of the South",["fire","implement","primal"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"fortitude", damage([4,6], [WISMOD])),
           Miss(),
           Effect("You slide each ally in the blast to another space in or adjacent to the blast.")],"shaman","attack",15),
      Power("Spirit of the Wolf Pack",["implement","primal"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"will", damage([3,6], [WISMOD])),
           Miss(),
           Effect("The target grants combat advantage, and an attack deals 1d6 extra damage to the target on a hit if the attacker is flanking the target (save ends both).")],"shaman","attack",15),
      Power("Storm Guardian Spirit",["implement","primal","thunder"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"reflex", damage([3,10], [WISMOD])),
           Miss(),
           Effect("Choose an ally within 5 squares of the target.  Until the end of the encounter, when an enemy hits that ally, that enemy takes 5 thunder damage and is pushed 1 square from the ally.")],"shaman","attack",15)
],"shamanutility16":[
      Power("Fate Weaver's Shield",["primal"],"encounter","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("The target gains a +5 bonus to all defenses until the end of your next turn or until it attacks.")],"shaman","utility",16),
      Power("Forge the Chains of Life",["healing","primal"],"daily","immediate interrupt",
          [Trigger("An ally within 10 squares of you fails a death saving throw"),
           Target("The triggering ally in burst",("close burst",10)),
           Effect("The target regains hit points equal to his or her bloodied value.")],"shaman","utility",16),
      Power("Spirit Binding",["primal"],"encounter","minor",
          [Effect("If your spirit companion is granting any benefits until the end of this turn to allies adjacent to it, the benefits instead last until the end of your next turn.")],"shaman","utility",16),
      Power("Spirits of the Dancing Zephyr",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone of wind that lasts until the end of the encounter.  Whenever you or an ally is hit or missed while within the zone, that character can shift 1 square as an immediate reaction.  As a move action, you can move the zone 5 squares.",("area burst",5,10))],"shaman","utility",16),
],"shamanencounter17":[
      Power("Call to the Lashing Behemoth",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"fortitude", damage([2,10], [WISMOD])),
           Hit("The target falls prone.  Until the end of your next turn, while adjacent to your spirit companion, any ally can knock a target prone that he or she hits.  If the target is already prone, it takes 1d8 extra damage.")],"shaman","attack",17),
      Power("Shackles of the Mountain",["implement","primal"],"encounter","standard",
          [Target("one or two creatures",("ranged",10)),Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
          Hit(["Until the end of your next turn, any enemy uses the lower of its ",orfeat("AC and Reflex","AC, Fortitude, and Reflex","stalker spirit")," as its AC while adjacent to your spirit companion."])],"shaman","attack",17),
      Power("Spirit Bond of Vengance",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([2,6], [WISMOD])),
          Hit(["Until the end of your next turn, the target takes ",dmg(0,1,6)," when any ally hits an enemy, other than the target, that is adjacent to your spirit companion."])],"shaman","attack",17),
      Power("Spirit of Spring's Renewal",["healing","implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,6], [WISMOD])),
          Hit(["Each ally adjacent to your spirit companion can spend a healing surge",orfeat(".",[" and regain ",lambda x:x.mod("con")*2," additional hit points."],"protector spirit")])],"shaman","attack",17),
],"shamandaily19":[
      Power("Great Bear Guardian",["conjuration","implement","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([2,10], [WISMOD])),
          Hit("You push the target 2 squares and knock it prone."),
          Miss("Half damage, and you push the target 1 square."),
          Effect("You conjure a bear spirit in an unoccupied square adjacent to the target.  The spirit lasts until the end of the encounter.  The spirit occupies 1 square.  Enemies cannot move through its space, but allies can.  As a move action, you can move the spirit 5 squares."),
          Line("The spirit can flank enemies with you and your allies, and it can make opportunity attacks against your enemies:"),
          Atk([WISMOD],"reflex",damage([2,10],[WISMOD]))],"shaman","attack",19),
      Power("Horns of the Undefeated Khan",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([WISMOD],"reflex", damage([4,8], [WISMOD])),
           Miss(),
           Effect("Until the end of your next turn, you and your allies gain a +2 bonus to attack rolls and a +5 bonus to damage rolls against the target.  As a free action before your next turn, each ally within 20 squares of the target can make a saving throw and shift 3 squares as the first action of his or her turn.")],"shaman","attack",19),
      Power("Spirit of the Shield Bearer",["conjuration","implement","primal"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"will", damage([3,12], [WISMOD])),
           Hit("The target takes a -4 penalty to AC (save ends)."),
           Aftereffect("The target takes a -2 penalty to AC (save ends)."),
           Miss("Half damage, and the target takes a -2 penalty to AC (save ends)."),
          Effect("You conjure the spirit of the shield breaker in a space adjacent to the target.  The spirit lasts until the end of the encounter.  As a move action, you can move the spirit 5 squares.  While adjacent to the spirit or in its space, you and your allies gain a +5 power bonus to damage rolls.")],"shaman","attack",19),
      Power("Tendrils of the Fate Weaver",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([4,10], [WISMOD])),
           Hit("The target is slowed and can't gain combat advantage against any target (save ends both).  The target takes a -5 penalty to saving throws against this effect."),
           Miss(),
          Effect("Choose an ally within 10 squares of you.  Until the end of the encounter, if any enemy hits that ally, that enemy is immobilized until the end of its next turn.")],"shaman","attack",19)
],"shamanutility22":[
      Power("Bounty of Life",["healing","primal"],"daily","minor",
          [Target("Each ally in burst",("close burst",10)),
           Effect("Each target gains regeneration 5 until the end of the encounter.  The regeneration increases to 10 while a target is bloodied.")],"shaman","utility",22),
      Power("Call the Dead",["healing","primal"],"daily","standard",
          [Target("Each dead ally in burst",("close burst",5)),
           Effect("Each target returns to life and spends a healing surge.  Each target is also considered to have failed no death saving throws during this encounter.")],"shaman","utility",22),
      Power("Doorway to the Spirit World",["primal","zone"],"daily","minor",
          [Effect("The burst creates a zone of primal energy that lasts until the end of the encounter.  While within the zone, you and your allies are insubstantial.",("area burst",1,10))],"shaman","utility",22),
      Power("Spirit of the World Healer",["healing","primal"],"daily","minor",
          [Target("One ally in burst",("close burst",10)),
           Effect("The target regains all its hit points.")],"shaman","utility",22)
],"shamanencounter23":[
      Power("Call to the Primal Protector",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([2,10], [WISMOD])),
          Hit(["Until the end of your next turn, any ally takes half damage from any source while adjacent to your spirit companion.",orfeat("",["  Each ally adjacent to your spirit companion gains ",lambda x:x.mod("con")+5," temporary hit points "],"protector spirit")])],"shaman","attack",23),
      Power("Call to the Relentless Hunter",["implement","primal","spirit"],"encounter","immediate reaction",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"fortitude", damage([4,6], [WISMOD])),
          Hit(["Until the end of your next turn, when any ally adjacent to your spirit companion misses with an at-will or encounter attack power, that attack deals ",dmg(orfeat(0,INTMOD,"stalker spirit"),1,10),"."])],"shaman","attack",23),
      Power("Spirit of the Death Raven",["implement","primal","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([4,8], [WISMOD])),
          Hit("Before the end of your next turn, you roll a d20 the next time the target is hit by an attack that isn't a critical hit.  If you roll a 15 or higher, that attack becomes a critical hit.")],"shaman","attack",23),
      Power("Twin Tempest Spirits",["implement","lightning","primal","teleportation","thunder"],"encounter","standard",
          [Target("one or two creatures",("ranged",10)),Atk([WISMOD],"reflex", damage([3,10], [WISMOD])),
          Hit("If either attack hits, you can teleport each ally adjacent to your spirit companion 10 squares.")],"shaman","attack",23)
],"shamandaily25":[
      Power("Ironborn Spirit",["implement","primal","zone"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([3,10], [WISMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is immobilized until the end of your next turn."),
          Effect("The attack creates a zone that is a burst 5 centered on the target.  The zone lasts until the end of the encounter.  While within the zone, any ally gains a +2 power bonus to AC and can negate being pulled, pushed, or slid.")],"shaman","attack",25),
      Power("Spirit of the Laughing Wanderer",["implement","primal","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,10], [WISMOD])),
           Hit("The target is stunned (save ends)."),
           Aftereffect("The enemy nearest to the target is stunned (save ends)."),
           Miss("Half damage, and the target is dazed and slowed (save ends both)."),
           Aftereffect("The enemy nearest to the target is dazed and slowed (save ends both).")],"shaman","attack",25),
      Power("Spirit of the World Serpent",["implement","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"reflex", damage([5,8], [WISMOD])),
          Hit("You knock thge target prone.  Whenever the target stands up, it takes 15 damage (save ends)."),
          Aftereffect("Whenever the target stands up, it takes 10 damage (save ends)."),
          Aftereffect("Whenever the target stands up, it takes 5 damage (save ends)."),
          Miss("Half damage.  Whenever the target stands up, it takes 10 damage (save ends)."),
          Effect("At the start of the target's turn, it and any enemy within 3 squares of it are knocked prone (save ends).")],"shaman","attack",25),
      Power("Western Wind of Storms",["implement","lightning","primal","teleportation"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"reflex", damage([3,6], [WISMOD])),
          Hit("You teleport the target 10 squares."),
          Miss("Half damage, you teleport the target 5 squares."),
          Effect("You teleport each ally in the blast 10 squares.")],"shaman","attack",25),
],"shamanencounter27":[
      Power("Blood Reaper Spirits",["implement","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([4,6], [WISMOD])),
           Hit(["Until the end of your next turn, any ally gains a +",orfeat(2,lambda x:x.mod("int")+2,"stalker spirit")," bonus to damage rolls while adjacent to your spirit companion."]),
           Effect(["Make the attack two more times against the same target or different ones.  The bonus to your allies' damage rolls increases to +",orfeat(4,lambda x:x.mod("int")+4,"stalker spirit")," if the attack hits twice and +",orfeat(6,lambda x:x.mod("int")+6,"stalker spirit")," if it hits three times."])],"shaman","attack",27),
      Power("Call to the Cleansing Fire",["fire","implement","primal","radiant","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([4,8], [WISMOD])),
           Hit(["Until the end of your next turn, each ally gains a +",orfeat(5,lambda x:3+x.mod("con"),"protector spirit")," bonus to saving throws while adjacent to your spirit companion."])],"shaman","attack",27),
      Power("Call to the Great Hunter",["implement","primal","spirit"],"encounter","standard",
          [Target("one creature",("melee spirit",1)),Atk([WISMOD],"reflex", damage([4,8], [WISMOD])),
           Hit("One ally adjacent to your spirit companion gains a +5 bonus to attack rolls until the end of your next turn.")],"shaman","attack",27),
      Power("Spirit of Elder Wisdom",["implement","lightning","primal"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"will", damage([3,8], [WISMOD])),
           Hit("The target is dazed until the end of your next turn.  Any ally adjacent to your spirit companion who doesn't hit with an encounter power before the end of your next turn does not expend the use of that power.")],"shaman","attack",27),
],"shamandaily29":[
      Power("Death Spirit",["implement","necrotic","primal"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([WISMOD],"fortitude", damage([7,10], [WISMOD])),
           Miss(),
           Effect(["When any creature drops to 0 hit points or fewer within 10 squares of the target, the target takes ",dmg(0,3,10)," (save ends)."]),
           Aftereffect(["When any creature drops to 0 hit points or fewer within 10 squares of the target, the target takes ",dmg(0,2,10)," (save ends)."])],"shaman","attack",29),
      Power("Sea of Serpents",["implement","primal","zone"],"daily","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([WISMOD],"reflex", damage([5,6], [WISMOD])),
           Miss(),
           Effect("The blast creates a zone of serpent spirits that lasts until the end of the encounter.  Any ally that starts his or her turn within the zone gains three benefits until the start of his or her next turn: The ally can shift 3 squares as a minor action, gainst combat advantage against each enemy, and can use an opportunity action to make a melee basic attack against any enemy adjacent to him or her that shifts.")],"shaman","attack",29),
      Power("Spirits of Mist",["implement","primal","zone"],"daily","standard",
          [Target("one creature in burst",("area burst",3,10)),Atk([WISMOD],"fortitude", damage([4,10],[WISMOD])),
          Miss(),
          Effect("The burst creates a zone of mist that lasts until the end of the encounter.  While within the zone, you and your allies are insubstantial.  As a move action, you can move the zone 3 squares.")],"shaman","attack",29),
      Power("Spirit of the Unbroken Vow",["implement","primal","psychic"],"daily","standard",
          [Target("one creature"),Atk([WISMOD],"will", damage([7,6],[WISMOD])),
           Miss(),
          Hit("Choose an ally within 10 squares of you.  Until the end of the encounter, that ally gains a +@ bonus to attack rolls against the target.  Whenever the ally damages the target, this bonus increases by 1 to a maximum of +10.  If the ally doesn't attack the target during his or her turn, the bonus decreases by 2 to a minimum of +0.")],"shaman","attack",29)
]}
    addPowers(shamanList)

def sorcerer():
    sorcererList={"sorcererat-will1":[
     Power("Acid Orb",["acid","arcane","implement"],"at-will","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD,lambda x:x.statret("basicrangedattack")],"reflex", damage([raising(1,20),10],[CHAMOD,lambda x:x.statret("basicrangeddamage")])),
          Special("This power can be used as a ranged basic attack.")],"sorcerer","at-will",1),
      Power("Blazing Starfall",["arcane","fire","implement","radiant","zone"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"reflex",damage([raising(1,20),4],[CHAMOD])),
          Other(["",orfeat("",["Effect:  The burst creates a zone bounded by burning ground that lasts until the end of your next turn. Whenever an enemy within the zone leaves it, that enemy takes ",MOD("str")," fire damage."],"cosmic magic")])],"sorcerer","at-will","1"),
     Power("Burning Spray",["arcane","fire","implement"],"at-will","standard",
          [Target("each crature in blast",("close blast",3)),Atk([CHAMOD],"reflex", damage([raising(1,20),8],[CHAMOD])),
           Other(["",orfeat("",["Hit: The next enemy that hits you with a melee attack before the end of your next turn takes ",MOD("str")," fire damage."],"dragon magic")])],"sorcerer","at-will",1),
     Power("Chaos Bolt",["arcane","implement", "psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([raising(1,20),10],[CHAMOD])),
           Hit(["",orfeat("Secondary attack only available to Wild Magic sorcerers.","If you rolled an even number for the primary attack roll, make a secondary attack.","wild magic")]),
           Target("One creature within 5 squares of the target last hit by this power"),Atk([CHAMOD],"will",damage([1,6],[])),
           Hit("If you rolled an even number for the secondary attack roll, repeat the secondary attack.  You can attack a creature only once with a single use of this power.")],"sorcerer","at-will",1),
      Power("Dragonfrost",["arcane","cold","implement"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD,lambda x:x.statret("basicrangedattack")],"fortitude", damage([raising(1,20),8],[CHAMOD,lambda x:x.statret("basicrangeddamage")])),
           Hit("You push the target 1 square."),
          Special("This power can be used as a ranged basic attack.")],"sorcerer","at-will",1),
      Power("Lightning Strike",["arcane","implement","lightning"],"at-will","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([raising(1,20),8],[CHAMOD])),
          Hit("A creature of your choice other than the target and within 10 squares of the target takes lightning damage equal to your dexterity modifier."),
          Other(["",orfeat("",["Effect: You can apply your Storm Power bonus either to the damage roll against the target or to the damage taken by the enemy within 10 squares of the target."],"storm magic")])],"sorcerer","at-will","1"),
     Power("Storm Walk",["arcane","implement","thunder"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([raising(1,20),8],[CHAMOD]))
          ,Effect("Before or after the attack, you shift 1 square.")],"sorcerer","at-will",1),
],"sorcererencounter1":[
     Power("Bedeviling Burst",["arcane","implement","psychic"],"encounter","standard",
          [Target("one or two creatures in burst",("close burst",3)),Atk([CHAMOD],"will", damage([1,10],[CHAMOD])),
           Hit(["You push the target ",MOD("dex")," squares.",orfeat("","  If you rolled an even number on the attack roll, you slide the target instead of pushing it.","wild magic")])],"sorcerer","attack",1),
     Power("Explosive Pyre",["arcane","fire","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD]))
          ,Hit(["Until the start of your next turn, any enemy that enters a square adjacent to the target takes ",dmg(0,1,6),"."])],"sorcerer","attack",1),
     Power("Frostbind",["arcane","cold","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([3,6],[CHAMOD]))
          ,Hit("The target takes a -2 penalty to Reflex until the end of your next turn.")],"sorcerer","attack",1),
      Power("Mists Of Disarray",["arcane","implement","psychic"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"will",damage([1,8],[CHAMOD])),
          Hit(["You push the target 1 square.",orfeat("",["  If you rolled an even number on the attack roll,you slide the target ",MOD("dex")," squares instead of pushing it."],"wild magic")])],"sorcerer","encounter","1"),
      Power("Pinning Bolt",["arcane","implement","lightning"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,6],[CHAMOD])),
          Hit("You knock the target prone, and the target is slowed until the end of your next turn.")],"sorcerer","encounter","1"),
      Power("Ray Of The Moon",["arcane","cold","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,6],[CHAMOD])),
          Hit(["The target cannot shift until the end of its next turn.",orfeat("","  The target takes a -1 penalty on attack rolls until the end of its next turn.","cosmic magic")])],"sorcerer","encounter","1"),
      Power("Tearing Claws",["arcane","implement"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([CHAMOD],"reflex",damage([1,10],[CHAMOD])),
          Hit(["You push the target 1 square.",orfeat("","  If the target is bloodied, you push it 3 squares instead of 1.","dragon magic")])],"sorcerer","encounter","1"),
     Power("Tempest Breath",["acid","arcane","implement"],"encounter","standard",
          [Target("one creature",("close blast",3)),Atk([CHAMOD],"reflex", damage([2,6],[CHAMOD]))
          ,Hit(["The target can't gain combat advantage against any creature until the end of your next turn.",orfeat("","  You gain concealment until the end of your next turn.","dragon magic")])],"sorcerer","attack",1),
     Power("Thunder Slam",["arcane","implement", "thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([2,10],[CHAMOD]))
          ,Hit("You push the target 3 squares.")],"sorcerer","attack",1),
      Power("Thundering Roar",["arcane","fear","implement","thunder"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"sorcerer","encounter","1"),
      Power("Whirlwind",["arcane","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Other(["",orfeat("","Special:  You can choose not to target a creature in the origin square of the burst.","storm magic")]),
          Atk([CHAMOD],"fortitude",damage([1,10],[CHAMOD])),
          Hit("You knock the target prone.")],"sorcerer","encounter","1"),
],"sorcererdaily1":[
     Power("Chromatic Orb",["arcane","implement",";","varies"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,10],[CHAMOD])),
           Hit("Roll a d6 to determine the attack's damage type and effect"),
           Line("1. Yellow: Radiant damage, and the target is dazed (save ends)."),
           Line(["2. Red: Fire damage, and each creature adjacent to the target takes ",MOD("dex")," fire damage."]),
           Line("3. Green: Poison damage, and ongoing 5 poison damage (save ends)."),
           Line(["4. Turquoise: Lightning damage, and you slide the target ",MOD("dex")," squares."]),
           Line("5. Blue: Cold damage, and the target is immobilized (save ends)."),
           Line("6. Violet: Psychic damage, and the target takes a -2 penalty to AC (save ends)."),
           Miss(["",dmg(0,1,10)," damage.  Roll a d6 to determine the attack's damage type and effect, as above."])],"sorcerer","attack",1),
      Power("Cosmos Call",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit(["",orfeat("Roll a d6 to determine","Choose","cosmic magic")," the attack's addtional benefit."]),
          Other(["",orfeat("1-2:","*","cosmic magic"),"  The target takes ongoing 5 radiant damage (save ends), and the power gains the radiant keyword."]),
          Other(["",orfeat("3-4:","*","cosmic magic"),"  The target is slowed (save ends)."]),
          Other(["",orfeat("5-6:","*","cosmic magic"),"  The target is dazed (save ends)."]),
          Miss()],"sorcerer","daily","1"),
     Power("Dazzling Ray",["arcane","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([6,6],[CHAMOD])),
          Other(["",orfeat("",["Special: If you rolled an even number on the attack roll, the target takes a -",MOD("dex")," penalty to attack rolls against you (save ends)"],"wild magic")]),
          Miss("Half damage.")],"sorcerer","attack",1),
     Power("Dragonfang Bolt",["arcane","implement", "poison"],"daily","standard",
          [Target("one or two creatures",("ranged",10)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
           Hit("Ongoing 5 poison damage."),
          Miss(["",dmg(CHAMOD,2,8)])],"sorcerer","attack",1),
      Power("Howling Tempest",["arcane","implement","thunder","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Other(["",orfeat("","Special:  You can choose not to target a creature in the origin square of the burst.","storm magic")]),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Hit(["The target is deafened (save ends). You slide the target ",MOD("dex")," squares."]),
          Effect(["The burst creates a zone of deafening wind that lasts until the end of your next turn. Each creature that starts its turn within the zone takes ",MOD("cha")," thunder damage. As a move action, you can move the zone 3 squares."]),
          Sustain("minor"," The zone persists.")],"sorcerer","daily","1"),
      Power("Ice Javelins",["arcane","cold","implement"],"daily","standard",
          [Target("One, two, or three creatures",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([1,10],[CHAMOD])),
          Hit("Ongoing 5 cold damage (save ends)."),
          Miss()],"sorcerer","daily","1"),
     Power("Lightning Breath",["arcane","implement", "lightning"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"reflex", damage([3,8],[CHAMOD])),
          Miss("Half damage."),
          Effect(["Until the end of your next turn, whenever an enemy hits you with a melee attack, you push that enemy 1 square.",orfeat("","  The enemy also takes 5 lightning damage.","dragon magic")])],"sorcerer","attack",1),
      Power("Shocking Magnetism",["arcane","implement","lightning"],"daily","standard",
          [Target("One or two creatures",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Hit(["You pull the target ",MOD("dex")," squares."]),
          Effect(["Until the end of the encounter, each creature that starts its turn adjacent to you takes ",MOD("dex")," lightning damage. You can dismiss the effect as a free action."])],"sorcerer","daily","1"),
],"sorcererutility2":[
      Power("Absorb Storm",["arcane"],"daily","immediate interrupt",
          [Trigger("You take cold, lightning, or thunder damage"),
          Effect(["Until the end of the encounter, you gain ",MOD("cha")," resistance to the triggering damage type. Your next attack before the end of the encounter that deals the triggering damage type gains a +1 bonus to the attack roll."])],"sorcerer","utility","1"),
      Power("Deep Shroud",["arcane"],"daily","minor",
          [Effect("You create a shroud of supernatural shadow around you. Until the end of your next turn, the space you occupy and each square adjacent to you are heavily obscured."),
           Sustain("minor"," The effect persists.")],"sorcerer","utility","1"),
      Power("Dragonflame Mantle",["arcane","fire"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack."),
           Effect(["Until the end of your next turn, you gain a +1 power bonus to all defenses, and any creature that hits you with a melee attack takes ",dmg(0,1,6),"."])],"sorcerer","utility2"),
      Power("Elemental Shift",["arcane"],"daily","minor",
          [Effect(["You can change the resistance granted by your Dragon Soul or Wild Soul to one of the other damage types for the encounter.  In addition, one ally adjacent to you gains resist ",raising(5,10)," to the damage type that you resist until the end of the encounter."])],"sorcerer","utility2"),
      Power("Focused Chaos",["arcane"],"encounter","no",
          [Trigger("You use a sorcerer power that works differently depending on whether the attack roll is odd or even"),
          Effect("You choose to treat that power's attack roll as either odd or even, regardless of your actual roll.")],"sorcerer","utility","2"),
      Power("Sorcerous Sirocco",["arcane"],"encounter","standard",
          [Target("You and one ally in burst",("close burst",10)),
          Effect("Each target moves a number of squares equal to his or her speed + 2. Each target can fly during this movement but falls if he or she does not land by the end of the movement.")],"sorcerer","utility","2"),
      Power("Spatial Trip",["arcane","teleportation"],"encounter","move",
          [Effect("You teleport a number of squares equal to half your speed.")],"sorcerer","utility","2"),
      Power("Stretch Spell",["arcane"],"encounter","minor",
          [Effect(["Until the end of your next turn, add ",MOD("dex")," to the range of your ranged arcane powers."])],"sorcerer","utility2"),
      Power("Unseen Aid",["arcane"],"encounter","minor",
          [Effect("You gain a +2 bonus to a skill check you make this turn.")],"sorcerer","utility2"),
],"sorcererencounter3":[
      Power("Acid Claw",["acid","arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,10],[CHAMOD])),
          Hit(["The target takes ",MOD("str")," acid damage the start of its next turn.", orfeat("",["Each creature adjacent to the target takes ",MOD("str")," acid damage"],"dragon magic")])],"sorcerer","encounter","3"),
     Power("Dancing Lightning",["arcane","implement","lightning","thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,10],[CHAMOD]),None,[],"lightning"),
           Hit(["Each creature adjacent the target takes ",MOD("cha")," thunder damage."])],"sorcerer","attack",3),
      Power("Essence Prism",["arcane","force","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Other(["",orfeat("","Hit:  If you rolled an even number on the attack roll, the target loses all resistances until the end of your next turn.","wild magic")])],"sorcerer","encounter","3"),
     Power("Flame Spiral",["arcane","fire","implement"],"encounter","standard",
          [Target("one, two, or three creatures in burst",("close burst",2)),Atk([CHAMOD],"reflex", damage([1,10],[CHAMOD]))
          ,Effect(["Until the start of your next turn, any enemy that enters a square adjacent to you or starts its turn there takes ",dmg(0,1,6),"."])],"sorcerer","attack",3),
     Power("Ice Dragon's Teeth",["arcane","cold","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD])),
          Hit("The target is slowed until the end of your next turn.")],"sorcerer","attack",3),
      Power("Poisonous Exhalation",["arcane","implement","poison"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
          Hit(["The target takes a -",orfeat(2,lambda x:x.mod("str")+1,"dragon magic")," penalty to Fortitude until the end of your next turn."])],"sorcerer","attack",3),
      Power("Searing Sands",["arcane","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CHAMOD],"reflex",damage([2,6],[CHAMOD])),
          Hit("Until the end of your next turn, you have concealment.")],"sorcerer","encounter","3"),
      Power("Spectral Claw",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([1,8],[CHAMOD])),
          Hit(["The target is immobilized until the end of your next turn.",orfeat("",["  If you rolled an even number on the attack roll, you slide the target ",MOD("dex")," squares."],"wild magic")])],"sorcerer","attack",3),
      Power("Swirling Stars",["arcane","cold","implement","thunder"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Other(["",orfeat("","Special:  You can choose not to target a creature in the origin square of the burst.","storm magic")]),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD]))],"sorcerer","encounter","3"),
      Power("Thundering Gust",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CHAMOD],"fortitude",damage([1,10],[CHAMOD])),
          Hit(["You slide the target ",MOD("dex")," squares.",orfeat("",["  If you choose not to slide any targets, until the end of your next turn, you gain a ",MOD("dex",1)," fly speed, and you can hover."],"storm magic")])],"sorcerer","encounter","3"),
],"sorcererdaily5":[
     Power("Acidic Implantation",["acid","arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", None),
          Hit("You slide the target 3 squares."),
          Effect(["The target takes ",dmg(0,2,6),".  Make a secondary attack that is an area burst 1 centered on the primary target."]),
          Target("each creature in burst"),Atk([CHAMOD],"reflex",damage([2,6],[]))],"sorcerer","attack",5),
      Power("Corruption Orb",["acid","arcane","implement","poison"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,10],[CHAMOD])),
          Effect("The target takes ongoing 5 acid damage (save ends).")],"sorcerer","daily","5"),
      Power("Glacial Armor",["arcane","cold","implement"],"daily","standard",
          [Target("Each creature in burst",("close burst",1)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Miss(),
          Effect(["Until the end of the encounter, you gain a +2 power bonus to AC and Fortitude, and each creature that hits you with a melee attack takes ",MOD("cha")," cold damage."])],"sorcerer","daily","5"),
      Power("Moon And Stars",["arcane","implement; varies"],"daily","standard",
          [Target("One or two creatures",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Hit("This attack deals your choice of cold or radiant damage.  The damage type you choose determines the attack's additional benefit."),
          Other("Cold:  The target is slowed and cannot shift (save ends both)."),
          Other("Radiant:  You can spend one healing surge (even if you hit two targets)."),
          Miss("Half damage (your choice of cold or radiant).")],"sorcerer","daily","5"),
     Power("Palest Flames",["arcane","fire","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([1,10],[CHAMOD])),
          Hit("The target gains vulnerable 10 cold (save ends)."),
          Miss("Half damage, and the target gains vulerable 5 cold until the end of your next turn.")],"sorcerer","attack",5),
     Power("Reeling Torment",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("At the start of each of the target's turns, you can slide the target 3 squares as a free action (save ends)."),
          Miss("Half damage.  At the start of each of the target's turns, you can slide the target 1 square as a free action (save ends).")],"sorcerer","attack",5),
     Power("Serpentine Blast",["arcane","implement","lightning"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,10],[CHAMOD])),
           Special("The attack ignores cover and concealment, but not superior cover or total concealment."),
           Miss()],"sorcerer","attack",5),
      Power("Slaad's Gambit",["arcane","implement","psychic","teleportation"],"daily","immediate interrupt",
          [Trigger("An enemy within 5 squares of you hits you",("ranged",5)),
          Target("The triggering enemy",("ranged",5)),
          Effect("Before the attack, you teleport your speed."),
          Atk([CHAMOD],"will",damage([2,10],[CHAMOD])),
          Miss()],"sorcerer","daily","5"),
      Power("Sun's Illumination",["arcane","implement","radiant","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Effect("The burst creates a zone of piercing light that lasts until the end of your next turn. You gain a +2 power bonus to Insight and Perception checks against each creature within the zone. Each enemy within the zone grants combat advantage. As a move action, you can move the zone 3 squares."),
          Sustain("minor"," The zone persists.")],"sorcerer","daily","5"),
      Power("Thunder Leap",["arcane","implement","thunder"],"daily","standard",
          [Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"fortitude", damage([2,6],[CHAMOD])),
           Effect(["You jump a number of squares equal to your speed +",MOD("cha"),".  This movement does not provoke opportunity attacks.  Then make a secondary attack."]),
           Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"fortitude",damage([2,6],[])),
           Hit("You push the secondary target 1 square.")],"sorcerer","attack",5),
],"sorcererutility6":[
      Power("Arcane Empowerment",["arcane"],"daily","minor",
          [Effect("Until the end of your next turn, increase the size of your arcane powers' blasts and bursts by 1.")],"sorcerer","utility",6),
      Power("Chaotic Defense",["arcane"],"daily","minor",
          [Effect("Roll a d4 to determine the power's effect."),
          Other(["1:  You gain temporary hit points equal to 2d6 + ",MOD("cha"),"."]),
          Other("2:  You gain a +2 power bonus to all defenses until the end of the encounter."),
          Other(["3:  Until the end of the encounter, each creature that attacks you takes ",dmg(0,2,6),"."]),
          Other("4:  You gain all three of the benefits described above.")],"sorcerer","utility","6"),
      Power("Energetic Flight",["arcane"],"daily","minor",
          [Effect("Until the end of your next turn, you gain a fly speed equal to your speed, and you can hover.")],"sorcerer","utility",6),
      Power("Extinguishing Rain",["arcane","implement"],"daily","standard",
          [Target("You and each ally in burst",("close burst",10)),
          Effect(["Until the end of the encounter, each target gains ",MOD("cha")," resistance to fire. Make an attack."]),
          Target("One conjuration or zone that has the fire keyword"),
          Atk([CHAMOD,2],"the will of the target's creator",None),
          Hit("The target is destroyed. All its effects end, including those that a save can end.")],"sorcerer","utility","6"),
      Power("Fate's Chaos",["arcane"],"encounter","free",
          [Trigger("You spend an action point to make an attack and miss"),
          Effect(["Reroll the triggering attack roll with a +",MOD("str")," bonus."])],"sorcerer","utility","6"),
      Power("Lightning Shift",["arcane"],"encounter","move",
          [Effect("You shift your speed. You ignore difficult terrain during the shift.")],"sorcerer","utility","6"),
      Power("Sudden Scales",["arcane"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack."),
           Effect(["You gain a +",orfeat(4,lambda x:x.mod("str")+3,"dragon magic")," bonus to all defenses against the triggering attack."])],"sorcerer","utility",6),
      Power("Subtlety Of The Green Wyrm",["arcane"],"daily","minor",
          [Effect("You gain a +5 power bonus to Diplomacy checks, Insight checks, and Intimidate checks until the end of the encounter.")],"sorcerer","utility","6"),
      Power("Swift Escape",["arcane","teleportation"],"encounter","immediate intterupt",
          [Trigger("You are hit by an area or close attack"),
           Effect(["You teleport ",orfeat(3,lambda x:x.mod("dex"),"wild magic")," squares."])],"sorcerer","utility",6),
],"sorcererencounter7":[
      Power("Blazing Bolts",["arcane","fire","implement","lightning"],"encounter","standard",
          [Target("Two creatures",("ranged",20)),
          Atk([CHAMOD],"reflex",damage([1,8],[CHAMOD])),
          Hit(["The target and each creature adjacent to it take ",MOD("str")," fire damage."])],"sorcerer","encounter","7"),
      Power("Chaos Ray",["arcane","implement","psychic","teleportation"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("The target swaps positions with a creature within 3 squares of it.")],"sorcerer","encounter","7"),
     Power("Chaos Storm",["arcane","implement","lightning","teleportation"],"encounter","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Hit(["You teleport each target hit by the attack ",orfeat("so that it swaps positions with another target hit by the attack.","to any other space within the burst.","wild magic")])],"sorcerer","attack",7),
     Power("Crushing Sphere",["arcane","force","implement"],"encounter","standard",
          [Target("each creature in burst",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,6],[CHAMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"sorcerer","attack",7),
     Power("Rhimestorm",["arcane","cold","implement"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
          Hit(["You knock the target prone.",orfeat("","  The target also takes a -2 penalty to Fortitude until the end of your next turn.","dragon magic")])],"sorcerer","attack",7),
     Power("Shout",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each creature in blast",("close blast",5)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
          Hit("The target is deafened until the end of your next turn.")],"sorcerer","attack",7),
      Power("Spark Form",["arcane","implement","lightning"],"encounter","standard",
          [Effect("Before the attack, you shift your speed + 2. You can move through occupied squares during the shift, as long as you end in an unoccupied square."),
          Target("Each creature whose space you moved through"),
          Atk([CHAMOD],"reflex",damage([1,6],[CHAMOD]))],"sorcerer","encounter","7"),
      Power("Thunder Bomb",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Hit("The target is slowed until the end of your next turn. if the target is in the origin square of the burst, it is immobilized until the end of your next turn instead of slowed.")],"sorcerer","encounter","7"),
      Power("Thunder Wyrm's Jaws",["arcane","implement","thunder"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Hit(["You gain 1d6 + ",MOD("str")," temporary hit points."])],"sorcerer","encounter","7"),
],"sorcererdaily9":[
     Power("Adamantine Echo",["arcane","implement","thunder"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([2,6],[CHAMOD])),
          Effect(["Ongoing 5 thunder damage (save ends).  You gain a +",orfeat(2,STRMOD,"dragon magic")," power bonus to AC until the end of the encounter."])],"sorcerer","attack",9),
      Power("Bounding Bolt",["arcane","implement","lightning"],"daily","standard",
          [Target("One creature Primary",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[INTMOD])),
          Hit("Ongoing 5 lightning damage (save ends)."),
          Other("First Failed Saving Throw:  Choose a secondary target."),
          Target("One creature within 5 squares of you"),
          Effect("The secondary target takes ongoing 5 lightning damage (save ends)."),
          Other("First Failed Saving Throw:  Choose a tertiary target."),
          Target("One creature within 5 squares of the secondary target."),
          Effect("The tertiary target takes ongoing 5 lightning damage (save ends)."),
          Miss(["",dmg(INTMOD,2,8),"."])],"sorcerer","daily","9"),
     Power("Contagious Curse",["arcane","implement","poison"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([2,10],[CHAMOD])),
          Effect(["You slide the target ",MOD("cha")," squares.  The target is poisonous to your enemies (save ends).  While the target is poisonous, any enemy that starts its turn adjacent to the target takes ",dmg(0,1,10),orfeat(".",".  If you rolled an even number on the attack, any enemy that starts its turn within 2 squares of the poisonous target takes damage instead.","wild magic")])],"sorcerer","attack",9),
      Power("Howling Hurricane",["arcane","implement","thunder","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"fortitude",damage([3,8],[CHAMOD])),
          Hit(["You slide the target ",MOD("dex")," squares."]),
          Effect("The burst creates a zone of swirling wind that lasts until the end of your next turn. You slide each creature that starts its turn within the zone 2 squares. As a move action, you can move the zone 6 squares."),
          Sustain("minor"," The zone persists.")],"sorcerer","daily","9"),
      Power("Ice Stalagmites",["arcane","cold","conjuration","implement"],"daily","standard",
          [Target("One, two, or three creatures",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([1,12],[CHAMOD])),
          Hit("You must slide the target 1 square."),
          Effect(["You conjure an ice stalagmite in 1 square the target vacated. Each ice stalagmite lasts until the end of the encounter, until destroyed, or until you dismiss it as a free action. Each ice stalagmite has AC 5, Reflex 5, Fortitude 21, resist cold 10, and 40 hit points. Each creature that starts its turn adjacent to an ice stalagmite takes ",MOD("cha")," cold damage."])],"sorcerer","daily","9"),
     Power("Prime the Fire",["arcane","fire","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
          Effect(["If the target attacks before the start of your next turn, it takes ",dmg(0,2,8),"."])],"sorcerer","attack",9),
      Power("Season's Malaise",["arcane","implement","psychic"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"will",damage([2,6],[CHAMOD])),
          Effect("The target takes ongoing 5 psychic damage (save ends). Until the target saves against this damage, it cannot take immediate actions or opportunity actions.")],"sorcerer","daily","9"),
     Power("Staggering Blast",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("If the target moves before the end of your next turn, you can knock the target prone during that movement as an immediate interrupt."),
          Miss("Half damage, and you knock the target prone.")],"sorcerer","attack",9),
      Power("Winds Of Change",["arcane","implement"],"daily","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([CHAMOD],"fortitude",damage([3,8],[CHAMOD])),
          Hit("You push the target 3 squares."),
          Miss("Half damage, and you push the target 1 square."),
          Effect("Until the end of your next turn, you gain a fly speed equal to your speed, and you can hover.")],"sorcerer","daily","9"),
],"sorcererutility10":[
      Power("Chaos Link",["arcane"],"daily","immediate reaction",
          [Trigger("You are hit by an area or close attack."),
          Target("One creature in burst",("close burst",5)),
          Effect("The triggering attack also hits the target.")],"sorcerer","utility",10),
      Power("Devour Magic",["arcane","implement"],"daily","standard",
          [Target("One conjuration or zone",("ranged",5)),Atk([CHAMOD,2],"will of the target's creator", None),
           Hit(["The target is destroyed.  All its effects end, including those that a save can end.",orfeat("","  You gain the bonus from your Scales of the Dragon, whether or not you are bloodied.","dragon magic"),orfeat("","  Until the end of the encounter, the first time you attack during each of your turns, you can choose to have your Chaos Burst benefit, instead of having your attack roll determine it.","wild magic")])],"sorcerer","utility",10),
      Power("Dragon's Resolve",["arcane"],"daily","minor",
          [Effect(["Until the end of the encounter, while you are bloodied, you gain a +1 power bonus to attack rolls and a +",MOD("cha")," power bonus to saving throws."])],"sorcerer","utility","10"),
      Power("Fog Form",["arcane"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect("You become insubstantial until the end of your next turn.")],"sorcerer","utility","10"),
      Power("Invert Resistance",["arcane"],"daily","minor",
          [Target("Each enemy in burst",("close burst",5)),
           Effect("Each target loses its resistance and gains vulnerable 5 to the damage types it had resistance against (save ends both).")],"sorcerer","utility",10),
      Power("Narrow Escape",["arcane","teleportation"],"encounter","immediate reaction",
          [Trigger("You are hit by an attack"),
          Effect(["You take half damage from the attack.  You then teleport ",lambda x:x.mod("dex")+x.mod("cha")," squares."])],"sorcerer","utility",10),
      Power("Sorcerous Pulse",["arcane"],"daily","minor",
          [Effect("Choose acid, cold, fire, force, lightning, necrotic, poison, psychic, radiant, or thunder. Until the end of the encounter, whenever you use an arcane power that has the chosen keyword, you can roll the damage twice and use the higher result.")],"sorcerer","utility","10"),
      Power("Spirit's Eclipse",["arcane"],"encounter","immediate interrupt",
          [Trigger("An enemy hits you with an attack that targets Will"),
          Effect("Until the end of your next turn, you gain a +5 bonus to Will and are invisible to the triggering enemy.")],"sorcerer","utility","10"),
      Power("Storm Of Energy",["arcane"],"daily","minor",
          [Target("Each enemy in burst that is taking ongoing damage",("close burst",5)),
          Effect("Each instance of ongoing damage that each target is taking increases by 1O.")],"sorcerer","utility","10"),
],"sorcererencounter13":[
     Power("Chains of Fire",["arcane","fire","implement","teleportation"],"encounter","standard",
          [Target("one or two creatures",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD])),
          Hit(["If you hit two targets with this power, you teleport one of them to a space that must be adjacent to the other, and until the end of your next turn, the two targets take ",dmg(0,1,10)," the first time they move more than 3 squares apart."])],"sorcerer","attack",13),
      Power("Cyclone Pull",["arcane","implement"],"encounter","standard",
          [Target("One, two, or three creatures in burst",("area burst",3,10)),
          Atk([CHAMOD],"fortitude",damage([1,6],[CHAMOD])),
          Hit("You slide the target 2 squares closer to the origin square of the burst.")],"sorcerer","encounter","13"),
      Power("Dazzling Starlight",["arcane","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([3,6],[CHAMOD])),
          Hit(["Until the end of your next turn, the target cannot take immediate actions or opportunity actions.",orfeat("","  If you use this power while you are in the phase of the stars, the target is dazed until the end of your next turn.","cosmic magic")])],"sorcerer","encounter","13"),
      Power("Downbeat Of Wings",["arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([3,6],[CHAMOD])),
          Hit(["You push the target 2 squares and knock it prone.",orfeat("",["  You shift ",MOD("str")," squares."],"dragon magic")])],"sorcerer","encounter","13"),
     Power("Jaws of the Earth",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,6],[CHAMOD])),
           Hit("The target is immobilized until the end of your next turn.  While the target is immobilized by this power, you and your allies can move through the target's space and don't provoke opportunity attacks from it by leaving a square adjacent to it.")],"sorcerer","attack",13),
     Power("Mind Hammer",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,10],[CHAMOD])),
           Hit(["You knock the target prone.",orfeat("",["  If you rolled an even number on the attack roll, the target can't stand up until the end of your next turn.  If you rolled an odd number on the attack roll, you slide the target ",MOD("dex")," squares."],"wild magic")])],"sorcerer","attack",13),
      Power("Moon Cage",["arcane","cold","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([1,10],[CHAMOD])),
          Hit(["The target is restrained until the end of your next turn.",orfeat("",[" If you use this power while you are in the phase of the moon, the attack deals ",MOD("str")," extra damage."],"cosmic magic")])],"sorcerer","encounter","13"),
      Power("Primordial Storm",["arcane","cold","fire","implement","lightning","thunder"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Other("Storm Magic:  You can choose not to target a creature in the origin square of the burst."),
          Atk([CHAMOD],"reflex",damage([2,6],[CHAMOD])),
          Hit(["At the start of the target's next turn, it takes 5 cold and fire damage.",orfeat("","If you rolled an even number on the attack roll, the target takes 10 cold and fire damage at the start of its next turn instead of 5. Ifyou rolled an odd number on the attack roll, the target is also slowed until the end of its next turn.","chaos magic")])],"sorcerer","encounter","13"),
     Power("Thunder Breath",["arcane","implement","thunder"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([2,6],[CHAMOD])),
           Hit(["The target is dazed ",orfeat("","and slowed ","dragon magic"),"until the end of your next turn."])],"sorcerer","attack",13),
],"sorcererdaily15":[
      Power("Day And Night",["arcane","cold","implement","radiant"],"daily","standard",
          [Target("One creature Primary",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Hit("The target is dazed (save ends)."),
          Miss(["",MOD("cha")," radiant damage."]),
          Effect("Make a secondary attack against the target."),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss(["",MOD("cha")," cold damage."])],"sorcerer","daily","15"),
     Power("Frost Eddies",["arcane","cold","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([5,8],[CHAMOD])),
          Effect("Until the end of the encounter, wherever the target moves, each square adjacent to it is difficult terrain for your enemies.")],"sorcerer","attack",15),
      Power("Gale Burst",["arcane","implement","thunder"],"daily","standard",
          [Target("Each creature in burst",("close burst",3)),
          Atk([CHAMOD],"fortitude",damage([4,8],[CHAMOD])),
          Hit(["You push the target ",MOD("dex")," squares. The target is slowed (save ends)."]),
          Miss("Half damage, and you push the target 1 square.")],"sorcerer","daily","15"),
     Power("Hostility Charm",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([5,6],[CHAMOD])),
          Hit(["As a free action, the target charges your enemy nearest to it that it can charge and makes a melee basic attack.",orfeat("","  If you rolled an even number on the attack roll, your enemies can provoke opportunity attacks from the target, and the target must make any opportunity attack that they provoke (save ends).","wild magic")]),
          Miss()],"sorcerer","attack",15),
      Power("Lightning Daggers",["arcane","implement","lightning"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,4],[CHAMOD])),
          Effect("Until the end of the encounter, you can repeat the attack as a free action once per round during your turn.")],"sorcerer","daily","15"),
     Power("Scintillating Starburst",["arcane","implement","radiant"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"reflex", damage([4,6],[CHAMOD])),
          Hit("The target is blinded (save ends)."),
          Miss()],"sorcerer","attack",15),
     Power("Spitfire Furnace",["arcane","fire","implement"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"reflex", damage([4,10],[CHAMOD])),
          Effect(["Until the end of the encounter, any enemy that starts its turn within 2 squares of you takes ",orfeat(3,lambda x:x.mod("str")+2,"dragon magic")," fire damage."])],"sorcerer","attack",15),
],"sorcererutility16":[
      Power("Avatars of Chaos",["arcane","conjuration","fire","force","lightning","psychic"],"daily","minor",
          [Effect("You conjure images of yourself in 4 unoccupied, nonadjacent squares within 10 squares of you, and then you disappear from the world. Each round at the start of your turn, choose one of the four images. Your essence occupies that image, allowing you to act normally (including moving and making attacks)."),
           Line("When you conjure each image, choose a keyword for it from among fire, force, lightning, and psychic. You can't choose the same keyword twice. While you occupy an image, you gain a + 1 bonus to attack rolls when you use a power that has a keyword that matches that image."),
           Line("Each image lasts until the end of the encounter, until it is destroyed, or until you dismiss it. Each image occupies 1 square, and creatures cannot move through an image's space. An image can be targeted by attacks and uses your defenses. Each image (including the one you occupy) has 1 hit point, and a missed attack never damages an image. An image is destroyed if it is reduced to 0 hit points or fewer. Ifyou occupy an image when it is destroyed, you can immediately move to any other image still present. If you occupy the last remaining image when it is destroyed, you reappear in that square."),
           Line("As a minor action, you can dismiss all remaining images and reappear in any square that was occupied by an image when you took this action.")],"sorcerer","utility","16"),
      Power("Breath of Potency",["arcane"],"daily","standard",
          [Effect(["Until the end of the encounter, you gain a +1 power bonus to all defenses. Whenever you use an arcane close attack, this bonus is equal to ",MOD("str")," until the end of your next turn."])],"sorcerer","utility","16"),
      Power("Breath of the Desert Dragon",["arcane"],"encounter","move",
          [Target("Each creature in burst",("area burst",3,10)),
           Effect(["Each creature can fly ",lambda x:x.mod("str")+6," squares as an immediate reaction.  Until the end of your next turn, each target can fly the same distance as a move action."])],"sorcerer","utility",16),
      Power("Chaos Echoes",["arcane"],"daily","immediate reaction",
          [Trigger("You are hit or missed by an attack."),
           Target("One enemy in burst",("close burst",5)),
           Effect("The triggering attack hits the target.")],"sorcerer","utility",16),
      Power("Chaos Sanctuary",["arcane"],"encounter","minor",
          [Effect(["Choose ",MOD("dex")," squares in the burst.  Until the end of your turn, any creature whose space is entirely in those squares is not effected by your area or close arcane powers."],("close burst",10))],"sorcerer","utility",16),
      Power("Comrades' Mantle",["arcane"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("Choose a damage type: acid, cold, fire, force, lightning, necrotic, poison, psychic, radiant, or thunder.  Each target gains resist 5 to that damage type until the end of the encounter.")],"sorcerer","utility",16),
      Power("Dominant Winds",["arcane"],"at-will","move",
          [Target("You or one ally in burst",("close burst",5)),
          Effect(["The target can fly ",MOD("dex")," squares as a free action."])],"sorcerer","utility","16"),
      Power("Draconic Majesty",["arcane","fear","zone"],"encounter","minor",
          [Effect(["The burst creates a zone of fear that lasts until the end of your next turn.  When you move, the zone moves with you, remaining centered on you.  The zone is difficult terrain for your enemies.  While within the zone, any enemy takes a -",MOD("str")," penalty to attack rolls."],("close burst",3))],"sorcerer","utility",16),
      Power("Thunder Buffer",["arcane"],"daily","minor",
          [Effect(["Until the end of the encounter, you gain a +2 power bonus to AC, and as an immediate reaction you can push each enemy that hits you with a melee attack ",MOD("cha")," squares."])],"sorcerer","utility","16"),
],"sorcererencounter17":[
      Power("Acid Shackles",["acid","arcane","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Hit(["If the target moves before the end of its next turn, it takes 10 acid damage.",orfeat("",["  If you rolled an even number on the attack roll, add ",MOD("dex")," to the acid damage dealt if the target moves before the end of its next turn. If you rolled an odd number on the attack roll, one enemy within 2 squares of the target takes ",MOD("dex"), " acid damage."],"wild magic")])],"sorcerer","encounter","17"),
      Power("Azure Talons",["arcane","implement","lightning"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",2)),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Hit(["If the target ends its next turn within 2 squares of you, it takes s lightning damage.",orfeat("",["  If the target ends its next turn within 2 squares of you, it takes ",MOD("dex",5)," lightning damage."],"dragon magic")])],"sorcerer","encounter","17"),
     Power("Breath of Winter",["arcane","cold","implement"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD])),
           Hit("The target is slowed until the end of its next turn.")],"sorcerer","attack",17),
     Power("Dragon Tail Meditation",["arcane","implement","lightning"],"encounter","immediate reaction",
          [Trigger("An enemy moves into a space where it flanks you"),
           Target("the triggering enemy",("melee",1)),Atk([CHAMOD],"reflex", damage([2,10],[CHAMOD]))
          ,Other(["",orfeat("",["You push the target ",MOD("str")," squares."],"dragon magic")])],"sorcerer","attack",17),
     Power("Poisonous Evasion",["arcane","implement","poison","teleportation"],"encounter","immediate reaction",
          [Trigger("An enemy misses you with an attack"),
           Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"fortitude", damage([3,10],[CHAMOD]))
          ,Effect("You teleport 10 squares.")],"sorcerer","attack",17),
      Power("Searing Radiance",["arcane","healing","implement","radiant"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([4,8],[CHAMOD])),
          Other(["",orfeat("","Hit:  If you use this power while you are in the phase of the sun, you can spend a healing surge.","cosmic magic")])],"sorcerer","encounter","17"),
      Power("Stalking Frost",["arcane","cold","implement"],"encounter","standard",
          [Target("Each creature in burst",("close burst",3)),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Hit("If the target does not end its next turn at least 4 squares away from where it started its turn, it takes 10 cold damage.")],"sorcerer","encounter","17"),
     Power("Thunder Summons",["arcane","implement","teleportation","thunder"],"encounter","standard",
          [Target("one, two, or three creatures",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit(["You teleport the target to a space adjacent to your enemy that is nearest to it.",orfeat("","  If you rolled an even number on the attack roll, you can teleport your target to a space adjacent to your ally, not your enemy, that is nearest it.","wild magic")])],"sorcerer","attack",17),
      Power("Thunderstroke",["arcane","implement","lightning","thunder"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,20)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit(["A target in the origin square of the burst also takes ",dmg(0,3,8),".",orfeat("","  A target hit by this power is also knocked prone.","storm magic")])],"sorcerer","encounter","17"),
],"sorcererdaily19":[
      Power("Aspect Of The Dragon",["arcane","fire","implement"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Miss("Half damage."),
          Effect(["The first time you become bloodied during the encounter, repeat the attack as a free action.",orfeat("","  You gain a +2 bonus to attack rolls with this repeated attack.","dragon magic")])],"sorcerer","daily","19"),
     Power("Baleful Gaze of the Basilisk",["arcane","fear","implement","poison"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", None),
          Hit("The target is stunned ant takes ongoing 10 poison damage (save ends both)."),
          Miss("Ongoing 10 poison damage (save ends)."),
          Other(["",orfeat("",["Special: When the target saves against the ongoing poison damage, you can slide the target ",MOD("str")," squares."],"dragon magic")])],"sorcerer","attack",19),
     Power("Blackfire Serpent",["arcane","conjuration","fire","implement"],"daily","standard",
          [Effect("You conjure a blackfire serpent in an unoccupied square in range.  The serpent lasts until the end of your next turn.  The serpent occupies 1 square.  Enemies cannot move through its space, but allies can."),
           Line(["When it appears, the serpent makes the following attack, which is close blast 3.  As a move action, you can move the serpent ",MOD("str")," squares."]),
          Target("each creature in blast"),Atk([CHAMOD],"reflex", damage([2,12],[CHAMOD])),
          Sustain("minor","The snake persists, and it can repeat the attack.")],"sorcerer","attack",19),
      Power("Crashing Winds",["arcane","implement","thunder"],"daily","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CHAMOD],"fortitude",damage([5,8],[CHAMOD])),
          Miss(),
          Effect(["You push the target ",MOD("dex")," squares.",orfeat("",["  Until the end of the encounter, at the start of your turn, you push each enemy adjacent to ",MOD("dex")," squares."],"storm magic")])],"sorcerer","daily","19"),
      Power("Primordial Slime",["acid","arcane","implement","polymorph"],"daily","standard",
          [Target("One creature",("ranged",5)),
          Atk([CHAMOD],"fortitude",None),
          Hit("The target is slowed, cannot take standard actions, and takes half damage from melee and ranged attacks (save ends all)."),
          Aftereffect(["The target is slowed and takes ongoing 10 acid damage (save ends both).",orfeat("","  If you rolled an even number on the attack roll, the target takes a - 2 penalty to all defenses until the aftereffect ends.  If you rolled an odd number on the attack roll, the target takes a -2 penalty to attack rolls until the aftereffect ends.","wild magic")]),
          Miss("The target is slowed and takes ongoing 10 acid damage (save ends both).")],"sorcerer","daily","19"),
     Power("Prismatic Explosion",["arcane","implement",";","varies"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CHAMOD],"reflex", damage([3,12],[CHAMOD])),
           Hit("Roll a d6 for each target to determine the attack's damage type and effect."),
           Line("1. Yellow: Radiant damage, and the target is blinded (save ends)."),
           Line("2. Red: Fire damage, and the target is knocked prone and takes ongoing 10 fire damage (save ends)."),
           Line("3. Green: Poison damage, and the target takes ongoing 15 poison damage."),
           Line(["4. Turquoise: Lightning damage, and you knock the target prone and slide it ",MOD("dex")," squares."]),
           Line("5. Blue: Cold damage, and the target is stunned (save ends)."),
           Line(["6. Violet: Psychic damage, and the target takes a -",MOD("dex")," penalty to AC (save ends)."]),
           Miss(["",dmg(0,2,12),".  Roll a d6 for each target to determine the attack's damage type and effect, as above."])],"sorcerer","attack",19),
      Power("Radiant Wings",["arcane","fire","implement","radiant"],"daily","standard",
          [Target("One creature",("ranged",5)),
          Effect(["Before the attack, you can fly ",MOD("str")," squares.",orfeat("",["  At the end of this movement, each creature adjacent to you takes ",MOD("str")," fire and radiant damage."],"cosmic magic")]),
          Atk([CHAMOD],"reflex",damage([3,8],[CHAMOD])),
          Sustain("minor"," When you sustain this power, repeat the effect.")],"sorcerer","daily","19"),
     Power("Split Strike",["arcane","implement","lightning"],"daily","standard",
          [Target("one or two creatures",("ranged",10)),Atk([CHAMOD],"reflex", damage([6,6],[CHAMOD])),
          Other(["",orfeat("","Hit: If you rolled an even number on the attack roll, the target is immobilized (save ends).  If you roll an odd number on the attack roll, the target is dazed (save ends).","wild magic")]),
          Miss()],"sorcerer","attack",19),
],"sorcererutility22":[
      Power("Crown Of Flames",["arcane","fire"],"daily","minor",
          [Effect(["Until the end of the encounter, whenever you miss with a sorcerer at-will or encounter attack power, the target takes ",MOD("cha")," fire damage."])],"sorcerer","utility","22"),
      Power("Dragon Fear",["arcane","fear"],"encounter","immediate interrupt",
          [Trigger("An enemy moves closer to you during its turn."),
           Target("The triggering creature",("ranged",5)),
           Effect("The target can't move closer to you until the end of its turn.")],"sorcerer","utility",22),
      Power("Flight Of Dragons",["arcane"],"daily","standard",
          [Target("You and each ally in burst",("close burst",2)),
          Effect("Each target gains a fly speed equal to his or her speed until the end of your next turn."),
          Sustain("minor",[" The effect persists. When you fail to sustain this power, each target floats to the ground without taking falling damage.",orfeat("","  Each target gains resist 10 to your choice of acid, cold, fire, poison, lightning, or thunder while you sustain the effect.","dragon magic")])],"sorcerer","utility","22"),
      Power("Platinum Scales",["arcane"],"daily","immediate interrupt",
          [Trigger("You are hit by an attack."),
           Effect(["Until the end of the encounter, you gain a +",MOD("str")," bonus to all defenses."])],"sorcerer","utility",22),
      Power("Shared Sorcery",["arcane"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
           Effect("Choose a damage type: acid, cold, fire, force, lightning, necrotic, poison, psychic, radiant, or thunder.  Each target gains resist 10 to that damage type until the end of the encounter.")],"sorcerer","utility",22),
      Power("Storm Body",["arcane","lightning"],"encounter","move",
          [Effect(["You become insubstantial until the start of your next turn and can fly 10 squares with this move action. Each creature that makes a melee attack against you during this move takes ",MOD("cha")," lightning damage."])],"sorcerer","utility","22"),
      Power("Ultimate Resistance",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, you gain resist 30 against a damage type of your choice:  acid, cold, fire, force, lightning, necrotic, poison, psychic, radiant, or thunder. Once per round as a minor action, you can change the resistance to another of these types.")],"sorcerer","utility","22"),
      Power("Wind Shape",["arcane","polymorph"],"encounter","minor",
          [Effect("Until the end of your next turn, you become insubstantial, you gain a fly speed equal to your speed, and you can hover.")],"sorcerer","utility",22),
],"sorcererencounter23":[
     Power("Black Breath",["acid","arcane","implement"],"encounter","standard",
          [Target("each creature in burst",("close burst",3)),Atk([CHAMOD],"reflex", damage([5,6],[CHAMOD])),
           Other(["",orfeat("","Hit:  Until the end of your next turn, the target doesn't have line of isght to any creature more than 3 squares away from it.","dragon magic")])],"sorcerer","attack",23),
     Power("Chaos Orbs",["arcane","implement","psychic"],"encounter","standard",
          [Target("one or two creatures",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
           Hit("The target is dazed until the end of your next turn.")],"sorcerer","attack",23),
     Power("Iron Chains",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([2,6],[CHAMOD])),
           Hit("The target and each creature adjacent to it are restrained until the end of your next turn.")],"sorcerer","attack",23),
     Power("Plates of Ice",["arcane","cold","implement"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"fortitude", damage([4,6],[CHAMOD]))
          ,Hit(["The target is weakened until the end of your next turn.",orfeat("",["  If you rolled an even number on the attack roll, each creature adjacent to the target takes ",dmg(0,1,6),"."],"wild magic")])],"sorcerer","attack",23),
     Power("Rumbling Storm Bolt",["arcane","implement","lightning","thunder"],"encounter","standard",
          [Target("One creature Primary",("ranged",20)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit(["You slide the target ",MOD("dex")," squares. Make a secondary attack."]),
          Target("One creature within 10 squares of the primary target and in the primary target's line of sight"),
          Atk([CHAMOD],"fortitude",damage([2,8],[CHAMOD])),
          Hit("You knock the target prone.")],"sorcerer","encounter","23"),
     Power("Storm Arc",["arcane","implement","lightning"],"encounter","standard",
          [Target("Each creature in burst",("area burst' within",20)),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Other(["",orfeat("","Hit:  Until the end of your next turn, you gain a fly speed equal to your speed, and you can hover.","storm magic")])],"sorcerer","encounter","23"),
     Power("Sun And Stars",["arcane","implement","psychic","radiant"],"encounter","standard",
          [Target("One creature Primary",("ranged",20)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Hit("The target is slowed until the end of your next turn."),
          Effect("Make a secondary attack against the target. Secondary"),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Other(["",orfeat("","Hit:  If you hit with both attacks, you can change your phase in the cosmic cycle to the phase of the sun or the phase of the stars.","cosmic magic")])],"sorcerer","encounter","23"),
      Power("Wildrift Burst",["arcane","implement","psychic","teleportation"],"encounter","standard",
          [Target("Each creature in burst",("close burst",3)),
          Atk([CHAMOD],"will",damage([3,8],[CHAMOD])),
          Hit(["You teleport the target ",MOD("dex")," squares.",orfeat("","  If you rolled an even number on the attack roll, the target is dazed until the end of your next turn. If you rolled an odd number on the attack roll, you can teleport the target an additional 1d4 squares.","wild magic")])],"sorcerer","encounter","23"),
      Power("Wyrmblight",["arcane","fire","implement","poison"],"encounter","standard",
          [Target("Each creature in blast",("close blast",5)),
          Atk([CHAMOD],"fortitude",damage([4,6],[CHAMOD]))],"sorcerer","encounter","23"),
],"sorcererdaily25":[
      Power("Acid Typhoon",["acid","arcane","implement","thunder"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Other(["",orfeat("","Special:  You can choose not to target a creature in the origin square of the burst.","storm magic")]),
          Atk([CHAMOD],"fortitude",damage([4,8],[CHAMOD])),
          Hit("Ongoing 10 acid damage (save ends)."),
          Miss("Half damage, and ongoing 5 acid damage (save ends).")],"sorcerer","daily","25"),
      Power("Cloak Of Winter Storm",["arcane","cold","implement","zone"],"daily","standard",
          [Effect(["The burst creates a zone of floating ice shards that lasts until the end of the encounter. Each enemy that enters the zone or starts its turn there takes ",dmg(CHAMOD,2,6)," and is slowed until the end of its turn."],("close burst",3))],"sorcerer","daily","25"),
     Power("Draconic Incarnation",["arcane","implement",";","varies"],"daily","standard",
          [Target("each creature in blast",("close blast",5)),Atk([CHAMOD],"reflex", damage([7,6],[CHAMOD])),
          Special("Choose a damage type: acid, cold, fire, lightning, poison, or thunder.  This attack deals damage of this type to each target."),
          Miss(),
          Other(["",orfeat("","Effect: Until the end of the encounter, once during each of your turns, you can slide an enemy within 3 squares of you 2 squares as a free action.","dragon magic")])],"sorcerer","attack",25),
     Power("Force Storm",["arcane","force","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
          Hit("the attack deals 5 extra force damage for each target it hits."),
          Miss()],"sorcerer","attack",25),
      Power("Fury Of Dragotha",["arcane","implement","necrotic"],"daily","standard",
          [Target("Each creature in blast",("close blast",5)),
          Atk([CHAMOD],"reflex",damage([5,8],[CHAMOD])),
          Miss(),
          Other(["",orfeat("",["Effect:  Until the end of the encounter, each creature that starts its turn adjacent to you takes ",MOD("str")," necrotic damage."],"dragon magic")])],"sorcerer","daily","25"),
      Power("Leaping Lightning",["arcane","implement","lightning"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Hit("Ongoing 10 lightning damage (save ends). Whenever the target takes the ongoing lightning damage, make a secondary attack as a free action."),
          Target("One creature within 10 squares of the primary target and in the primary target's line of sight"),
          Atk([CHAMOD],"reflex",damage([3,6],[CHAMOD])),
          Miss()],"sorcerer","daily","25"),
     Power("Words of Chaos",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([4,12],[CHAMOD])),
          Effect("When the target makes an attack roll for a melee or a ranged attack, you can make a secondary attack against the target as an immediate interrupt if it is within 10 squares of you (save ends)"),
          Other("Close burst 10"),Atk([CHAMOD],"will",None),
          Hit(["The target must choose a different creature to target with its attack if it can.  Otherwise, its attack is unaffected by this secondary attack.",orfeat("","  If you rolled an even number on the secondary attack roll, you choose the creature that the target attacks.","wild magic")])],"sorcerer","attack",25),
      Power("Wrathful Vapors",["acid","arcane","cold","implement","lightning","thunder"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Atk([CHAMOD],"fortitude or reflex (choose one defense for each target)",None),
          Other(["Hit (Fortitude):  ",dmg(CHAMOD,3,6,["cold","thunder"]),", and you slide the target ",MOD("dex")," squares."]),
          Other(["Hit (Reflex):  ",dmg(CHAMOD,3,6,["lightning"]),". Each creature adjacent to the target takes ",dmg(DEXMOD,2,6,["acid"]),"."]),
          Other("Miss (Fortitude Or Reflex):  Half damage.")],"sorcerer","daily","25"),
],"sorcererencounter27":[
      Power("Chaos Infusion",["arcane","fire","force","implement","lightning","psychic"],"encounter","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Atk([CHAMOD],"reflex",damage([4,6],[CHAMOD])),
          Other(["",orfeat("","Hit:  Until the end of your next turn, when you use a power that grants an additional benefit on an odd or an even die roll, gain the benefit of both the even and the odd die results. If you can't gain both benefits, choose one.","wild magic")])],"sorcerer","encounter","27"),
     Power("Lightning Eruption",["arcane","implement","lightning"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,12],[CHAMOD])),
          Hit(["Each enemy adjacent to the target takes ",dmg(CHAMOD,1,12),"."])],"sorcerer","attack",27),
      Power("Moonstruck",["arcane","cold","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,20)),
          Atk([CHAMOD],"reflex",damage([4,6],[CHAMOD])),
          Hit(["The target is immobilized until the end of your next turn.",orfeat("","  If you use this power while you are in the phase of the moon, the target is restrained instead of immobilized.","cosmic magic")])],"sorcerer","encounter","27"),
      Power("Mother Claw",["arcane","force","implement"],"encounter","immediate reaction",
          [Trigger("An enemy hits or misses you with a melee attack",("melee",1)),
          Target("The triggering enemy",("melee",1)),
          Atk([CHAMOD],"reflex",damage([4,8],[CHAMOD])),
          Hit(["You can shift ",MOD("cha")," squares.",orfeat("","  You ignore difficult terrain when you shift with this power.","dragon magic")])],"sorcerer","encounter","27"),
      Power("Overpowering Lightning",["arcane","implement","lightning"],"encounter","standard",
          [Target("One creature",("ranged",20)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("The target is stunned until the end of your next turn.")],"sorcerer","encounter","27"),
     Power("Poison Ward",["arcane","implement","poison"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([4,10],[CHAMOD]))
          ,Hit(["If the target moves closer to you or hits or misses you during its next turn, the target takes ",dmg(0,2,10),"."])],"sorcerer","attack",27),
     Power("Thunder Pulse",["arcane","implement","thunder"],"encounter","standard",
          [Target("each enemy in burst",("close burst",3)),Atk([CHAMOD],"fortitude", damage([3,6],[CHAMOD])),
           Hit(["You can push the target ",MOD("cha")," squares and knock it prone."])],"sorcerer","attack",27),
      Power("Thunderous Might",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,20)),
          Atk([CHAMOD],"fortitude",damage([4,8],[CHAMOD])),
          Hit(["You slide the target ",MOD("dex")," squares.",orfeat("","  The target grants combat advantage to the next ally of yours who attacks it before the end of your next turn.","storm magic")])],"sorcerer","encounter","27"),
     Power("Wildfire Curse",["arcane","fire","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([4,6],[CHAMOD])),
           Hit("Make a secondary attack"),
           Target("one creature within 5 squares of the last target hit by this power"),Atk([CHAMOD],"reflex", damage([4,6],[CHAMOD])),
           Hit("Repeat the secondary attack against a creature you haven't already targeted with this power during this encounter.")],"sorcerer","attack",27),
],"sorcererdaily29":[
      Power("Cosmic Vengeance",["arcane","implement; varies"],"daily","minor",
          [Effect(["Until the end of the encounter, an enemy within 5 squares of you that hits you with an attack takes ",orfeat(MOD("cha"),MOD("cha",5),"cosmic magic")," cold, psychic, or radiant damage (your choice with each hit). If that hit was also a critical hit, the enemy also takes ongoing 5 damage of the corresponding type (save ends)."])],"sorcerer","daily","29"),
      Power("Doom Of Chaos",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([CHAMOD],"will",damage([2,8],[CHAMOD])),
          Hit("Ongoing 5 psychic damage (save ends)."),
          Effect(["Until the end of the encounter, at the start of each of the target's turns but before it takes any ongoing damage, choose acid, cold, fire, lightning, or thunder. The target gains vulnerable 10 to that damage type until the start of its next turn. If the target is still taking ongoing psychic damage from this power, it gains vulnerable 15 psychic instead.",orfeat("","  If you rolled an even number on the attack roll, you can apply the effect to a creature within 10 squares of the target instead of to the target. If you rolled an odd number on the attack roll, you can apply the effect to each creature adjacent to the target instead of to the target.","wild magic")])],"sorcerer","daily","29"),
     Power("Endless Acid",["acid","arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([1,6],[CHAMOD])),
          Hit("Ongoing 15 acid damage (save ends)."),
          Aftereffect("Ongoing 10 acid damage (save ends)."),
          Aftereffect("Ongoing 5 acid damage (save ends)."),
          Miss("Ongoing 15 acid damage (save ends).")],"sorcerer","attack",29),
     Power("Entropic Whirlwind",["arcane","implement","teleportation"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit(["You teleport the target ",MOD("dex")," squares.  The target again takes ",dmg(CHAMOD,3,8)," whenever it teleports (save ends)."]),
          Effect("Until the end of the encounter, when any creature ends its turn within 5 squares of you, you can teleport the creature to any space within 5 squares of you as an immediate reaction.")],"sorcerer","attack",29),
      Power("Hellish Firestorm",["arcane","fire","implement","thunder"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Other(["",orfeat("","Special:  You can choose not to target a creature in the origin square of the burst.","storm magic")]),
          Atk([CHAMOD],"fortitude",damage([3,10],[CHAMOD])),
          Hit("Ongoing 10 fire damage (save ends)."),
          Miss("Half damage, and ongoing 5 fire damage (save ends).")],"sorcerer","daily","29"),
      Power("Mind Tide",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([CHAMOD],"will",damage([4,8],[CHAMOD])),
          Hit("The target is dominated (save ends)."),
          Aftereffect("The target is dazed (save ends)."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"sorcerer","daily","29"),
     Power("Prismatic Storm",["arcane","implement",";","varies"],"daily","standard",
          [Target("each creature within burst",("area burst",3,10)),Atk([CHAMOD],"reflex", damage([5,8],[CHAMOD])),
          Hit("Roll a d6 for each target to determine the attack's type and effect."),
          Line("1. Yellow: Radiant damage, and the target is blinded and takes a -2 penalty to saving throws (save ends)."),
          Line("2. Red: Fire damage, and the target is knocked prone and takes ongoing 15 fire damage (save ends)."),
          Line("3. Green: Poison damage, and the target takes ongoing 20 poison damage (save ends)."),
          Line(["4. Turquoise: Lightning damage, and you knock the target prone and slide it ",MOD("dex")," squares.  In addition, the target is dazed (save ends)."]),
          Line("5. Blue: Cold damage, and the target is stunned (save ends)."),
          Line(["6. Violet: Psychic damage, and the target takes a -",MOD("dex")," penalty to AC and Reflex (save ends)."]),
          Miss(["",dmg(0,3,8),".  Roll a d6 for each target to determine the attack's damage type and effect, as above."])],"sorcerer","attack",29),
      Power("Wyrm Form",["arcane","implement","polymorph",";","varies"],"daily","minor",
          [Requirement("You must not be bloodied."),
          Effect("Until the end of the encounter or until you are bloodied, you take the form of a huge black, blue, green, red, or white dragon (your choice when you use this power). You retain your statistics, hit points, and defenses, but you have a speed of 8, fly 10 (hover). You can use your arcane powers while in this form, and you gain the following melee basic bite attack, breath weapon attack, and reactive attack."),
          Other("Melee Basic Bite Attack:  Standard action; reach 2"),
          Atk([lambda x:x.statret("level")-x.statret("level")/2-x.modmux(["sorcerer","implement"],"attack"),7],"AC",damage([3,10],[CHAMOD,lambda x:0-x.modmux(["sorcerer","implement"],"attack")])),
          Other("Breath Weapon Attack:  Standard action; close blast 5"),
          Atk([CHAMOD],"fortitude",damage([5,8],[CHAMOD])),
          Other(["Reactive Attack:  Immediate reaction, when an enemy flanks you; make a melee basic bite attack.  On a hit, you also slide the target ",MOD("cha")," squares."]),
          Other("Dragon Magic:  You gain a +2 bonus to attack rolls on the attacks granted by this power.")],"sorcerer","daily","29"),
]}
    addPowers(sorcererList)

def swordmage():
    swordmageList={"swordmageat-will1":[
      Power("Booming Blade",["arcane","thunder","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(raising(1,20),[INTMOD]),["melee"],[],""),
          Hit(["If the target is adjacent to you at the start of its turn and moves away, it takes ",dmg(CONMOD,1,6),"."])],"swordmage","at-will","1"),
      Power("Greenflame Blade",["arcane","fire","weapon"],"at-will","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(raising(1,20),[INTMOD]),["melee"]),
          Hit(["You deal ",MOD("str")," fire damage to all enemies adjacent to the target."])],"swordmage","at-will","1"),
      Power("Lightning Lure",["arcane","implement","lightning"],"at-will","standard",
          [Target("One creature",("ranged",3)),
          Atk([INTMOD],"fortitude",damage([raising(1,20),6],[INTMOD])),
          Hit("You pull the target to the nearest unoccupied space adjacent to you."),
          Special("If you cannot pull the target to an adjacent square, this power fails and deals no damage.")],"swordmage","at-will","1"),
      Power("Sword Burst",["arcane","force","implement"],"at-will","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([INTMOD],"reflex",damage([raising(1,20),6],[INTMOD]))],"swordmage","at-will","1"),
],"swordmageencounter1":[
      Power("Chilling Blow",["arcane","cold","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit(["The target takes ",MOD("con")," cold damage each time it attacks until the start of your next turn."])],"swordmage","attack","1"),
      Power("Flame Cyclone",["arcane","fire","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"reflex",damage([1,8],[INTMOD,STRMOD]))],"swordmage","attack","1"),
      Power("Foesnare",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit("The target is immobilized until the end of your next turn."),
          Special("You can use this power in place of a melee basic attack when charging.")],"swordmage","attack","1"),
      Power("Lightning Clash",["arcane","lightning","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit("Make a secondary attack."),
          Target("One creature within 5 squares of the primary target"),
          Atk([INTMOD],"reflex",damage([1,6],[INTMOD]))],"swordmage","attack","1"),
],"swordmagedaily1":[
      Power("Burning Blade",["arcane","fire","weapon"],"daily","standard",
          [Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Effect(["Until the end of the encounter, your melee attacks deal ",MOD("str"), " extra fire damage."])],"swordmage","attack","1"),
      Power("Frost Backlash",["arcane","cold","weapon"],"daily","immediate interrupt",
          [Trigger("An adjacent creature hits you"),
          Target("The creature that hit you"),
          Atk([INTMOD],"reflex",damage(3,[INTMOD]),["melee"]),
          Miss("Half damage.")],"swordmage","attack","1"),
      Power("Whirling Blade",["arcane","weapon"],"daily","standard",
          [Requirement("You must throw your melee weapon at the target.",("ranged",5)),
          Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("Your weapon returns to your hand."),
          Miss("Repeat the attack against a second target within 5 squares of the first. If you miss, repeat the attack against a third target within 5 squares of the second. If you miss again, repeat the attack against a fourth target within 5 squares of the third. Your weapon then returns to your hand.")],"swordmage","attack","1"),
],"swordmageutility2":[
      Power("Dimensional Warp",["arcane","teleportation"],"encounter","minor",
          [Target("You and one ally in burst or two allies in burst",("close burst",3)),
          Effect("Each target teleports into the other's space. Both targets must occupy the same size space, or the power fails.")],"swordmage","utility","2"),
      Power("Eldritch Speed",["arcane"],"daily","no",
          [Effect("Use this power before rolling initiative. You gain a +5 power bonus to your initiative roll. You can take an extra move action during the first round of combat (or during the surprise round, if you are allowed to act during that round).")],"swordmage","utility","2"),
      Power("Fear No Elements",["arcane"],"daily","minor",
          [Effect(["Choose acid, cold, fire, lightning, or thunder. Until the end of the encounter, you gain resist ",MOD("con",5)," to that damage type."])],"swordmage","utility","2"),
      Power("Mythal Recovery",["arcane"],"encounter","minor",
          [Effect("Make a saving throw against an effect that a save can end.")],"swordmage","utility","2"),
],"swordmageencounter3":[
       Power("Blastback Swipe",["arcane","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"fortitude",damage(1,[INTMOD]),["melee"]),
          Hit("You push the target 2 squares."),
          Special("When charging, you can use this power in place of a melee basic attack."),
          Other(["",orfeat("","Special:  When you use your aegis of assault immediate reaction, you can use this power in place of the melee basic attack.","aegis of assault")])],"swordmage","attack","3"),
      Power("Corrosive Ruin",["acid","arcane","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"fortitude",damage(1,[INTMOD]))],"swordmage","attack","3"),
      Power("Sloth Strike",["arcane","cold","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("The target is slowed until the end of your next turn.")],"swordmage","attack","3"),
      Power("Transposing Lunge",["arcane","teleportation","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("You teleport the target into a space adjacent to you."),
          Other(["",orfeat("","Special:  When you use your aegis of shielding immediate interrupt, you can use this power against the target as part of the interrupt, even if the target is beyond your reach.","aegis of shielding")])],"swordmage","attack","3"),
],"swordmagedaily5":[
      Power("Deep Freeze",["arcane","cold","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"fortitude",damage(2,[INTMOD]),["melee"],[],""),
          Effect(["Until the end of the encounter, any enemy takes ",dmg(0,1,10)," when it moves adjacent to or starts its turn adjacent to the target."])],"swordmage","attack","5"),
      Power("Elemental Foible",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"],[]),
          Effect("The target gains vulnerable 5 to a damage type of your choice:  acid, cold, fire, lightning, or thunder. The vulnerability lasts until the end of the encounter.")],"swordmage","attack","5"),
      Power("Lingering Lightning",["arcane","implement","lightning"],"daily","standard",
          [Target("One, two, or three creatures",("ranged",5)),
          Atk([INTMOD],"reflex, one attack per target",damage(1,[INTMOD]),[]),
          Hit("Ongoing 5 lightning damage (save ends)."),
          Miss("Half damage, and no ongoing damage.")],"swordmage","attack","5"),
],"swordmageutility6":[
       Power("Armathor's Step",["arcane","teleportation"],"encounter","move",
          [Effect("Teleport 5 squares. If you end this move adjacent to an enemy, you gain a +2 power bonus to the next attack roll you make against that enemy during your turn.")],"swordmage","utility","6"),
      Power("Dimensional Warding",["arcane","stance","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts as long as the stance persists. Enemies within the zone cannot teleport. Enemies outside the zone cannot teleport into it.",("close burst",2)),
          Special("The zone remains centered on you, even if you move.")],"swordmage","utility","6"),
      Power("Fate-Spurned Foe",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, any effect that a save can end that you place on an enemy causes a -2 penalty to saving throws against the effect.")],"swordmage","utility","6"),
      Power("Silversteel Veil",["arcane","force"],"encounter","minor",
          [Target("You and each ally in burst",("close burst",1)),
          Effect("All affected creatures gain a +2 bonus to AC and Reflex defense until the end of your next turn.")],"swordmage","utility","6"),
],"swordmageencounter7":[
       Power("Electrified Lash",["arcane","implement","lightning"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([INTMOD],"fortitude",damage(2,[INTMOD]),[])],"swordmage","attack","7"),
      Power("Flamewall Strike",["arcane","conjuration","fire","implement"],"encounter","standard",
          [Effect(["You conjure a wall of contiguous squares filled with leaping flames that lasts until the start of your next turn. The wall can be 3 squares long and no more than 1 square high. Only 1 square of the wall must be within 1 square of you. Any creature that enters the wall's space or starts its turn there takes ",dmg(CONMOD,1,8),"."],("area wall",3,1))],"swordmage","attack","7"),
      Power("Isolating Slam",["arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit("Make a secondary attack."),
          Target("Each enemy adjacent to the primary target"),
          Atk([INTMOD],"fortitude",None),
          Special("One attack per target."),
          Hit(["You push the secondary target away from the primary target ",MOD("con")," squares."])],"swordmage","attack","7"),
      Power("Spikes Of Agony",["arcane","force","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit(["If the target moves before the end of its next turn, it takes ",MOD("str",5),"."]),
          Other(["",orfeat("","Special:  When you use your aegis of assault immediate reaction, you can use this power in place of the melee basic attack.","aegis of assault")])],"swordmage","attack","7"),
],"swordmagedaily9":[
      Power("Beacon Blade",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit("The target is blinded (save ends)."),
          Effect("The target is illuminated until the end of the encounter, shedding bright light within 10 squares around it. Even if it turns invisible, its location can be pinpointed automatically, though the normal -5 penalty to the attack roll still applies.")],"swordmage","attack","9"),
      Power("Be Gone",["arcane","reliable","teleportation","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("You teleport the target 5 squares.")],"swordmage","attack","9"),
      Power("Glamor Blade",["arcane","conjuration","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Effect("You conjure a duplicate of yourself in any unoccupied square adjacent to the target. The duplicate can be attacked and damaged normally. (It has the same game statistics as you do.) You and the duplicate share the same pool of hit points."),
          Line("Your duplicate can do anything that you can do. However, any actions taken by your duplicate come from your normal allotment of actions. (It doesn't grant you any extra actions.) You can divide your actions between you and your duplicate as you see fit."),
          Line("For example, on your turn you could shift into a flanking position (a move action) while the duplicate draws a weapon (minor) and uses a standard action to attack with one of your powers. If you make an opportunity attack against a creature, your duplicate can't also make an opportunity attack during that creature's turn."),
          Line("If you end any turn more than 5 squares away from your duplicate, the duplicate disappears. Otherwise, the duplicate lasts until the end of the encounter or until you drop to 0 hit points or fewer.")],"swordmage","attack","9"),
],"swordmageutility10":[
      Power("Arcane Awareness",["arcane"],"encounter","free",
          [Effect("Until the end of your next turn, you do not grant combat advantage to any of your enemies.")],"swordmage","utility","10"),
      Power("Dimensional Dodge",["arcane","teleportation"],"daily","immediate interrupt",
          [Trigger("An enemy within 20 squares of you hits you with a ranged attack"),
          Effect("You teleport adjacent to the enemy.")],"swordmage","utility","10"),
      Power("Impenetrable Warding",["arcane","stance"],"daily","minor",
          [Effect("Your warding provides its bonus to all your defenses, not just AC.")],"swordmage","utility","10"),
],"swordmageencounter13":[
      Power("Acid Burst Blade",["acid","arcane","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit(["Enemies adjacent to the target take ",dmg(STRMOD,1,6),"."]),
          Other(["",orfeat("","Special:  When you use your aegis of assault immediate reaction, you can use this power in place of the melee basic attack.","aegis of assault")])],"swordmage","attack","13"),
      Power("Dimensional Slash",["arcane","teleportation","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit(["Teleport yourself and your target a ",MOD("con",1)," squares. You must appear in a square adjacent to the target."])],"swordmage","attack","13"),
      Power("Seed Of Fire",["arcane","fire","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),["melee"]),
          Hit(["You push the target ",MOD("con",2)," squares. Make a secondary attack."]),
          Target(["Each ",orfeat("creature","enemy","aegis of shielding")," within 2 squares of the primary target's new location"]),
          Atk([INTMOD],"reflex",damage([2,6],[INTMOD]))],"swordmage","attack","13"),
],"swordmagedaily15":[
      Power("Acid For Blood",["acid","arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"],[],""),
          Hit("Ongoing 10 acid damage (save ends)."),
          Miss("Half damage, and no ongoing damage.")],"swordmage","attack","15"),
      Power("Inferno's Sword",["arcane","fire","implement"],"daily","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"reflex",damage([2,10],[INTMOD])),
          Hit("Ongoing 5 fire damage (save ends)."),
          Miss("Half damage, and no ongoing damage.")],"swordmage","attack","15"),
      Power("Free The Storm Within",["arcane","lightning","stance","thunder","weapon"],"daily","minor",
          [Effect(["An enemy that starts its turn adjacent to you and moves away takes ",dmg(0,2,8),"."])],"swordmage","attack","15"),
],"swordmageutility16":[
      Power("Bolstering Warding",["arcane","stance"],"daily","minor",
          [Effect("At the end of each turn, before making saving throws, remove one effect on yourself that a save can end.")],"swordmage","utility","16"),
      Power("Elemental Protection",["arcane"],"daily","minor",
          [Effect(["Choose acid, cold, fire, lightning, or thunder. Until the end of the encounter, you gain resist ",MOD("con",10)," to that damage type."])],"swordmage","utility","16"),
      Power("Ironskin",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, you gain resist 5 to all damage.")],"swordmage","utility","16"),
      Power("Sudden Escape",["arcane","teleportation"],"daily","immediate interrupt",
          [Trigger("You would be hit by an attack"),
          Effect("Teleport 2 squares.")],"swordmage","utility","16"),
],"swordmageencounter17":[
       Power("Ice Cage",["arcane","cold","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"fortitude",damage(1,[INTMOD]),["melee"]),
          Hit(["The target is weakened until the end of your next turn. If the target attacks while it is weakened, it takes ",MOD("con",5)," cold damage."])],"swordmage","attack","17"),
      Power("Spidersilk Slash",["arcane","weapon"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([INTMOD],"fortitude",damage([1,10],[INTMOD])),
          Hit("The target is immobilized until the end of your next turn.")],"swordmage","attack","17"),
      Power("Swordshock",["arcane","lightning","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),["melee"])],"swordmage","attack","17"),
],"swordmagedaily19":[
      Power("Bane Blade",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),["melee"]),
          Effect("Choose a creature type that the target has (animate, beast, humanoid, or magical beast). Until the end of the encounter, your attacks against creatures of that type deal 2d6 extra damage.")],"swordmage","attack","19"),
      Power("Hell's Own Blade",["arcane","fire","weapon"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"AC",damage(1,[INTMOD]),[]),
          Effect("Make a secondary attack."),
          Target("The primary target and each enemy within 2 squares of it"),
          Atk([INTMOD],"reflex",damage([3,8],[INTMOD])),
          Miss("Half damage.")],"swordmage","attack","19"),
      Power("Lightning Rod",["arcane","lightning","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("Ongoing 10 lightning damage (save ends). When the target takes ongoing damage from this power, enemies adjacent to the target take 10 lightning damage."),
          Miss("Half damage, and no ongoing damage.")],"swordmage","attack","19"),
],"swordmageutility22":[
       Power("Eyes Of The Mage",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, you gain a +5 power bonus to Perception checks, you ignore attack penalties for targets that have concealment or total concealment, and you can see invisible targets as if they were visible."),
           Line(["While this power is active, you can force an enemy within line of sight to reroll an attack roll made against you or an ally, with a -",MOD("con")," penalty. The enemy must use the new result. Using this benefit ends the power's effects immediately."])],"swordmage","utility","22"),
      Power("Giant's Might",["arcane"],"daily","minor",
          [Effect("Your size category becomes the next larger one, such as from Medium to Large. You gain a +5 power bonus to Strength ability checks, a +2 power bonus to melee attack rolls, and a +5 power bonus to melee damage rolls."),
           Line("If this power increases your size to Large, Huge, or Colossal, your space increases to match the new size and your reach also increases by 1. If there is insufficient room for your space to increase, this power automatically fails."),
           Line("This transformation persists until the end of the encounter or until you choose to end it as a minor action.")],"swordmage","utility","22"),
      Power("Shackled Warding",["arcane","stance","zone"],"daily","minor",
          [Effect("The burst creates a zone that lasts as long as the stance persists. Enemies within the zone cannot teleport. Enemies outside the zone cannot teleport into it. Enemies who begin their turn within the zone are slowed until the end of their turn.",("close burst",5)),
          Special("The zone remains centered on you, even if you move.")],"swordmage","utility","22"),
],"swordmageencounter23":[
      Power("Acid Fountain",["acid","arcane","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([INTMOD],"reflex",damage([3,10],[INTMOD]))],"swordmage","attack","23"),
      Power("Meteor Strike",["arcane","fire","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Hit("Make a secondary attack."),
          Target(["One or two other creatures within ",MOD("str",2)," squares from the primary target"]),
          Atk([INTMOD],"reflex",damage([2,6],[INTMOD,STRMOD])),
          Special(["One attack per target.",orfeat("","  When you use your aegis of assault immediate reaction, you can use this power in place of the melee basic attack.","aegis of assault")])],"swordmage","attack","23"),
      Power("Thunder Riposte",["arcane","thunder","weapon"],"encounter","immediate reaction",
          [Trigger("An adjacent creature hits you with an attack",("close blast",3)),
          Target("Each creature in blast. The creature that triggered this power must be in the area of the blast.",("close blast",3)),
          Atk([INTMOD],"fortitude",damage(1,[INTMOD]),[]),
          Hit("The target is knocked prone and dazed until the end of your next turn."),
          Other(["",orfeat("","Aegis Of Shielding:  When you use your aegis of shielding immediate interrupt, you can use this power as part of that action. The blast can originate from an ally targeted by the marked attacker. The marked attacker must be within the blast.","aegis of shielding")])],"swordmage","attack","23"),
],"swordmagedaily25":[
      Power("Bounding Lightning",["arcane","implement","lightning"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([INTMOD],"reflex",damage(3,[INTMOD]),[]),
          Effect("If a second enemy is within 5 squares of the target, make a secondary attack against that enemy."),
          Atk([INTMOD],"reflex",damage(2,[INTMOD]),[]),
          Effect("If a third enemy is within 5 squares of the target, make a tertiary attack against that enemy."),
          Atk([INTMOD],"reflex",damage(1,[INTMOD]),[])],"swordmage","attack","25"),
      Power("Icy Shackles",["arcane","cold","reliable","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(4,[INTMOD]),["melee"]),
          Hit(["Ongoing 10 cold damage (save ends). Each time the target takes a move action before it has saved against the ongoing cold damage, the target takes ",CONMOD," extra cold damage."])],"swordmage","attack","25"),
      Power("Quicksilver Blade",["arcane","stance"],"daily","minor",
          [Effect("Once per round, you can make a melee basic attack as a minor action.")],"swordmage","attack","25"),
      Power("Thundering Heart",["arcane","reliable","thunder","weapon"],"daily","standard",
          [Target("One enemy"),
          Atk([INTMOD],"fortitude",damage(1,[INTMOD]),["melee"]),
          Hit(["You push the target ",MOD("str",1)," squares. Make a secondary attack."]),
          Target("Each creature within 2 squares of the primary target, one attack per target"),
          Atk([STRMOD],"reflex",damage([3,8],[STRMOD]))],"swordmage","attack","25"),
],"swordmageencounter27":[
      Power("Maelstrom Blade",["arcane","fire","lightning","thunder","weapon"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",1)),
          Atk([INTMOD],"AC",damage(3,[INTMOD]),[]),
          Other(["",orfeat("","Special:  When you use your aegis of assault immediate reaction, you can use this power in place of the melee basic attack.","aegis of assault")])],"swordmage","attack","27"),
      Power("Circle Of Devastation",["arcane","force","weapon"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",2)),
          Atk([INTMOD],"fortitude",damage(2,[INTMOD]),[]),
          Hit("You push the target 3 squares."),
          Other(["",orfeat("","Special:  When you use your aegis of shielding immediate interrupt, you can use this power as part of that action. Instead of you being the center of the burst, choose an ally targeted by the attack that triggered your aegis of shielding. That ally is the center of the burst.","aegis of shielding")])],"swordmage","attack","27"),
      Power("Dimensional Charge",["arcane","fire","lightning","teleportation","thunder","weapon"],"encounter","standard",
          [Target("One creature"),
          Effect("Before making the attack, you can teleport 10 squares to a space adjacent to the target. If you do, the attack is a charge."),
          Atk([INTMOD],"AC",damage(4,[INTMOD]),["melee"])],"swordmage","attack","27"),
],"swordmagedaily29":[
      Power("Astral Thunder Blade",["arcane","thunder","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(2,[INTMOD]),["melee"]),
          Effect("Make a secondary attack."),
          Target("The primary target and each enemy within 2 squares of it."),
          Atk([INTMOD],"fortitude",damage([2,8],[])),
          Hit("The target is stunned until the start of your next turn."),
          Miss("No damage or stun, but the secondary target is dazed until the start of your next turn.")],"swordmage","attack","29"),
      Power("Obliterating Blaze",["arcane","fire","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(5,[INTMOD]),["melee"]),
          Effect("Arcane fire continually burns in your target's veins. When the target is reduced to 0 hit points or fewer (if this happens before the end of the encounter), make a secondary attack."),
          Target("Each enemy within 2 squares of the primary target"),
          Atk([INTMOD],"fortitude",damage([4,10],[])),
          Miss("Half damage.")],"swordmage","attack","29"),
      Power("Vorpal Doom",["arcane","reliable","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([INTMOD],"AC",damage(7,[INTMOD]),["melee"]),
          Effect("Until the end of the encounter, your melee attacks with this weapon, including this attack, can score critical hits if your attack roll is a natural 19 or 20.")],"swordmage","attack","29"),
]}
    addPowers(swordmageList)

def warden():
    wardenList={"wardenat-will1":[
      Power("Earth Shield Strike",["primal","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])
          ,Hit("You gain a +1 power bonus to AC until the end of your next turn.")],"warden","at-will",1),
      Power("Resilience of Life",["primal","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20),[STRMOD]),["melee"])
          ,Hit(["An ally adjacent to you gains ",MOD("wis")," temporary hit points"])],"warden","at-will",1),
      Power("Strength of Stone",["primal","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])
          ,Hit(["You gain ",MOD("con")," temporary hit points."])],"warden","at-will",1),
      Power("Tempest Assault",["lightning","primal","thunder","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20),[STRMOD]),["melee"],[],"lightning")
          ,Hit(["One enemy within 2 squares of you that is marked by you, other than the target, takes ",MOD("con")," thunder damage."])],"warden","at-will",1),
      Power("Thorn Strike",["primal","weapon"],"at-will","standard",
          [Target("one creature",("melee",2)),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])
          ,Hit("You pull the target 1 square.")],"warden","at-will",1),
      Power("Weight of Earth",["primal","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20),[STRMOD]),["melee"])
          ,Hit("The target is slowed until the end of your next turn.")],"warden","at-will",1),
],"wardenencounter1":[
      Power("Earth Spikes",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("Until the end of your next turn, the target's space and each square adjacent to it are filled with spikes.  Any enemy that enters this spike-filled area or starts its turn there takes 5 damage.")],"warden","attack",1),
      Power("Gale Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Each enemy marked by you, other than the target, takes ",MOD("con")," damage.",orfeat("","  You also slide each enemy marked by you 1 square.","stormheart")])],"warden","attack",1),
      Power("Grasping Winds",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("You pull each enemy within 3 squares of you 2 squares.")],"warden","attack",1),
      Power("Hungry Earth",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),[])
          ,Effect("Until the end of your next turn, each square in the burst is difficult terrain for your enemies.")],"warden","attack",1),
      Power("Rending Fury",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Special("Make the attack roll twice and use either result."),
          Hit(["Until the end of your next turn, the target takes a ",orfeat(-2,WISMOD,"wildblood")," penalty to attack rolls for attacks that don't include you as a target.  If both your attacks would hit, the penalty equals ",orfeat(-5,lambda x:x.mod("wis")+1,"wildblood"),"."])],"warden","attack",1),
      Power("Roots of Stone",["primal","weapon","zone"],"encounter","standard",
          [Effect("The burst creates a zone of rippling earth that lasts until the end of your next turn.  Make the following attack.",("close burst",1)),
           Target("each enemy in burst"),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit(["The target is knocked prone ",orfeat("",["and takes ",MOD("con")," damage "],"earthstrength"),"when it leaves the zone."])],"warden","attack",1),
      Power("Thunder Ram Assault",["primal","thunder","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])
          ,Hit(["",orfeat("",["You push the target ",MOD("con")," squares.  "],"Earthstrength"),"Make a secondary attack."])
          ,Target("Each creature in blast",("close blast",3)),Atk([STRMOD],"fortitude",damage([1,6],["melee"]))
          ,Hit("Push the secondary target 1 square.")],"warden","attack",1),
      Power("Warden's Sacrifice",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit(["Until the end of your next turn, when any enemy hits you, an ally within 3 squares of you gains ",orfeat(5,lambda x:x.mod("wis")+5,"lifespirit")," temporary hit points."])],"warden","attack",1),
      Power("Wildblood Frenzy",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD,orfeat(WISMOD,0,"Wildblood")]),["melee"])
          ,Effect("Make the attack one more time against the same target or a different one")],"warden","attack",1),
],"wardendaily1":[
      Power("Form of the Dread Serpent",["poison","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the dread serpent until the end of the encounter.  While you are in this form, you gain resist 5 poison and a +2 bonus to Reflex.  In addition, you can shift 1 square as a minor action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one or two creatures"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target takes ongoing 5 poison damage and is slowed (save ends both)."),
           Miss("Half damage, and the target takes ongoing 2 poison damage and is slowed (save ends both).")],"warden","attack",1),
      Power("Form of the Faultless Tracker",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the faultless tracker until the end of the encounter.  While you are in this form, you gain a +5 power bonus to Perception checks, and you ignore the penalty to attack rolls from concealment (but not total concealment).  In addition, you and any allies within 2 squares of you do not grant combat advantage for being flanked."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Miss(),
           Effect("The target can't gain concealment or total concealment (save ends).")],"warden","attack",1),
      Power("Form of the Fearsome Ram",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the fearsome ram until the end of the encounter.  While you are in this form, you gain a +2 power bonus to speed and a +2 bonus to charge attack rolls.  In addition, when you hit a target with an at-will attack, you push the target 1 square.  If the attack already pushes the target, the distance of the push increases by 1."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("You push the target 3 squares and knock it prone.  You then shift into a space that must be adjacent to the target."),
           Miss("Half damage, and you push the target 1 square.  you then shift into a square the target vacated.")],"warden","attack",1),
      Power("Form of the Laughing Killer",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the laughing killer until the end of the encounter.  While you are in this form, you gain a +2 bonus to Will and to saving throws against charm effects.  In addition, your allies have combat advantage when making melee attacks against any enemy adjacent to you."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one bloodied creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
           Hit("Ongoing 5 damage (save ends)."),
           Miss()],"warden","attack",1),
      Power("Form of the Mountain's Thunder",["lightning","polymorph","primal","thunder","weapon"],"daily","minor",
          [Effect(["You assume the guardian form of mountain's thunder until the end of the encounter.  While you are in this form, you gain resist 3 to all damage and a +1 bonus to AC.  Once per round when you hit an enemy with a melee attack, each enemy marked by you takes ",MOD("str")," thunder damage."]),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("each enemy you can see in burst",("close burst",1)),Atk([STRMOD],"reflex", damage(1, [STRMOD]),[]),
           Hit("You knock the target prone."),
           Miss(),
           Effect(["Each enemy marked by you takes ",MOD("str")," lightning damage."])],"warden","attack",1),
      Power("Form of the Relentless Panther",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the relentless panther until the end of the encounter.  While you are in this form, you gain a +2 bonus to Reflex and a +1 bonus to attack rolls against enemies marked by you.  In additon, you can shift 2 squares as a move action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
           Hit("Ongoing 5 damage (save ends)."),
           Miss("Half damage, and ongoing 2 damage (save ends).")],"warden","attack",1),
      Power("Form of the Swamp Hunter",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the swamp hunter until the end of the encounter.  While you are in this form, you gain swamp walk, a swim speed equal to your speed, and a +2 bonus to attack rolls against immobilized creatures.  In addition, when you reduce any enemy marked by you to 0 hit points with an attack, you mark one enemy within 5 squares of you until the end of your next turn."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action\tMelee Weapon"),
           Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
           Hit("You grab the target.  If the target is dazed, immobilized, slowed, or stunned, the attack deals 1[W] extra damage."),
           Miss()],"warden","attack",1),
      Power("Form of the Willow Sentinel",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the willow sentinel until the end of the encounter.  While you are in this form, you can negate being pulled, pushed, or slid.  In addition, any ally gains a +2 power bonus to Fortitude while adjacent to you."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Immediate Interrupt\tMelee 1"),
           Trigger("An enemy adjacent to you makes an attack roll against your ally."),
           Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target takes a -4 penalty to the triggering attack roll."),
           Miss("Half damage, and the target takes a -2 penalty to the triggering attack roll.")],"warden","attack",1),
      Power("Form of Winter's Herald",["cold","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of winter's herald until the end of the encounter.  While you are in this form, you gain a +1 bonus to AC and resist 5 cold.  In addition, each square within 2 squares of you, whenever you move, is difficult terrain for your enemies."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("The target is immobilized (save ends)."),
           Miss("Half damage, and the target is immobilized until the end of your next turn.")],"warden","attack",1),
],"wardenutility2":[
      Power("Erupting Font",["primal"],"encounter","no",
          [Trigger("You succeed on the saving throw granted by your Font of Life class feature"),
           Target("each enemy in burst",("close burst",5)),
           Effect("You mark each target until the end of your next turn.")],"warden","utility2"),
      Power("Eyes of the Hawk",["primal"],"encounter","minor",
          [Effect("You make a Perception check with a +10 power bonus.")],"warden","utility2"),
      Power("Guardian Thorns",["primal"],"encounter","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("Until the end of your next turn, when any enemy marked by you hits or misses the target, that enemy takes 5 damage.")],"warden","utility2"),
      Power("Mountain Lion Step",["primal"],"encounter","minor",
          [Effect("You ignore difficult terrain until the end of your next turn.")],"warden","utility2"),
      Power("Nature's Abundance",["primal","zone"],"daily","standard",
          [Effect("The burst creates a zone of plants that lasts until the end of the encounter.  You and your allies have cover while within the zone.")],"warden","utility2"),
      Power("Triumphant Vigor",["healing","primal"],"daily","minor",
          [Requirement("You must have reduced an enemy to 0 hit points during this turn."),
          Effect(["You regain 1d6+",lambda x:x.mod("wis")+x.mod("con")," hit points."])],"warden","utility2"),
      Power("Warden's Tempest",["primal"],"encounter","minor",
          [Target("one enemy marked by you",("melee",1)),
           Effect("You slide the target 1 square.")],"warden","utility2"),
      Power("Warding Touch",["primal"],"encounter","minor",
          [Target("one ally",("melee",1)),
           Effect(["Until the end of your next turn, you take a -",MOD("con")," penalty to AC, and the target gains a +",MOD("con")," power bonus to AC.  If the target has any creatures marked, those marks end, and if the target marks a creature, this effect ends."])],"warden","utility2"),
],"wardenencounter3":[
      Power("Burst of Earth's Fury",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
          Hit("The target cannot shift until the end of your next turn.")],"warden","attack",3),
      Power("Earthgrasp Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["You knock the target prone.  ",orfeat("The first time the target stands up before the end of your next turn","The target can't stand up until the end of your next turn, and the first time it stands up before the end of the encounter","earthstrength"),", it takes ",dmg(STRMOD,1,10),"."])],"warden","attack",3),
      Power("Guardian Shock Wave",["primal","weapon","zone"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("The squares adjacent to the target become a zone of shifting ground until the end of your next turn.  Any enemy marked by you that enters the zone is knocked prone.")],"warden","attack",3),
      Power("Predatory Guardian",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["If the target shifts before the end of your next turn, you shift ",orfeat(2,[lambda x:x.mod("wis")+1],"wildblood")," squares as an immediate reaction."])],"warden","attack",3),
      Power("Pressing Attack",["primal","weapon"],"encounter","standard",
          [Effect(["Before the attack, you move ",orfeat(4,lambda x:x.mod("wis")+4,"wildblood")," squares."]),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])],"warden","attack",3),
      Power("Rough Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,CONMOD,"earthstrength")]),["melee"]),
           Hit("The target is slowed until the end of your next turn.")],"warden","attack",3),
      Power("Strongskin Clash",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit(["Each ally in the burst gains resist ",orfeat(3,lambda x:x.mod("wis")+2,"lifespirit")," to all damage until the end of your next turn."])],"warden","attack",3),
      Power("Thundering Strike",["primal","thunder","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target is dazed and deafened until the end of your next turn.")],"warden","attack",3),
      Power("Violent Bolt",["lightning","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
           Hit(["One enemy marked by you, other than the target, must choose to either fall prone or to take 5 lightning damage.",orfeat("",["Whatever its choice, the marked enemy takes ",MOD("con")," lightning damage."],"stormheart")])],"warden","attack",3),
],"wardendaily5":[
      Power("Clutching Mire",["primal","weapon","zone"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("The target is slowed (save ends)."),
           Miss("Half damage, and the target is slowed until the end of your next turn."),
           Effect("The blast creates a swampy zone that lasts until the end of your next turn.  The zone is diffucult terrain, and any creature that ends its turn within the zone is slowed (save ends).")],"warden","attack",5),
      Power("Earth-Shaking Rend",["primal","weapon","zone"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Miss(),
           Effect("Each target is knocked prone.  The blast creates a zone of shifting earth that lasts until the end of your next turn.  The zone is difficult terrain, and any creture that ends its turn within the zone is knocked prone."),
           Sustain()],"warden","attack",5),
      Power("Storm Strike",["lightning","primal","weapon"],"daily","standard",
          [Target("each creature in blast",("close blast",3)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("You slide the target 3 squares."),
           Miss("Half damage, and you slide the target 1 square.")],"warden","attack",5),
      Power("Hail of Thorns",["poison","primal","weapon"],"daily","standard",
          [Target("each creature in blast you can see"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),[]),
          Hit("The target takes ongoing 5 poison damage and is slowed (save ends both)."),
          Miss("Half damage, and the target is slowed (save ends).")],"warden","attack",5),
      Power("Lifebind Attack",["primal","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Miss(),
          Effect("While the target is marked by you, its penalty to attack rolls for the marked condition is -5 instead of -2.  this effect lasts until you end your turn more than 5 squares away from the target or until the end of the encounter.")],"warden","attack",5),
      Power("Rampant Forest",["primal","weapon","zone"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("The target's space and each square adjacent to it become a zone of difficult terrain for your enemies until the end of the encounter."),
           Miss(),
           Effect("Until the end of the encounter, when you first hit any enemy after using this power, that enemy's current space and each square adjacent to it become a zone of difficult terrain for your enemies until the end of the encounter.")],"warden","attack",5),
      Power("Thunder Step",["primal","teleportation","thunder","weapon"],"daily","standard",
          [Effect("Before the attack, you teleport 5 squares."),
           Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit("The target is dazed (save ends)."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"warden","attack",5),
      Power("Wellspring Strike",["healing","primal","weapon"],"daily","standard",
          [Target("each enemy in burst",("close burst",2)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("Ongoing 5 damage (save ends)."),
           Miss(),
           Effect("Until the end of the encounter, you gain regeneration 5 while bloodied.  At the start of each of your turns, you can forgo regaining the 5 hit points to allow a bloodied ally adjacent to you to regain them again.")],"warden","attack",5),
      Power("Winter's Grip",["cold","primal","weapon","zone"],"daily","standard",
          [Target("each creature in blast"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),[]),
           Hit("The target is slowed (save ends)."),
           Miss(),
          Effect("The blast creates a zone of frost that lasts until the end of your next turn.  Any creature that enters the zone or starts its turn there takes 5 cold damage."),
          Sustain()],"warden","attack",5),
],"wardenutility6":[
      Power("Bear's Endurance",["healing","primal"],"daily","immediate interrupt",
          [Trigger("You drop to 0 hit points or fewer"),
           Effect("You regain hit points as if you had spent a healing surge.")],"warden","utility",6),
      Power("Earthguard",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends, you gain a +1 power bonus to all defenses.")],"warden","utility",6),
      Power("Returning the Gift",["primal","stance"],"daily","immediate interrupt",
          [Trigger("An ally targets you with a power that does not include that ally as a target."),
           Effect("That ally also becomes a target of the power.")],"warden","utility",6),
      Power("Sea Stride",["primal"],"at-will","minor",
          [Effect("You gain a swim speed equal to your speed until the end of your turn.")],"warden","utility",6),
      Power("Soothing Wind",["healing","primal"],"daily","minor",
          [Effect("You use your second wind and regain 2d6 additional hit points.")],"warden","utility",6),
      Power("Treacherous Ice",["primal","stance"],"daily","minor",
          [Effect("Until the stance ends, enemies can't shift into or out of squares adjacent to you.")],"warden","utility",6),
      Power("Wilding Strength",["primal"],"daily","minor",
          [Effect("Until the end of your next turn, whenever you make an attack roll or a damage roll with a weapon attack, roll a d6 and add it as a power bonus to the attack roll.")],"warden","utility",6),
      Power("Windbourne Step",["primal"],"encounter","move",
          [Effect("You shift 2 square.  You ignore difficult terrain during the shift.")],"warden","utility",6),
      Power("Wrathful Mastery",["primal"],"daily","immediate reaction",
          [Trigger("An enemy attack hits you and damages you"),
           Effect(["You take ",lambda x:x.statret("level")/2," extra damage from the triggering attack.  The next time you attack any enemy marked by you before the end of the encounter, you gain a +",MOD("con")," bonus to the attack roll and the damage roll."])],"warden","utility",6),
],"wardenencounter7":[
      Power("Angry Spirits",["primal","weapon"],"encounter","standard",
          [Target("each enemy marked by you in burst",("close burst",2)),Atk([STRMOD],"will", damage(1, [STRMOD]),[])],"warden","attack",7),
      Power("Earth Gift",["healing","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You regain 10 hit points.")],"warden","attack",7),
      Power("Guardian's Pounce",["primal","weapon"],"encounter","immediate reaction",
          [Trigger(["An enemy enters a square adjacent to an ally within ",orfeat(3,lambda x:x.mod("wis")+3,"wildblood")," squares of you on its turn."]),
           Effect("You shift your speed to a square adjacent to the triggering enemy and then make the following attack:"),
           Target("triggering enemy"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("The target takes a -5 penalty to attack rolls until the end of its turn.")],"warden","attack",7),
      Power("Mountain Hammer",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Effect(["The target takes a -",orfeat(2,lambda x: x.mod("con")+1,"earthstrength")," penalty to melee attack rolls until the end of your next turn."])],"warden","attack",7),
      Power("Mountain's Stature",["primal","weapon"],"encounter","standard",
          [Target("one or two creatures",("melee weapon","+1 reach")),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["You can either pull the target ",orfeat("1 square","2 squares","earthstrength")," or knock it prone."])],"warden","attack",7),
      Power("Sheltering Storm",["primal","weapon"],"encounter","standard",
          [Target("each enemy you can see in burst",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Effect(["Until the end of your next turn, when any ally adjacent to you is targeted by an attack that does not include you as a target, you can swap places with that ally as an immediate interrupt.  You become the target of that attack instead of the ally.",orfeat("",["  The attack that targets you takes a -",MOD("wis")," penalty."],"lifespirit")])],"warden","attack",7),
      Power("Stalker's Positioning",["fear","primal","psychic","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You slide the target 1 square.  You can slide the target into a second creature's space and then slide the second creature 1 square.",orfeat("",["  Both the target and the second creature take ",MOD("wis")," damage."],"wildblood")])],"warden","attack",7),
      Power("Thorn Burst",["poison","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"],[],""),
          Hit("Make a secondary attack"),
          Target("each enemy adjacent to the primary target"),Atk([STRMOD],"reflex",damage([0,0],[5]))],"warden","attack",7),
      Power("Winter's Claws",["cold","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["The target is slowed until the end of your next turn.",orfeat("",["Until the end of your next turn, if the target makes an attack that does not include you as a target, the target and each enemy marked by you take ",MOD("con")," cold damage."],"stormheart")])],"warden","attack",7),
],"wardendaily9":[
      Power("Form of Paradise's Bounty",["healing","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of paradise's bounty until the end of the encounter.  While you are in this form, you gain a resist 5 necrotic and a +2 bonus to Fortitude.  In addition, whenever you spend a healing surge, each ally within 2 squares of you gains 5 hit points."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
           Hit("The target is dazed and slowed (save ends)."),
           Miss("Half damage, and the target is dazed and slowed until the end of your next turn.")],"warden","attack",9),
      Power("Form of the Flame Snake",["fire","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the flame snake until the end of the encounter.  While you are in this form, you gain resist 10 fire, a +1 bonus to AC, and a +5 bonus to Athletics checks."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
           Effect("Ongoing 10 fire damage (save ends).")],"warden","attack",9),
      Power("Form of the Frenzied Wolverine",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the frenzied wolverine until the end of the encounter.  While you are in this form, you gain a +2 bonus to attack rolls against any enemy that is bloodied or taking ongoing damage.  In addition, you can use your second wind as a minor action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("Ongoing 5 damage (save ends)."),
           Miss("Half damage, and ongoing 2 damage (save ends).")],"warden","attack",9),
      Power("Form of the Hunting Shark",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the hunting shark until the end of the encounter.  While you are in this form, you gain a swim speed equal to your speed.  In addition, while any ally flanks an enemy with you, he or she gains a +4 bonus to attack rolls against that enemy because of combat advantage, instead of +2."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["If the target is bloodied, it takes ongoing ",lambda x:x.mod("wis")+5," damage (save ends)."]),
           Miss(["Half damage.  If the target is bloodied, it takes ongoing ",MOD("wis")," damage (save ends)."])],"warden","attack",9),
      Power("Form of the Oak Sentinel",["polymorph","primal","weapon"],"daily","minor",
          [Effect(["You assume the guardian form of the oak sentinel until the end of the encounter.  While you are in this form, your melee reach increases by 1.  In addition, any enemy that hits you with a melee takes ",raising(STRMOD,20), " damage."]),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Immediate Interrupt"),
           Trigger("An enemy within your melee reach makes a melee attack against your ally."),
           Target("the triggering enemy"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Miss(),
           Effect("You become the target of the triggering attack, even if you aren't within that attack's range.")],"warden","attack",9),
      Power("Form of the Sirocco",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the sirocco until the end of the encounter.  While you are in this form, you gain resist 5 to all damage, and you can shift 2 squares as a move action.  In addition, whenever you shift, you can move through enemies' spaces."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
           Hit("The target is blinded (save ends)."),
           Miss("Half damage, the target is blinded until the end of your next turn.")],"warden","attack",9),
      Power("Form of the Stalwart Mastadon",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the stalwart mastadon until the end of the encounter.  While you are in this form, you gain a +2 bonus to all defenses while bloodied.  In addition, when you push or slide an enemy, you can increase the distance of the forced movement by 1 square."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature",("melee",1)),Atk([STRMOD,2],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("You slide the target 2 squares and knock it prone.  You must shift to a square the target vacated.")],"warden","attack",9),
      Power("Form of the Stone Sentinel",["healing","polymorph","primal","weapon"],"daily","minor",
          [Effect(["You regain hit points as if you had spent a healing surge.  You also assume the guardian form of the stone sentinel until the end of the encounter.  While you are in this form, you gain regeneration ",MOD("con"),"."]),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Miss(),
           Effect("You can spend a healing surge.")],"warden","attack",9),
      Power("Form of the Storm Eagle",["lightning","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the storm eagle until the end of the encounter.  While you are in this form, you gain resist 5 lightning.  You can fly your speed as a move action and must land at the end of the action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Minor Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("The target is dazed (save ends)."),
           Miss("Half damage, and the target is dazed until the end of your next turn.")],"warden","attack",9),
],"wardenutility10":[
      Power("Bond of Shared Pain",["primal",],"encounter","immediate interrupt",
          [Trigger("An ally within 2 squares of you takes damage from an attack"),
           Target("the triggering ally in burst",("close burst",2)),
           Effect("You take the damage from the attack, instead of the target, but the target takes any other effect caused by the attack.")],"warden","utility",10),
      Power("Earthstride",["primal","teleportation",],"encounter","move",
          [Effect(["You teleport ",MOD("con")," squares."])],"warden","utility",10),
      Power("Elemental Warding",["primal"],"encounter","minor",
          [Target("you and each ally in burst",("close burst",1)),
           Effect(["Choose cold, fire, lightning, or thunder.  Until the end of your next turn, each target gains resist ",lambda x:x.statret("level")/2," to that damage."])],"warden","utility",10),
      Power("Guardian's Attack",["primal"],"daily","minor",
          [Other("Requirement:  You must be in a guardian form and have used that form's attack during this encounter."),
           Effect("You regain the use of the guardian form's attack")],"warden","utility",10),
      Power("Returning Strength",["healing","primal"],"daily","minor",
          [Effect(["You spend a healing surge and regain ",MOD("str")," additional hit points."])],"warden","utility",10),          
      Power("Shared Font of Life",["primal",],"encounter","no",
          [Trigger("You start your turn"),
           Target("one ally in burst",("close burst",5)),
           Effect("The target can make a saving throw, and you can't use your Font of Life class feature during this turn.")],"warden","utility",10),
      Power("Shield of Stone",["primal"],"daily","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("You slide the target 5 squares.  Until the end of your next turn, the target gains resist 5 to all damage and a +2 power bonus to all defenses.")],"warden","utility",10),
      Power("Spiritual Rejuvination",["primal"],"daily","minor",
          [Other("Requirement: You must have used your second wind during this encounter."),
           Effect("You regain the use of your second wind.")],"warden","utility",10),
      Power("Warding Vines",["primal","zone"],"daily","minor",
          [Effect(["The burst creates a zone of protective vines that lasts until the end of the encounter.  While within the zone, you and your allies gain resistance ",MOD("con")," to all damage."])],"warden","utility",10),          
],"wardenencounter13":[
      Power("Creeper's Grasp",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit("The target is immobilized until the end of your next turn."),],"warden","attack",13),
      Power("Erupting Vines",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["The target and each enemy adjacent to it are immobilized until the end of your next turn.",orfeat("","  An enemy within 2 squares of the target is also immobilized.","earthstrength")])],"warden","attack",13),
      Power("Healing Harvest",["healing","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Until the start of your next turn, when any ally hits the target, that ally regains ",lambda x:x.mod("wis")+2," hit points.",orfeat("","  The target grants combat advantage to your allies until the start of your next turn.","lifespirit")]),],"warden","attack",13),
      Power("Icy Shards",["cold","primal","weapon"],"encounter","immediate interrupt",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("The target is slowed until the end of your next turn.  Make a secondary attack."),
           Target("each enemy adjacent to the primary target."),Atk([STRMOD],"fortitude", damage([0,0],[5]))],"warden","attack",13),
      Power("Mark of Talons",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You shift ",orfeat(2,WISMOD,"wildblood")," squares and then mark each enemy adjacent to you until the end of your next turn."]),],"warden","attack",13),
      Power("Ponderous Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Other(["",orfeat("Hit","Effect","earthstrength"),": The target provokes an opportunity attack from you if it shifts before the end of your next turn."])],"warden","attack",13),
      Power("Rumbling Doom",["lightning","primal","thunder","weapon"],"encounter","standard",
          [Target("one creature in burst",("close burst",5)),Atk([STRMOD],"reflex", damage(2, [STRMOD]),[],[],"thunder"),
          Hit(["You slide the target 2 squares.  The target is deafened and marked until the end of your next turn.  At the start of your next turn, each enemy marked by you that is not adjacent to you takes ",orfeat(5,lambda x:3+x.mod("con"),"stormheart")," lightning damage."]),],"warden","attack",13),
      Power("Sacrificial Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Until the end of your next turn, when any enemy hits you, an ally within 3 squares of you gains ",orfeat(10,lambda x:x.mod("wis")+10,"lifespirit")," temporary hit points."]),],"warden","attack",13),
      Power("Stormhowler's Strike",["primal","teleportation","weapon","zone"],"encounter","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),[]),
          Effect("The blast creates a zone of howling wind that lasts until the end of your next turn.  Any enemy that starts its turn within the zone and ends its turn outside the zone is teleported at the end of its turn to a square within the zone.")],"warden","attack",13),
      Power("Sunburst Strike",["primal","radiant","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit(["The target is blinded until the end of your next turn.",orfeat("","  If the target is bloodied, you shift 2 squares.","wildblood")])],"warden","attack",13),
],"wardendaily15":[
      Power("Form of Summer Fire",["fire","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of summer fire until the end of the encounter.  While you are in this form, you gain resist 10 fire and a +3 bonus to damage rolls."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst",("close burst",2)),Atk([STRMOD],"reflex", damage(2, [STRMOD]),[]),
           Miss()],"warden","attack",15),
      Power("Form of the Avalanche Unleashed",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the avalanche unleashed until the end of the encounter.  While you are in this form, you gain resist 5 to all damage.  In addition, each enemy that starts its turn within 2 squares of you is slowed until the start of its next turn."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Hit("You knock the target prone.  The target is stunned (save ends)."),
           Miss("Half damage, and the target is dazed (save ends).")],"warden","attack",15),
      Power("Form of the Charging Boar",["polymoprh","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the charging boar until the end of the encounter.  While you are in this form, you gain resist 5 to all damage and a +2 power bonus to Fortitude and Will."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Effect("Before the attack, you move your speed."),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("You slide the target 2 squares"),
           Miss("Half damage, and you slide the target 1 square.")],"warden","attack",15),
      Power("Form of the Crushing Mountain",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the crushing mountain until the end of the encounter.  While you are in this form, you gain a +2 bonus to AC.  In addition, enemies adjacent to you cannot shift, and enemies must spend 1 extra square of movement to leave squares adjacent to you."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy you can see in burst",("close burst",3)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("You pull the target 2 squares."),
           Miss("Half damage, and you pull the target 1 square.")],"warden","attack",15),
      Power("Form of the Hunting Tiger",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the hunting tiger until the end of the encounter.  While you are in this form, you gain a +2 bonus to speed and Reflex.  In addition, when any enemy marked by you makes an attack roll against any of your allies, you can shift 2 squares toward that enemy as a free action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
           Special("Make the attack roll twice and use either result."),
           Hit("If both of your attacks would hit, the attack deals 10 extra damage."),
           Miss()],"warden","attack",15),
      Power("Form of the Rowan Sentinel",["lightning","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the rowan sentinel until the end of the encounter.  While you are in this form, you gain resist 10 lightning, and your melee reach increases by 1.  In addition, if any enemy starts its turn within 3 squares of you and you are able to take actions, that enemy is marked until the end of your next turn."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit("The target is dazed and takes ongoing 5 lightning damage (save ends)."),
           Miss("Half damage, and the target is dazed until the end of your next turn.")],"warden","attack",15),
      Power("Form of the Sand Sentinel",["fire","polymorph","primal","weapon"],"daily","minor",
          [Effect("You gain 10 temporary hit points, and you assume the guardian form of the sand sentinel until the end of the encounter.  While you are in this form, you gain a +2 bonus to Fortitude.  In addition, when you hit any enemy, an ally within 5 square of you gains 5 temporary hit points."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each creture in blast",("close blast",3)),Atk([STRMOD],"AC", damage(2, [STRMOD]),[]),
           Miss()],"warden","attack",15),
      Power("Form of the Stonecrusher",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the stonecrusher until the end of the encounter.  While you are in this form, you gain a +2 bonus to AC.  If you are pulled, pushed, or slid, you can reduce the distance of the forced movement by 2 squares."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("The target is immobilized (save ends)."),
           Miss(),
           Effect("You knock the target prone.")],"warden","attack",15),
      Power("Form of the Windstorm's Wrath",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the windstorm's wrath until the end of the encounter.  While you are in this form, you gain a +2 bonus to Fortitude and Reflex.  In addition, allies adjacent to you take half damage from melee attacks and ranged attacks."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature",("close blast",3)),Atk([STRMOD],"AC", damage(1, [STRMOD]),[]),
           Hit("You slide the target 3 squares and knock it prone."),
           Effect("You slide each enemy marked by you 1 square.")],"warden","attack",15),
],"wardenutility16":[
      Power("Cleansing Earth",["primal"],"encounter","immediate reaction",
          [Trigger("You are subjected to an effect that a save can end."),
           Effect(["You make a saving throw against the triggering effect, with a +",MOD("str")," power bonus to the saving throw."])],"warden","utility",16),
      Power("Fortress of Stone",["primal"],"encounter","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("Until the end of your next turn or until the target moves, the target gains cover, and no enemy can enter a square adjacent to him or her.")],"warden","utility",16),
      Power("Invigorating Presence",["primal"],"daily","minor",
          [Target("you and each ally in burst",("close burst",3)),
           Effect("Each target gains 15 temporary hit points.")],"warden","utility",16),
      Power("Masking Fog",["primal"],"daily","minor",
          [Target("each ally in blast",("close blast",5)),
           Effect("Each target gains concealment until the end of your next turn."),
           Sustain("minor","The effect persists, but it ends on one target of your choice.")],"warden","utility",16),
      Power("Monkey's Grip",["primal"],"at-will","minor",
          [Effect("Until the end of your turn, you gain a climb speed equal to half your speed.")],"warden","utility",16),
      Power("Primal Leap",["primal"],"encounter","move",
          [Effect(["You jump ",lambda x:x.statret("speed")+x.mod("str")," squares."])],"warden","utility",16),
      Power("Sun Fire Guardian",["primal"],"encounter","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("Until the end of your next turn, when any enemy marked by you makes an attack roll against the target, that enemy is blinded until the end of the turn during which it makes the attack roll.")],"warden","utility",16),
      Power("Verdant Life",["healing","primal"],"daily","minor",
          [Effect("You can spend two healing surges.")],"warden","utility",16),
      Power("Warden's Refusal",["primal"],"encounter","immediate reaction",
          [Trigger("An enemy marked by you ends its movement within 5 squares of you and is flanking your ally."),
           Target("the triggering enemy in burst",("close burst",5)),
           Effect("You slide the target 1 square.")],"warden","utility",16),
],"wardenencounter17":[
      Power("Call Forth the Harvest",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Make a secondary attack."),
          Target("each enemy in burst",("close burst",2)),Atk([STRMOD],"reflex",None,["melee"]),
          Hit("The secondary target is marked ans slowed until the end of your next turn.")],"warden","attack",17),
      Power("Eager Vine Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["The target is immobilized until the end of your next turn.",orfeat("",["  The target also takes a -",MOD("con")," penalty to AC and Reflex until the end of your next turn."],"earthstrength")])],"warden","attack",17),
      Power("Earth Hold's Rebuke",["healing","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("You can spend a healing surge.")],"warden","attack",17),
      Power("Flames of Life",["fire","healing","primal","weapon"],"encounter","standard",
          [Target("one or two creatures"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["An ally within 5 squares of you regains ",orfeat(5,lambda x:x.mod("wis")+5,"lifespirit")," hit points."])],"warden","attack",17),
      Power("Leap of the Relentless Hunter",["primal","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy marked by you enters a square adjacent to your ally within 5 squares of you."),
           Effect("You shift your speed to a square adjacent to the triggering enemy.  Then make the following attack."),
           Target("the triggering enemy"),Atk([STRMOD,orfeat(0,WISMOD,"widlblood")],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You slide the target 1 square to a square adjacent to you.")],"warden","attack",17),
      Power("Razorleaf Cut",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD,orfeat(0,WISMOD,"wildblood")]),["melee"]),
          Hit("The target is weakened until the end of your next turn")],"warden","attack",17),
      Power("Rough Advantage",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,orfeat(0,CONMOD,"earthstrength")]),["melee"]),
          Hit("The target is immobilized until the end of your next turn.")],"warden","attack",17),
      Power("Warden's Lure",["fire","primal","weapon"],"encounter","standard",
          [Target("each enemy you can see in burst",("close burst",4)),
           Effect("You pull each target 3 squares to a square adjacent to you.  Then make the following attack."),
           Target("EAch enemy adjacent to you"),Atk([STRMOD],"AC", damage(2, [STRMOD]),[]),
          Hit("You slide the target 1 square")],"warden","attack",17),
      Power("Windy Assault",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["You knock the target prone.  You then pull each enemy within 5 squares of you that is marked by you 2 squares.",orfeat("","  Each enemy within 5 squares of you that is marked by you grants combat advantage until the start of your next turn.","stormheart")])],"warden","attack",17),
],"wardendaily19":[
      Power("Blizzard Strike",["cold","primal","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("The target is slowed (save ends)."),
          Other("First Failed Saving Throw: The target is immobilized instead of slowed (save ends)."),
          Other("Second Failed Saving Throw: The target is restrained instead of immobilized (save ends)."),
          Miss("Half damage, and the target is slowed until the end of your next turn."),
          Effect("Each enemy within 3 squares of you, other than the target, is slowed until the end of your next turn.")],"warden","attack",19),
      Power("Creeping Brambles",["primal","weapon","zone"],"daily","standard",
          [Target("eacj enemy in blast"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),[]),
           Hit("The target is slowed (save ends)."),
           Miss("Half damage, and the target is slowed until the end of your next turn."),
           Effect("The blast creates a zone of brambles that lasts until the end of your next turn.  While within the zone, you and your allies gain cover.  When any enemy enters the zone or starts its turn there, it takes 5 damage.  As a move action, you can move the zone 3 squares."),
           Sustain()],"warden","attack",19),
      Power("Dire Beast Assault",["primal","weapon"],"daily","standard",
          [Effect("Before and after the attack, you shift 1 square."),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("Ongoing 10 damage (save ends)."),
           Miss("Half damage, and ongoing 10 damage (save ends).")],"warden","attack",19),
      Power("Howl of Wrath",["fear","primal","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("The target and each enemy within 5 squares of you are immobilized (save ends)."),
           Miss("Half damage, and the target and each enemy within 5 squares of you are slowed until the end of your next turn.")],"warden","attack",19),
      Power("Lightning Barrage",["lightning","primal","weapon"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"reflex", damage(1, [STRMOD]),["melee"]),
          Hit("The target is blinded and dazed (save ends both)."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"warden","attack",19),
      Power("Sparking Strike",["lightning","primal","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(4, [STRMOD]),["melee"]),
           Hit("Until the start of your next turn, any enemy that enters a square within 2 squares of the target takes 10 lightning damage.  If no enemy enters a square within 2 squares of the target, the target takes 10 lightning damage at the start of your next turn."),
           Miss()],"warden","attack",19),
      Power("Thundering Bolts",["primal","thunder","weapon"],"daily","standard",
          [Target("each enemy in blast"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect("You knock each target prone.")],"warden","attack",19),
      Power("Warding Smash",["primal","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(5, [STRMOD]),["melee"]),
           Hit("You knock the target prone."),
           Miss(),
           Special("When your Warden's Fury power is triggered, you can use this power in its place as an immediate interrupt.")],"warden","attack",19),
],"wardenutility22":[
      Power("A Scattering of Ashes",["primal","zone"],"encounter","minor",
          [Target("each ally in burst",("close burst",3)),
           Effect("You slide each target 2 squares.  The burst creates a zone of swirling ash that lasts until the end of your next turn.  Creatures have concealment while within the zone.")],"warden","utility",22),
      Power("Channeled Vitality",["primal"],"daily","minor",
          [Effect(["You gain ",lambda x:x.statret("surge")," temporary hit points.  In addition, once per round when you hit with a weapon attack, that attack deals 2[W] extra damage.  this effect ends when you have no temporary hit points remaining."])],"warden","utility",22),
      Power("Debilitating Ward",["primal"],"encounter","minor",
          [Target("one ally in burst",("close burst",5)),
           Effect("When any enemy marked by you hits or misses the target before the end of your next turn, that enemy takes 10 damage and gains vulnerable 10 to all damage until the end of its next turn.")],"warden","utility",22),
      Power("Eagle's Wings",["polymorph","primal"],"daily","minor",
          [Effect("You sprout wings that last until the end of the encounter.  While you have the wings, you have a fly speed equal to your speed, and you can hover.")],"warden","utility",22),
      Power("Panacea",["primal"],"daily","minor",
          [Effect("You make a saving throw with a +4 power bonus.  You also gain a +4 power bonus to saving throws until the end of the encounter.")],"warden","utility",22),
      Power("Renewal",["healing","primal"],"daily","minor",
          [Effect("You spend a healing surge.  In addition, you regain the use of an encounter attack power you have already used during this encounter.")],"warden","utility",22),
      Power("Strength from Death",["healing","primal"],"encounter","immediate reaction",
          [Trigger("A nonminion enemy within 10 squares of you drops to 0 hit points."),
           Effect(["You regain ",lambda x:x.mod("con")+10," hit points."])],"warden","utility",22),
      Power("Wellspring of Life",["healing","primal"],"daily","minor",
          [Effect(["You spend a healing surge.  In addition, you gain regeneration ",lambda x: x.mod("str")+5," until the end of the encounter."])],"warden","utility",22),
],"wardenencounter23":[
      Power("Darkforest Vines",["poison","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"],[],""),
          Hit(["The target is restrained until the end of your next turn.  Each enemy adjacent to the target takes ",orfeat(5,lambda x:5+x.mod("con"),"earthstrength")," poison damage and is slowed until the end of your next turn."])],"warden","attack",23),
      Power("Desert Winds",["fire","primal","weapon","zone"],"encounter","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([STRMOD],"reflex", damage(2, [STRMOD]),[]),
          Hit(["The blast creates a zone of fiery haze until the end of your next turn.  The zone blocks enemies' line of sight, and any enemy entirely within the zone is blinded.  Any enemy that starts its turn within the zone takes ",dmg(0,2,10)," when it leaves the zone."])],"warden","attack",23),
      Power("Guardian's Wrath",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("Until the end of your next turn, the target is marked, and it provokes an opportunity attack from you if it makes an attack that does not include you as a target.")],"warden","attack",23),
      Power("Nature's Ally",["primal","weapon"],"encounter","standard",
          [Target("one creature in burst",("close burst",3)),Atk([STRMOD],"reflex", None,["melee"]),
          Hit(["You pull the target 2 squares to a space that must be adjacent to you.  ",orfeat("","The target is slowed until the start of your next turn.  ","earthstrength"),"Make a secondary attack that is a melee attack against the target."]),
          Atk([STRMOD,2],"AC",damage(3,[STRMOD]))],"warden","attack",23),
      Power("Primal Rebuke",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["Until the end of your next turn, if the target enters a square adjacent to you or any of your allies, it falls prone.",orfeat("","  Each ally within 3 squares of you can make a saving throw.","lifespirit")])],"warden","attack",23),
      Power("Sky's Reach",["primal","weapon"],"encounter","standard",
          [Target("one or two creatures",("melee weapon","+2 reach")),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Other(["",orfeat("",["You slide the target 5 squares.  If the target ends this movement adjacent to you, it takes ",MOD("wis")," damage."],"wildblood")])],"warden","attack",23),
      Power("Snowy Grasp",["cold","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["The target is immobilized until the start of your next turn.  Each enemy marked by you is slowed until the start of your next turn.",orfeat("",["  Until the start of your next turn, when any enemy marked by you moves on its turn, that enemy takes ",MOD("con")," cold damage."],"stormheart")])],"warden","attack",23),
      Power("Startling Savagery",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["The target is dazed until the end of your next turn.",orfeat("",["  Until the end of your next turn, you gain a +",MOD("wis")," power bonus to attack rolls."],"wildblood")])],"warden","attack",23),
      Power("Whirlwind Assault",["primal","weapon"],"encounter","standard",
          [Target("each enemy in burst"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("You gain a +2 power bonus to AC and Reflex until the end of your next turn.")],"warden","attack",23),
],"wardendaily25":[
      Power("Form of Earth's Beneficence",["healing","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of earth's beneficence until the end of the encounter.  While you are in this form, you gain regeneration 5, and you can shift 1 square as a minor action.  In addition, whenever you are pulled, pushed, or slid, you can reduce the distance of the forced movement by 1 square."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("You slide the target 5 squares and mark it until the end of your next turn."),
           Effect("You slide one ally within 5 squares of you 5 squares.  That ally can spend a healing surge.")],"warden","attack",25),
     Power("Form of the Autumn Reaper",["necrotic","polymorph","primal","weapon"],"daily","minor",
          [Effect(["You assume the guardian form of the autumn reaper until the end of the encounter.  While you are in this form, you gain resist 10 necrotic, and your melee reach increases by 1.  In addition, your melee attacks deal ",MOD("str")," extra necrotic damage."]),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit("The target is weakened (save ends)."),
           Miss("Half damage, and the target is weakened until the end of your next turn.")],"warden","attack",25),
      Power("Form of the Blood Wolf",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the blood wolf until the end of the encounter.  While you are in this form, you gain a +2 bonus to speed and a +4 bonus to damage rolls for melee attacks against bloodied targets.  If you have combat advantage against a target that you hit with a melee attack, you can knock that target prone."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
           Hit("The target grants combat advantage to you (save ends)."),
           Miss("The target grants combat advantage to you until the end of your next turn.")],"warden","attack",25),
      Power("Form of the Displacer Beast",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the displacer beast until the end of the encounter.  While you are in this form, roll a d20 whenever a melee attack hits you.  On a roll of 10 or higher, you take half damage from the attack."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Miss(),
           Effect("Make the attack one more time against the target.")],"warden","attack",25),
      Power("Form of the Entangling Spider",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the entangling spider until the end of the encounter.  While you are in this form, you gain a climb speed equal to your speed and a +2 bonus to Fortitude.  In addition, each square within 3 squares of you, wherever you move, is difficult terrain for your enemies."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature in blast",("close blast",3)),Atk([STRMOD],"AC", damage(4, [STRMOD]),[]),
           Hit("The target is restrained (save ends)."),
           Miss("Half damage, and the target is slowed (save ends).")],"warden","attack",25),
     Power("Form of the Jungle Lord",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the jungle lord until the end of the encounter.  While you are in this form, you gain a climb speed equal to your speed and a +2 bonus to reflex.  In addition, whenever you hit a target with a melee attack, you slide the target 2 squares.  If that attack already pulls, pushes, or slides the target, you slide the target 2 squares after that forced movement."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit("you slide the target 1 square"),
           Miss(),
           Effect("You knock the target prone.")],"warden","attack",25),
     Power("Form of the Night Hunter",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the night hunter until the end of the encounter.  While you are in this form, you gain darkvision and a fly speed equal to your speed.  In addition, you gain a +2 bonus to your first attack roll each round."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("Ongoing 10 damage (save ends)"),
           Miss()],"warden","attack",25),
     Power("Form of the Shifting Ancester",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the shifting ancester until the end of the encounter.  At the start of each of your turns while you are in this form, choose one of the following benefits: a +2 bonus to Fortitude, Reflex, and Will; a +2 bonus to AC; a +2 bonus to attack rolls; or a +4 bonus to saving throws.  The benefit you choose lasts until the start of your next turn."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),[]),
           Hit("The target is weakened until the end of your next turn."),
           Miss()],"warden","attack",25),
     Power("Form of the World Forger",["fire","polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the world forger until the end of the encounter.  While you are in this form, you gain a +2 bonus to AC.  In addition, any ally gains a +2 bonus to AC while within 5 squares of you.  Any enemy that hits you with a melee attack takes 5 fire damage, and any enemy that hits an ally within 5 squares of you with a melee attack takes 10 fire damage."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst",("close burst",3)),Atk([STRMOD],"reflex", None,[]),
           Hit("Ongoing 20 fire damage (save ends)."),
           Aftereffect("Ongoing 10 fire damage (save ends)"),
           Miss("Ongoing 10 fire damage (save ends).")],"warden","attack",25),
],"wardenencounter27":[
      Power("Blood of Nature's Foes",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("You mark the target until the end of your next turn."),
           Effect(["You shift ",orfeat(3,WISMOD,"wildblood")," squares and then mark each enemy adjacent to you until the end of your next turn."])],"warden","attack",27),
      Power("Earth Tomb",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit(["The target is knocked prone and can't stand up until the end of your next turn.",orfeat("",["  You also slide the target ",MOD("con")," squares."],"earthstrength")])],"warden","attack",27),
      Power("Glacial Hammer",["cold","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["Until the end of your next turn, the target and each enemy adjacent to it are restrained.",orfeat("",["  Until the end of your next turn, the target and each enemy adjacent to it gain vunerability ",MOD("con")," to all damage."],"earthstrength")])],"warden","attack",27),
      Power("Guardian's Storm",["lightning","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit(["The target takes ",orfeat(15,lambda x:x.mod("wis")+15,"wildblood")," lightning damage if it moves before the end of your next turn."])],"warden","attack",27),
      Power("Lightning Explosion",["lightning","primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit(["Choose three enemies within 10 squares of the target that are marked by you.  You slide each of those enemies 3 squares, and you mark them until the end of your next turn.  In addition, they take ",orfeat(CONMOD,lambda x:x.mod("con")+3,"stormheart")," lightning damage."])],"warden","attack",27),
      Power("Ravenous Earth",["primal","weapon","zone"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit(["The squares adjacent to the target become a zone of shifting ground until the end of your next turn.  Any enemy that enters the zone takes ",dmg(0,2,10)," and is immobilized until the zone ends."])],"warden","attack",27),
      Power("Sacrificial Assault",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
           Hit(["Until the end of your next turn, when any enemy hits you, one ally within 3 squares of you gains ",orfeat(20,lambda x:x.mod("wis")+20,"lifespirit")," temporary hit points and a +2 bonus to all defenses until the end of his or her next turn."])],"warden","attack",27),
      Power("Screaming Wind Strike",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
           Hit("The target is stunned until the end of your next turn.")],"warden","attack",27),
      Power("Strengthening Gift",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD]),["melee"]),
           Hit("You mark the target until the end of your next turn.  You push the target 3 squares and then slide each enemy adjacent to the target 1 square.")],"warden","attack",27),
      Power("Weight of the Mountain",["primal","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Make a secondary attack"),
          Target("each enemy in burst",("close burst",5)),Atk([STRMOD],"fortitude",damage([2,6],[]),["melee"]),
          Effect("Each secondary target is slowed until the end of your next turn.")],"warden","attack",27),
],"wardendaily29":[
      Power("Form of Spring Renewal",["healing","polymorph","primal","radiant"],"daily","minor",
          [Effect("You assume the guardian form of spring renewal until the end of the encounter.  While you are in this form, you gain resist 10 necrotic.  In addition, you gain a fly speed of 8, and you can hover."),
           Line("Once during the encounter, you can make the following attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst",("close burst",2)),Atk([STRMOD,6],"reflex", damage([4,10], [])),
           Miss(),
           Effect("You regain all your hit point, but you are stunned until the end of your next turn.")],"warden","attack",29),
      Power("Form of the Chimera",["fire","polymorph","primal"],"daily","minor",
          [Effect("You assume the guardian form of the chimera until the end of the encounter.  While you are in this form, flanking enemies don't gain combat advantage against you.  In addition, whenever you hit a target with a charge attack, you can either push the target 1 square or knock it prone."),
           Line("Once during the encounter, you can make the following attack while you are in this form."),
           Other("Standard Action"),
           Target("each creature in blast",("close blast",5)),Atk([STRMOD,6],"reflex", damage([2,10], [])),
           Hit("Ongoing 5 fire damage (save ends)."),
           Miss()],"warden","attack",29),
      Power("Form of the Grim Harvester",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the grim harvester until the end of the encounter.  While you are in this form, you gain a +2 power bonus to attack rolls against bloodied creatures.  In addition, when any nonminion enemy within 5 squares of you drops to 0 hit points, you can make a melee attack as a free action."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one bloodied creature"),Atk([STRMOD],"fortitude", damage(4, [STRMOD])),
           Hit("The target gains vulnerable 10 to all damage (save ends)."),
           Miss("Half damage, and the target gains vulnerable 5 to all damage (save ends).")],"warden","attack",29),
      Power("Form of the Imperious Phoenix",["fire","polymorph","primal","radiant","teleportation","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the imperious phonix until the end of the encounter.  While you are in this form, you gain a fly speed equal to your speed, and you can hover.  In addition, you gain resist 15 fire and resist 15 radiant."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Immediate Interrupt"),
           Trigger("An enemy damages you"),
           Effect("Before the attack, you teleport your speed"),
           Target("each creature in burst and each enemy marked by you",("close burst",3)),Atk([STRMOD,6],"reflex", damage(2, [STRMOD]),[]),
           Hit("Ongoing 15 fire and radiant damage (save ends)."),
           Miss(),
           Effect("Your current hit point value changes to your bloodied value, and you remove from yourself every effect that a save can end.")],"warden","attack",29),
      Power("Form of the Starmetal Warrior",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the starmetal warrior until the end of the encounter.  While you are in this form, you gain a +3 bonus to AC.  In addition, while any flying enemy is within 10 squares of you, its fly speed is 1"),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in burst"),Atk([STRMOD],"AC", damage(3, [STRMOD]),[]),
           Miss(),
           Special("This damage ignores any of the target's resistances.")],"warden","attack",29),
      Power("Form of the Soul Serpent",["polymorph","primal","psychic"],"daily","minor",
          [Effect("You assume the guardian form of the soul serpent until the end of the encounter.  While you are in this form, you gain a +2 bonus to AC and Fortitude.  You also gain tremorsense 5."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("each enemy in blast"),Atk([STRMOD,6],"will", damage([2,10], [])),
           Hit("You slide the target 5 squares."),
           Miss(),
           Effect("Each target is dazed (save ends).")],"warden","attack",29),
      Power("Form of the Thunderstorm",["polymorph","primal","teleportation","thunder","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the thunderstorm until the end of the encounter.  While you are in this form, you gain resist 20 lightning and resist 20 thunder, and you can teleport your speed as a move action.  In addition, whenever you teleport using this power, each enemy adjacent to your destination space takes 10 thunder damage."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"reflex", damage(3, [STRMOD]), ["melee"]),
           Hit("You push the target 5 squares.  Until the end of your next turn, the target is stunned, and the target and each enemy adjacent to it are marked.")],"warden","attack",29),
      Power("Form of the Unruly Earth",["polymorph","primal","weapon"],"daily","minor",
          [Effect("You assume the guardian form of the unruly earth until the end of the encounter.  While you are in this form, you gain a +2 bonus to Fortitude, and you ignore difficult terrain.  Each enemy marked by you is slowed and takes a -4 penalty to AC until the mark ends."),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit("You knock the target prone, and it can't stand up (save ends)."),
           Miss()],"warden","attack",29),
      Power("Form of Verdant Growth",["healing","polymorph","primal","weapon"],"daily","minor",
          [Effect(["You assume the guardian form of verdant growth until the end of the encounter.  While you are in this form, you gain a +2 bonus to Fortitude.  In addition, at the start of each of your turns, each ally within 5 squares of you regains ",MOD("con")," hit points.  If you are in this form the first time you drop to 0 or fewer hit points in the encounter, you return to live at the start of the next turn if you died and regain hit points as if you had spent a healing surge."]),
           Line("Once during the encounter, you can make the following weapon attack while you are in this form."),
           Other("Standard Action"),
           Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
           Miss(),
           Effect("You or an ally within 10 squares of you can spend a healing surge.")],"warden","attack",29),
]}
    addPowers(wardenList)

def warlock():
    warlockList={"warlockat-will1":[
     Power("Dire Radiance",["arcane","fear","implement","radiant"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([raising(1,20),6],[CONMOD])),
          Hit(["If the target moves nearer to you on its next turn, it takes an extra ",dmg(CONMOD,raising(1,20),6),"."])],"warlock","at-will",1),
     Power("Eldritch Blast",["arcane","implement"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([choosestat("eldritch blast",["con","cha"],False),lambda x:x.statret("basicrangedattack")],"reflex", damage([raising(1,20),10],[choosestat("eldritch blast",["con","cha"]),lambda x:x.statret("basicrangeddamage")])),
           Special("This power counts as a ranged basic attack. When a power allows you to make a ranged basic attack, you can use this power.")],"warlock","at-will",1),
     Power("Eyebite",["arcane","charm","implement", "psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([raising(1,20),6],[CHAMOD])),
          Hit("You are invisible to the target until the start of your next turn")],"warlock","at-will",1),
      Power("Hellish Rebuke",["arcane","fire","implement"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([raising(1,20),6],[CONMOD])),
          Hit(["If you take damage before the end of your next turn, the target takes an extra ",dmg(CONMOD,raising(1,20),6),"."])],"warlock","at-will",1),
     Power("Spiteful Glamor",["arcane","implement","psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([raising(1,20),8],[CHAMOD]))
          ,Special("Increase the die size of this power to d12's if the target has maximum hit points.")],"warlock","at-will",1),
     Power("Eyes of the Vestige",["arcane","implement","psychic",";","varies"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will",damage([raising(1,20),6],[CONMOD]))
          ,Hit("Choose the target or a creature within 3 squares of the target and within the target's line of sight. You place your Warlock's Curse on that creature; if the creature is already cursed by you, you can deal your Warlock's Curse extra damage to that creature instead of to the target.")
          ,Other("Augment (King Elidyr): One ally who hits the target before the end of your next turn can roll a saving throw.")
          ,Other("Augment (Zutwa): You gain your Prime Shot bonus against the target until the end of your next turn.")
          ,Other("Augment (other vestige): See the ""Eyes of the Vestige Augment"" entry for the daily power that grants access to the vestige.")],"warlock","at-will",1),
],"warlockencounter1":[
      Power("Arms Of Hadar",["arcane","implement"],"encounter","standard",
          [Target("Each creature in burst",("close burst",2)),
          Atk([CONMOD],"reflex",damage([1,8],[CONMOD])),
          Hit(["You push the target ",orfeat(2,MOD("int",1),"star pact")," squares."])],"warlock","encounter","1"),
      Power("Chains Of Levistus",["arcane","cold","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"fortitude",damage([2,6],[CONMOD])),
          Hit(["If the target moves before the end of your next turn, it takes 2d6 extra cold damage",orfeat("",".  You also gain a +2 power bonus to your next attack roll against the target before the end of your next turn","infernal pact"),"."])],"warlock","encounter","1"),
      Power("Clarion Call",["arcane","implement","thunder"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CONMOD],"fortitude",damage([3,4],[CONMOD])),
          Hit(["The target is deafened until the end of your next turn.",orfeat("","  You gain 3 temporary hit points for each target you hit. Temporary hit points gained in this way are cumulative.","vestige pact")])],"warlock","encounter","1"),
     Power("Cursebite",["arcane","implement","necrotic"],"encounter","standard",
          [Target("each creature in burst under your curse",("close burst",20)),Atk([CHAMOD],"fortitude", damage([2,8],[orfeat(0,INTMOD,"dark pact")]))],"warlock","attack",1),
      Power("Darkworm Feast",["arcane","implement","necrotic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,6],[CHAMOD])),
          Hit(["The target is slowed until the end of your next turn.",orfeat("",["  The target takes ",MOD("int")," extra necrotic damage at the start of its next turn."],"dark pact")])],"warlock","encounter","1"),
     Power("Diabolic Grasp",["arcane","implement"],"encounter","standard",
          [Target("one creature of size Large or smaller",("ranged",10)),Atk([CONMOD],"fortitude", damage([2,8],[CONMOD]))
          ,Hit(["Slide the target ",orfeat(2,lambda x:x.mod("int")+1,"infernal pact")," squares."])],"warlock","attack",1),
     Power("Dreadful Word",["arcane","fear","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"fortitude", damage([2,8],[CHAMOD]))
          ,Hit(["The target gets a -",orfeat(1,lambda x:x.mod("int")+1,"star pact")," penalty to Will defense until the end of your next turn."])],"warlock","attack",1),
     Power("Flickering Venom",["arcane","force","implement","poison"],"encounter","standard",
          [Target("one creature",("ranged",orfeat(5,10,"dark pact"))),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD]),None,[],"force")
          ,Special(["If you have combat advantage against the target, you also deal ",MOD("int")," poison damage."])],"warlock","attack",1),
      Power("Life Bind",["arcane","implement","necrotic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([2,8],[CONMOD,orfeat(0,INTMOD,"vestige pact")])),
          Hit("Until the end of your next turn, the target cannot regain hit points, cannot gain temporary hit points, and takes a -2 penalty to saving throws.")],"warlock","encounter","1"),
      Power("Sprite War Call",["arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",orfeat(5,10,"fey pact"))),
          Atk([CHAMOD],"reflex",damage([1,8],[CHAMOD])),
          Hit("Until the end of your next turn, the target is slowed and grants combat advantage to you.")],"warlock","encounter","1"),
     Power("Vampiric Embrace",["arcane","implement", "necrotic"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CONMOD],"will", damage([2,8],[CONMOD]))
          ,Hit(["You gain ",orfeat(5,lambda x:x.mod("int")+5,"infernal pact")," temporary hit points."])],"warlock","attack",1),
      Power("Witchfire",["arcane","fire","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,6],[CHAMOD])),
          Hit(["The target takes a -",orfeat(2,lambda x:x.mod("int")+2,"fey pact")," penalty to attack rolls until the end of your next turn."])],"warlock","attack",1),
],"warlockdaily1":[
     Power("Armor of Agathys",["arcane","cold"],"daily","standard",
          [Effect(["You gain ",lambda x:x.mod("int")+10," temporary hit points.  Until the end of the encounter, an enemy that starts its turn next to you takes ",dmg(CONMOD,1,6),"."])],"warlock","attack",1),
     Power("Curse of the Dark Dream",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("Slide the target 3 squares"),
          Sustain("minor","You slide the target 1 square, whether you hit or miss (save ends).")],"warlock","attack",1),
     Power("Decree of Khirad",["arcane","charm","implement", "psychic"],"daily","standard",
          [Target("each enemy in blast",("close blast",3)),Atk([CHAMOD],"will", None),
          Hit(["The target makes a melee basic attack as a free action against a creature of your choice.  If the target misses with the attack, it takes ",dmg(CHAMOD,1,6),"."]),
          Miss(["",dmg(CHAMOD,1,6),"."])],"warlock","attack",1),
     Power("Dread Star",["arcane","fear","implement", "radiant"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
          Hit("The target is immobilized until the end of your next turn"),
          Effect("The target takes a -2 penalty to Will defense (save ends).")],"warlock","attack",1),
      Power("Flames of Phlegethos",["arcane","fire","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([3,10],[CONMOD])),
          Hit("The target takes ongoing 5 fire damage (save ends).")],"warlock","attack",1),
      Power("Fortune's Reversal",["arcane","implement","psychic"],"daily","immediate reaction",
          [Trigger("An enemy within 10 squares of you scores a critical hit or saves",("ranged",10)),
          Target("The triggering enemy",("ranged",10)),
          Atk([CHAMOD],"will",damage([1,8],[CHAMOD])),
          Hit(["The target takes a ",orfeat("-2","-3","dark pact")," penalty to saving throws ",orfeat("","and attack rolls, ","fey pact"),"and ongoing 5 psychic damage (save ends both). The target cannot save against this power until it takes the ongoing psychic damage at least once."]),
          Miss("The target takes ongOing 5 psychic damage (save ends). The target cannot save against this power until it takes the ongoing psychic damage at least once.")],"warlock","daily","1"),
      Power("Tyranny Of Flame",["arcane","fire","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"will",damage([3,6],[CONMOD])),
          Effect("You knock the target prone."),
          Hit(["The target can't stand up from prone (save ends).",orfeat("","  The target also takes a -2 penalty to saving throws against this power.","infernal pact")]),
          Miss()],"warlock","daily","1"),
      Power("Vestige Of Khaeleth",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([1,8],[CONMOD])),
          Hit("You gain a bonus to the damage roll equal to your intelligence modifier for each ally adjacent to you."),
          Miss(),
          Other("Vestige Pact:  You gain access to the vestige of Khaeleth."),
          Other("Khaeleth Pact Boon:  An ally within 5 squares of you gains temporary hit points equal to your Intelligence modifier."),
          Other("Eyes Of The Vestige Augment:  The first time your eyes of the vestiBe target deals damage to an ally before the end of your next turn, you can reduce that damage by any amount and take damage equal to the amount of the reduction. The damage has no type.")],"warlock","daily","1"),
      Power("Vestige Of Mount Vaelis",["arcane","implement","thunder"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([1,8],[CONMOD])),
          Hit("The target cannot walk or run (save ends)."),
          Miss("Half damage, and the target cannot walk or run until the end of your next turn."),
          Other("Vestige Pact:  You gain access to the vestige of Mount Vaelis."),
          Other("Mount Vaelis Pact Boon:  One creature cursed by you and within 5 squares of you gains vulnerable 5 thunder until the end of your next turn."),
          Other("Eyes Of The Vestige Augment:  Your eyes of the vestige attack deals 1d6 extra thunder damage.")],"warlock","daily","1"),
      Power("Your Glorious Sacrifice",["arcane","implement","necrotic","poison"],"daily","standard",
          [Effect(["Before the attack you can deal ",MOD("cha")," damage to an ally adjacent to you.  If you do so, you gain a +2 bonus to the attack roll."]),
          Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([3,8],[CONMOD]),None,[],""),
          Hit(["If you dealt damage to an ally as part of this power, the target takes ongoing ",orfeat(CHAMOD,lambda x:x.mod("int")+x.mod("cha"),"dark pact")," poison damage"]),
          Miss("Half damage, and no ongoing damage.")],"warlock","attack",1)
],"warlockutility2":[
      Power("Beguiling Tongue",["arcane"],"encounter","minor",
          [Effect("You gain a +5 power bonus to your next Bluff, Diplomacy, or Intimidate check this encounter")],"warlock","utility2"),
      Power("Caiphon's Leap",["arcane","teleportation"],"encounter","immediate reaction",
          [Trigger("An enemy cursed by you hits you with a melee attack."),
          Effect(["You reduce the damage you take ",MOD("cha"),". You then teleport 2 squares."])],"warlock","utility","2"),
      Power("Devil's Trade",["arcane"],"encounter","minor",
          [Effect("You gain vulnerable 5 to all damage until the end of your next turn, and you automatically succeed on one saving throw you make at the end of this turn.")],"warlock","utility","2"),
      Power("Ethereal Stride",["arcane", "teleportation"],"encounter","move",
          [Effect("You can teleport 3 squares, and you gain a +2 power bonus to all defenses until the end of your next turn")],"warlock","utility2"),
      Power("Eyes Of The Spider Queen",["arcane"],"daily","minor",
          [Effect("Until the end of the encounter, you gain darkvision and can see invisible objects and creatures that are adjacent to you.")],"warlock","utility","2"),
      Power("Fey Bargain",["arcane"],"encounter","minor",
          [Effect("You gain a + 2 bonus to your next attack roll, but automatically fail your next saving throw before the end of the encounter.")],"warlock","utility","2"),
      Power("Fiendish Resilience",["arcane"],"daily","minor",
          [Effect(["You gain ",lambda x:5+x.mod("con")," temporary hit points"])],"warlock","utility2"),
      Power("Hero's Defense",["arcane"],"encounter","immediate interrupt",
          [Trigger("An enemy makes an attack roll against you"),
           Effect("You gain a +4 bonus to your highest defense against this attack only, and the triggering enemy's attack targets that defense.  If the attack hits, it deals half damage to you.")],"warlock","utility2"),
      Power("Shadow Veil",["arcane","illusion"],"encounter","minor",
          [Effect("You gain a +5 power bonus to Stealth checks until the end of your next turn")],"warlock","utility2"),
      Power("Spider Scuttle",["arcane"],"encounter","free",
          [Effect("Until the end of your next turn, you have a climb speed equal to your speed and can move at your normal speed even while prone.")],"warlock","utility2"),
],"warlockencounter3":[
      Power("Cloud of Flies",["acid","arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"fortitude",damage([2,6],[CONMOD])),
          Other(["",orfeat("Hit:","Effect:",["feature",["infernal pact","vestige pact"],True]), " The target grants combat advantage to you until the end of your next turn."])],"warlock","encounter","3"),
      Power("Delban's Deadly Attention",["arcane","implement","necrotic"],"encounter","immediate interrupt",
          [Trigger("An enemy in burst hits you with a melee attack",("close burst",4)),
          Target("The triggering enemy",("close burst",4)),
          Atk([CHAMOD],"will",damage([orfeat(1,2,"star pact"),8],[CHAMOD,orfeat(0,INTMOD,"star pact")])),
          Hit("The target chooses either to deal half damage to you with its melee attack or to take 1d8 extra necrotic damage.")],"warlock","encounter","3"),
     Power("Eldritch Rain",["arcane","implement"],"encounter","standard",
          [Target("one creature, or two creatures no more than 5 squares apart from each other",("ranged",10)),Atk([CHAMOD],"reflex", damage([1,10],[CHAMOD,orfeat(0,lambda x:x.mod("int"),"fey pact")]))],"warlock","attack",3),
     Power("Fiery Bolt",["arcane","fire","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([3,6],[CONMOD]))
          ,Hit(["Creatures adjacent to the target take ",dmg(lambda x:x.mod("con")+res(orfeat(0,x.mod("int"),"infernal pact"),x),1,6),"."])],"warlock","attack",3),
      Power("Fortune Binding",["arcane","psychic","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"fortitude",damage([2,8],[CONMOD,orfeat(0,INTMOD,"vestige pact")])),
          Hit("You end one effect on you that a save can end, and the target gains that effect until the end of your next turn.")],"warlock","encounter","3"),
     Power("Frigid Darkness",["arcane","cold","fear","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([2,8],[CONMOD])),
          Hit(["The target grants combat advantage to you and all of your allies until the end of your next turn.",orfeat("",["  The target takes a -",lambda x:x.mod("int")," penalty to AC until the end of your next turn."],"star pact")])],"warlock","attack",3),
      Power("Otherworld Stride",["arcane","implement","teleportation"],"encounter","standard",
          [Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"fortitude", damage([1,8],[CHAMOD])),
          Hit("The target is immobilized until the end of your next turn"),
          Effect(["You teleport ",orfeat(5,lambda x:x.mod("int")+5,"fey pact")," squares."])],"warlock","attack",3),
      Power("Pipes Of Winter",["arcane","cold","implement"],"encounter","standard",
          [Target("One creature",("ranged",5)),
          Atk([CHAMOD],"fortitude",damage([2,6],[CHAMOD])),
          Hit(["The target is immobilized until the end of your next turn.",orfeat("","  Each enemy adjacent to the target is slowed until the end of your next turn.","fey pact")])],"warlock","encounter","3"),
      Power("Shared Agony",["arcane","implement","psychic"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"will",damage([2,12],[CHAMOD])),
          Miss(["You can take 10 psychic damage to reroll the attack roll.",orfeat("",["  If you reroll the attack roll and hit, reduce the psychic damage you take by ",MOD("int"),"."],"dark pact")])],"warlock","encounter","3"),
      Power("Upsetting Onslaught",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],orfeat("will","will or fortitude","dark pact"), damage([1,8],[CHAMOD])),
          Hit("The target is dazed until the end of its next turn.  The target can negate being dazed by using a free action to deal 2d8 damage to itself.")],"warlock","attack",3),
      Power("Vestiges' Calamity",["arcane","cold","fire","implement","lightning","thunder"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([2,8],[CONMOD])),
          Hit(["If the target is cursed by you, ",MOD("int")," extra cold, fire, lightning, and thunder damage."])],"warlock","encounter","3"),
      Power("Your Delicious Weakness",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,6],[CHAMOD])),
          Hit(["If the target is vulnerable to any damage types, your attack instead deals damage of that type.  If the target has more than one vulnerability, you choose which damage type to deal.",orfeat("",["  If the target takes damage of a type it is vulnerable to, it takes ",MOD("int")," extra psychic damage"],"dark pact")])],"warlock","attack",3)
],"warlockdaily5":[
     Power("Avernian Eruption",["arcane","fire","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CONMOD],"reflex", damage([2,10],[CONMOD])),
          Effect("The targets take ongoing 5 fire damage (save ends)")],"warlock","attack",5),
      Power("Crackling Fire",["arcane","fire","implement","lightning"],"daily","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
          Hit("The target gains vulnerable 5 fire and vulnerable 5 lightning (save ends both)."),
          Miss()],"warlock","daily","5"),
     Power("Crown of Madness",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Miss("Half damage."),
          Sustain("minor","The target makes a melee basic attack against one of its adjacent allies of your choice (save ends).")],"warlock","attack",5),
     Power("Curse of the Bloody Fangs",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"AC", damage([2,10],[CHAMOD])),
          Miss("Half damage."),
          Sustain("minor",["The target and any of your enemies adjacent to it take ",dmg(0,1,10)," (save ends)."])],"warlock","attack",5),
     Power("Forceful Assault",["arcane","force","implement"],"daily","standard",
          [Target("one creature",("ranged",orfeat(10,15,"dark pact"))),Atk([CHAMOD],"reflex", damage([3,8],[CHAMOD])),
           Hit("The target is dazed (Save ends)."),
          Miss("Half damage, and no daze.")],"warlock","attack",5),
      Power("Hunger of Hadar",["arcane","implement","necrotic","zone"],"daily","standard",
          [Effect("The burst creates a zone of darkness until the end of your next turn, blocking line of sight.  Creatures that enter the zone or start their turns there take 2d10 necrotic damage.",("area burst",1,10)),
          Sustain("minor","when you sustain the power, you make a secondary attack."),
          Target("Each creature within the zone"),Atk([CONMOD],"fortitude", damage([1,6],[CHAMOD]))],"warlock","attack",5),
     Power("Lure of Gibbeth",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,10],[CHAMOD])),
           Hit("Pull the target 4 squares."),
          Miss("Half damage, and you pull the target 2 squares."),
          Effect("Until the end of the encounter, you can pull the target 2 squares as a minor action once during your turn.")],"warlock","attack",5),
      Power("Tyrannical Threat",["arcane","fear","implement","psychic"],"daily","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([CONMOD],"will",damage([1,10],[CONMOD])),
          Hit("You place your warlock's curse on the target."),
          Miss(["Half damage",orfeat(".",", and you place your Warlock's Curse on the target.","infernal pact")]),
          Effect(["Until the end of the encounter, whenever a creature cursed by you attacks you, it takes ",MOD("int")," psychic damage."])],"warlock","daily","5"),
     Power("Twilight of the Soul",["arcane","implement","necrotic","reliable"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
           Hit(["Ongoing 10 necrotic damage (save ends).",orfeat("","  The target has a -2 penalty to saving throws against the ongoing necrotic damage","dark pact")])],"warlock","attack",5),
      Power("Venomous Webs",["acid","arcane","implement","poison"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([3,6],[CHAMOD])),
          Hit("The target grants combat advantage to you and your allies (save ends)."),
          Miss(),
          Effect(["If the target willingly moves before the end of its next turn, it takes ongoing ",MOD("int")," poison damage (save ends)."])],"warlock","daily","5"),
      Power("Vestige Of Ugar",["arcane","fire","implement","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,10)),
          Atk([CONMOD],"reflex",damage([1,10],[CONMOD])),
          Effect(["The burst creates a zone of burning light that lasts until the end of the encounter. Each creature that enters the zone or starts its turn there takes ",dmg(0,1,10),". Creatures cannot benefit from concealment while within the zone."]),
          Other("Vestige Pact:  You gain access to the vestige of Ugar the Unforgiving."),
          Other("Ugar Pact Boon:  You can move the zone 3 squares as a free action."),
          Other("Eyes Of The Vestige Augment:  Your eyes of the vestige attack deals fire damage instead of psychic damage. The target loses concealment and cannot regain it until the end of your next turn.")],"warlock","daily","5"),
      Power("Vestige Of Xandor",["arcane","implement","psychic"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"will",damage([2,6],[CONMOD])),
          Hit(["The target is influenced by the Vestige of Xandor (save ends). While it is influenced, at the start of each of its turns, it must choose either to be dazed until the start of its next turn or to take ",MOD("2con")," psychic damage."]),
          Miss(["",dmg(CONMOD,2,6),", and the target is dazed until the end of your next turn."]),
          Other("Vestige Pact:  You gain access to the vestige of Xandor the Mad."),
          Other(["Xandor Pact Boon:  You can roll a saving throw. If you have no effect on you that a save can end, you instead gain ",MOD("con")," temporary hit points."]),
          Other("Eyes Of The Vestige Augment:  Your eyes of the vestige attack deals 1d8 extra psychic damage.")],"warlock","daily","5"),
],"warlockutility6":[
      Power("Dark One's Own Luck",["arcane"],"daily","free",
          [Trigger("You make a roll you dislike"),
          Effect("Reroll the attack roll, skill check, ability check, or saving throw, using the higher of the two results.")],"warlock","utility",6),
      Power("Fey Switch",["arcane", "teleportation"],"encounter","move",
          [Target("you and one willing ally",("ranged",10))
           ,Effect("You and your ally trade places")],"warlock","utility",6),
      Power("Life Siphon",["arcane","healing"],"encounter","immediate reaction",
          [Trigger("An ally within' 0 squares of you takes damage"),
          Effect(["You gain a +2 power bonus to one attack roll before the end of your next turn.",orfeat("",["  You regain ",MOD("cha")," hit points."],"dark pact"),orfeat("",["  You gain ",MOD("2con")," temporary hit points."],"infernal pact")])],"warlock","utility","6"),
      Power("Mercurial Form",["arcane","polymorph"],"daily","minor",
          [Effect("Until the end of the encounter, you cannot be marked, you are considered Tiny for the purpose of squeezing, and you can automatically succeed at escaping from a grab as a free action.")],"warlock","utility","6"),
      Power("Racing Fire Of Ulban",["arcane"],"encounter","move",
          [Effect("You move twice your speed.")],"warlock","utility","6"),
      Power("Shadowslip",["arcane","teleportation"],"encounter","immediate reaction",
          [Trigger("An enemy misses you with a melee or ranged attack"),
           Effect(["Teleport ",MOD("cha")," squares"])],"warlock","utility",6),
      Power("Shroud of Black Steel",["arcane","polymorph"],"daily","minor",
          [Effect("You change your skin into living steel.  You gain a +2 power bonus to AC and Fortitude defense but take a -2 penalty to speed until the end of the encounter.  You can end this effect as a minor action.")],"warlock","utility",6),
      Power("Spider Climb",["arcane"],"encounter","move",
          [Effect("On this action, you move with a climb speed equal to your speed.")],"warlock","utility",6),
      Power("Spider Queen's Caress",["arcane"],"daily","minor",
          [Effect(["Until the end of the encounter, you gain a +2 power bonus to saving throws and Stealth checks.",orfeat("","  Your Shadow Walk grants concealment to you after you move 2 squares instead of 3.","dark pact")])],"warlock","utility","6"),
],"warlockencounter7":[
      Power("Acrid Decay",["acid","arcane","implement","necrotic"],"encounter","standard",
          [Target("One or two creatures",("ranged",10)),
          Atk([CONMOD],"fortitude",damage([1,12],[CONMOD])),
          Other(["",orfeat("","Hit:  The target also takes a -2 penalty to attack rolls until the end of its next turn.","vestige pact")])],"warlock","encounter","7"),
     Power("All the Sand, All the Stars",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("each creature in blast",("close blast",3)),Atk([CHAMOD,orfeat(0,INTMOD,"star pact")],"will", damage([2,6],[CHAMOD])),
          Hit("The target is dazed until the end of your next turn")],"warlock","attack",7),
     Power("Deathboon",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD,2],"reflex", damage([2,8],[CHAMOD])),
          Hit(["If this attack ",orfeat("","bloodies the target or ","dark pact"),"drops the target to 0 hit points or fewer, you deal 1d8 extra damage with an attack you make before the end of your next turn."])],"warlock","attack",7),
     Power("Death's Commands",["arcane","charm","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([1,12],[CHAMOD])),
          Hit("The target is dazed until the end of the target's next turn.  If the target is undead, it also cannot move closer to you on its next turn."),
          Other(["",orfeat("","Special: You gain a +1 bonus to attack rolls with this power against undead creatures.","dark pact")])],"warlock","attack",7),
      Power("Hero's Arrow",["arcane","healing","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([2,8],[CONMOD])),
          Hit(["",orfeat("One","Each","vestige pact")," ally adjacent to the target regains ",MOD("int")," hit points."])],"warlock","encounter","7"),
     Power("Howl of Doom",["arcane","fear","implement","thunder"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),Atk([CONMOD],"fortitude", damage([2,6],[CONMOD])),
          Hit(["You push the target ",orfeat(2,lambda x:x.mod("int")+1,"infernal pact")," squares."])],"warlock","attack",7),
     Power("Infernal Moon Curse",["arcane","implement","poison"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([2,8],[CONMOD,orfeat(0,lambda x:x.mod("int"),"infernal pact")]))
          ,Hit("The target is held immobilized 5 feet off the ground until the end of your next turn.")],"warlock","attack",7),
     Power("Mire the Mind",["arcane","illusion","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([1,10],[CHAMOD])),
          Hit(["You and all allies in range are invisible to the target until the end of your next turn.",orfeat("",["  You gain a +",lambda x:x.mod("int")," power bonus to stealth checks until the end of the encounter."],"fey pact")])],"warlock","attack",7),
      Power("Mordant Rains Of Dis",["acid","arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([1,6],[CONMOD])),
          Hit(["The target is blinded until the end of your next turn.",orfeat("",["  Each enemy adjacent to the target takes ",MOD("int")," acid damage."],"infernal pact")])],"warlock","encounter","7"),
      Power("Nypacian Serpents",["arcane","implement","poison"],"encounter","standard",
          [Target("One creature",("ranged",10)),Atk([CHAMOD],"reflex",damage([2.8],[CHAMOD])),
           Hit(["The first time the target takes damage before the end of your next turn, it takes ",orfeat(MOD("int"),MOD("2int"),"fey pact")," extra poison damage."])],"warlock","encounter","7"),
      Power("Shadow Strangler",["arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"reflex",damage([2,8],[CHAMOD])),
           Hit(["The target takes a -2 penalty to attack rolls until the end of your next turn.",orfeat("",["  Until the end of your next turn, whenever the target makes an attack roll, it takes ",MOD("int")," damage."],"dark pact")])],"warlock","encounter","7"),
      Power("Sign of Ill Omen",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
          Hit(["The target must roll twice for its next attack roll and use the lower of the two rolls.",orfeat("",["  When the target rolls twice, it takes a -",lambda x:x.mod("int")," penalty to both attack rolls."],"star pact")])],"warlock","attack",7)
],"warlockdaily9":[
     Power("Curse of the Black Frost",["arcane","cold","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD])),
          Effect("If the target moves for any reason, it takes 1d8 cold damage (save ends).  If the target saves, you cannot sustain this power."),
          Sustain("minor","The target takes 2d8 cold damage.")],"warlock","attack",9),
     Power("Death's Fond Caress",["arcane","implement","necrotic","reliable"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([3,10],[CHAMOD])),
          Other(["",orfeat("","Special: This attack ignores resistance to necrotic damage","dark pact")])],"warlock","attack",9),
      Power("Feast Of Souls",["arcane","cold","implement","psychic","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",1,10)),
          Atk([CONMOD],"will",damage([1,8],[CONMOD])),
          Hit("The target is dazed (save ends)."),
          Effect(["The burst creates a zone of hungry spirits that lasts until the end of your next turn.  The zone is difficult terrain.  Each creature that enters the zone or starts its turn there takes ",dmg(CONMOD,1,8,["cold"]),". As a move action, you can move the zone 2 squares."]),
          Sustain("minor"," The zone persists.")],"warlock","daily","9"),
      Power("Horrifying Hatching",["arcane","implement","poison"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",damage([1,8],[CHAMOD])),
          Effect(["The target takes ongoing 10 poison damage (save ends). Whenever the target takes this ongoing damage, you can slide the target 1 square.",orfeat("",["  As a minor action, you can end the ongoing poison damage to deal ",dmg(INTMOD,2,10)," to the target."],"dark pact"),orfeat("","  As a minor action, you can end the ongoing poison damage to slide the target 3 squares.","fey pact")])],"warlock","daily","9"),
     Power("Iron Spike of Dis",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([3,10],[CONMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is not immobilized.")],"warlock","attack",9),
     Power("Ring of Pain",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,10],[CHAMOD])),
          Effect(["The target takes ongoing ",orfeat(10,lambda x:x.mod("int")+10,"dark pact")," psychic damage (save ends).  The first time the target fails a saving throw against this ongoing damage, you choose a second creature within 10 squares of you and deal ongoing ",orfeat(5,lambda x:x.mod("int")+5,"dark pact")," psychic damage to it (save ends)"])],"warlock","attack",9),
      Power("Storm Countess's Kiss",["arcane","cold","implement"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CHAMOD],"fortitude",None),
          Hit(["",MOD("cha")," cold damage, and the target is held restrained ",orfeat("10 feet (2 squares)",[lambda x:x.mod("int")*5+10," feet [",MOD("int",2)," squares]"],"fey pact")," off the ground (save ends)."]),
          Aftereffect("The target falls, and you slide it 2 squares."),
          Miss("You push the target 2 squares, and you knock it prone.")],"warlock","daily","9"),
     Power("Summons of Khirad",["arcane","implement","psychic","teleportation"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([2,10],[CONMOD])),
          Hit("You teleport the target to an unoccupied square within 3 squares of you."),
          Sustain("minor","Make a Constitution vs. Will attack.  On a hit, you teleport the target within 3 squares of you.  On a miss, the effect ends.")],"warlock","attack",9),
      Power("Thief of Five Fates",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([0,0],[CHAMOD])),
          Hit("Until the end of your next turn, whenever the target makes a saving throw or an attack roll, you roll a d20 without modifiers.  If your result is higher than the target's unmodified die roll, the target's attack misses or the target's saving throw fails."),
          Sustain("minor","Make another Charisma vs. Will attack against the target.  On a hit, the effect continues.  On a miss, the effect ends.")],"warlock","attack",9),
      Power("Vestige Of Iimeth",["arcane","implement","psychic","teleportation"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([CONMOD],"reflex",damage([2,10],[CONMOD])),
          Hit(["Until the end of the encounter, whenever the target makes an attack roll against you, it takes ",MOD("int")," psychic damage."]),
          Miss(),
          Other("Vestige Pact:  You gain access to the vestige of Iimeth."),
          Other("Iimeth Pact Boon:  You and an ally within 5 squares of you can swap positions as a free action."),
          Other("Eyes Of The Vestige Augment:  Your eyes of the vestiae target also takes a -2 penalty to attack rolls until the end of your next turn.")],"warlock","daily","9"),
      Power("Vestige Of Shax",["arcane","implement"],"daily","standard",
          [Target("Each creature in blast",("close blast",3)),
          Effect("You knock the target prone."),
          Atk([CONMOD],"fortitude",damage([2,10],[CONMOD])),
          Hit(["You push the target ",MOD("int")," squares."]),
          Miss(),
          Other("Vestige Pact:  You gain access to the vestige of Shax the Devastator."),
          Other("Shax Pact Boon:  You can end one dazed, stunned, immobilized, or restrained condition on you or on an ally within 5 squares of you."),
          Other(["Eyes Of The Vestige Augment:  You push your eyes of the vestiae target ",MOD("int")," squares."])],"warlock","daily","9"),
],"warlockutility10":[
      Power("Ambassador Imp",["arcane","conjuration"],"daily","standard",
          [Other("Ranged 100 miles"),
          Effect("You whisper a message into the air, and an implike presence appears next to the creature you wish to speak to and delivers your message.  If the creature has a reply, the Imp appears adjacent to you at the end of your next turn to utter it.  If the creature has a reply, the imp appears adjacent to you at the end of your next turn to utter it.  If the creature has no reply or is not within range, the imp appears adjacent to you at the end of your next turn to tell you so.  The imp then disappears.")],"warlock","utility",10),
      Power("Darkest Mirror",["arcane"],"encounter","minor",
          [Effect("Until the end of the encounter, you can see invisible creatures as if they were not invisible.  All other creatures, including your allies, are invisible to you.  You can end this effect as a minor action.")],"warlock","utility",10),
      Power("Shadow Form",["arcane", "polymorph"],"daily","minor",
          [Effect("You assume a shadowy form until the end of the encounter or for 5 minutes.  In this form you are insubstantial, gain fly 6, and can't take standard actions.  Reverting to your normal form is a minor action.")],"warlock","utility",10),
      Power("Shielding Shades",["arcane"],"daily","immediate reaction",
          [Trigger("You are hit by an attack"),
          Effect("Reduce the attack's damage to 0.  If the attack targets other creatures, they take damage as normal.")],"warlock","utility",10),
      Power("Warlock's Leap",["arcane","teleportation"],"daily","move",
          [Effect("You teleport 6 squares.  You do not need line of sight to the destination, but if you attempt to teleport into a space you can't occupy, you can't move.")],"warlock","utility",10),
],"warlockencounter13":[
     Power("All Must Sacrifice",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"reflex", damage([2,8],[CHAMOD])),
          Hit(["You can choose to deal 1d8 damage to each ally within 3 squares of you to deal 1d",orfeat(8,10,"dark pact")," extra damage with this power for each ally who takes damage."])],"warlock","attack",13),
     Power("Bewitching Whispers",["arcane","charm","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
           Hit(["Until the end of your next turn, the target treats all creatures as enemies for the purpose of opportunity attacks and must make every opportunity attack possible.",orfeat("",["  The target gains a +",MOD("int")," power bonus to these attack rolls."],"fey pact")]),
           ],"warlock","attack",13),
     Power("Coldfire Vortex",["arcane","cold","implement","radiant"],"encounter","standard",
          [Special("Choose cold or radiant damage for this attack"),
           Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([2,10],[CONMOD])),
           Hit("Make a secondary attack"),
           Target("each creature adjacent to the primary target"),Atk([CONMOD],"reflex", damage([1,10],[CONMOD,orfeat(0,INTMOD,"star pact")]))
           ],"warlock","attack",13),
     Power("Cursegrind",["arcane","implement","necrotic"],"encounter","standard",
          [Target("each creature in burst under your curse",("close burst",20)),Atk([CHAMOD],"fortitude", damage([2,10],[CHAMOD,orfeat(0,INTMOD,"dark pact")]))],"warlock","attack",13),
     Power("Harrowstorm",["arcane","implement","thunder"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([2,10],[CONMOD])),
          Hit(["You slide the target ",lambda x:5+x.mod("int")*x.check("feature","infernal pact")," squares."])],"warlock","attack",13),
     Power("Korred's Tune",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,6],[CHAMOD])),
          Hit(["If the target does not move at least 3 squares during its next turn, it takes 1d6 psychic damage.",orfeat("","  If the target does not move at least 6 squares during its next turn, it takes 1d6 psychic damage.","fey pact")])],"warlock","attack",13),
      Power("Soul Flaying",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([2,8],[CONMOD,orfeat(0,INTMOD,"infernal pact")])),
          Hit("The target is weakened until the end of your next turn")],"warlock","attack",13)
],"warlockdaily15":[
     Power("Caution of Dispater",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([3,8],[CONMOD])),
          Effect(["The target takes ",dmg(CONMOD,1,8)," at the start of each of its turns until the target is attacked ",orfeat("","by someone other than you ","infernal pact"),"or until it starts its turn without line of sight to you."])],"warlock","attack",15),
     Power("Curse of the Golden Mist",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
          Hit("The target loses its next standard action"),
          Sustain("standard","Make a Charisma vs. Will attack against the target.  On a hit, the target loses its next standard action.  On a miss, the power ends.")],"warlock","attack",15),
     Power("Dark Lady's Gift",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([2,10],[CHAMOD])),
          Effect(["The target takes ongoing 5 psychic damage (Save ends).  Whenever the target fails a saving throw against this ongoing damage, each enemy within ",orfeat(3,5,"dark pact"),"sqares of the target takes 5 psychic damage"])],"warlock","attack",15),
     Power("Fireswarm",["arcane","fire","implement","poison"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([4,10],[CONMOD])),
          Sustain("standard","Make a secondary attack against the target"),
          Target("the tame creature",("ranged",10)),Atk([CONMOD],"reflex", damage([2,10],[CONMOD])),
          Miss("Half damage, and the power ends.")],"warlock","attack",15),
     Power("Kimmeriel's Smile",["arcane","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",orfeat(10,20,"dark pact"))),Atk([CHAMOD],"will", damage([3,8],[CHAMOD])),
          Hit("The target is dazed until it hits with an attack"),
          Miss("Half damage, and the target is not dazed.")],"warlock","attack",15),
     Power("Tendrils of Thuban",["arcane","cold","implement","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",1,10)),Atk([CONMOD],"fortitude", damage([4,10],[CONMOD])),
          Hit("The target is immobilized (save ends)"),
          Effect("The burst creates a zone of tendrils that lasts undil the end of your next turn"),
          Sustain("minor","Make a secondary attack"),
          Target("each creature in zone"),Atk([CONMOD],"fortitude", damage([1,10],[CONMOD])),
          Hit("The target is immobilized (save ends)")],"warlock","attack",15),
      Power("Thirsting Maw",["arcane","healing","implement"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CONMOD],"fortitude", damage([4,8],[CONMOD])),
          Hit("Regain hit points equal to half the damage dealt"),
          Sustain("minor","The target takes 2d8 damage (save ends).  Each time the target takes this damage, you regain hit points equal to half the damage.")],"warlock","attack",15)
],"warlockutility16":[
      Power("Cloak of Shadow",["arcane"],"encounter","move",
          [Effect("Fly a number of squares equal to your speed +2.  If you don't land at the end of this move, you fall.  Until the end of your next turn, you are insubstantial, and you cannot affect, attack or use powers on creatures or objects.")],"warlock","utility",16),
      Power("Eye of the Warlock",["arcane"],"daily","minor",
          [Target("one creature",("ranged",10)),
           Effect("You see through the target's eyes.  The target is not aware that you are doing so.  You have line of sight and line of effect from the target for your attacks.  Your warlock powers can originate in the target's square.  Each time you use a power through this link, a mystical third eye briefly appears upon the target's brow (save ends).")],"warlock","utility",16),
      Power("Infuriating Elusiveness",["arcane","illusion","teleportation"],"encounter","move",
          [Effect("You become invisible and then teleport 4 squares.  The invisibility lasts until the start of your next turn.")],"warlock","utility",16),
      Power("Ruinous Resistance",["arcane"],"daily","minor",
          [Target("you and one ally in burst",("close burst",5)),
           Effect("Choose a damage type: acid, cold, fire, lightning, necrotic, psychic, radiant, or thunder.  Until the end of the encounter, the targeted ally has vulnerable 5 to that damage type, and you gain resist 15 to it.")],"warlock","utility",16)
],"warlockencounter17":[
     Power("Despair of Zhudun",["arcane","fear","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([1,8],[CONMOD])),
           Hit(["You knock the target prone.  If the target stands up during its next turn, it takes ",dmg(0,2,8)," and grants combat advantage until the end of your next turn.",orfeat("","  The target also takes a -2 penalty to attack rolls until the end of your next turn.","star pact")])],"warlock","attack",17),
     Power("Strand of Fate",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([1,8],[CHAMOD])),
           Hit(["The target gains vulnerability ",lambda x: 10+x.mod("int")*x.check("feature","starpact")," to all attacks until the end of your next turn."])],"warlock","attack",17),
     Power("Thirsting Tendrils",["arcane","healing","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([3,6],[CHAMOD]))
          ,Hit(["You can spend a healing surge.",orfeat("",["  Regain an additional ",lambda x:2*x.mod("int")," hit points."],"fey pact")])],"warlock","attack",17),
     Power("Unholy Glee",["arcane","implement","poison"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],orfeat("will","will or fortitude","dark pact"), damage([2,8],[CHAMOD]),None,[],"")
          ,Hit("The target takes ongoing 10 poison damage (save ends).  The target can end the ongoing poison damage by using a free action on its turn to deal 4d6 damage to itself.")],"warlock","attack",17),
     Power("Warlock's Bargain",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",5)),Atk([CONMOD],"fortitude", damage([3,10],[CONMOD,lambda x: x.statret("level")/2])),
          Hit(["Take ",lambda x: x.statret("level")-x.mod("int")*x.check("feature","infernal pact")," damage"])],"warlock","attack",17),
     Power("Your Delectable Pain",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"reflex", damage([4,8],[CHAMOD])),
          Hit(["If the target is vulnerable to any damage types, your attack instead deals damage of that type.  If the target has more than one vulnerability, you choose which damage type to deal.",orfeat("",["  If the target takes damage of a type it is vulnerable to, it takes ",MOD("int")," extra psychic damage"],"dark pact")])],"warlock","attack",17)
],"warlockdaily19":[
     Power("Delusions of Loyalty",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
          Hit("On its next turn, the target uses its standard action to make a basic attack against the last creature to attack you since your last turn.  If no one attacked you since your last turn or if the target is unable to attack the target loses its standard action."),
          Sustain("minor","When you sustain this power, you can repeat the attack against the target.  If you miss, you can no lonhgger sustain the power.")],"warlock","attack",19),
     Power("Explosive Contagion",["arcane","implement","necrotic","psychic"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"fortitude", damage([2,10],[CHAMOD]),None,[],"necrotic"),
          Effect(["The target takes ongoing ",orfeat(10,lambda x:x.mod("int")+10,"dark pact")," poison damage (save ends).  The first time the target fails a saving throw against this ongoing damage, each enemy within 5 squares of the target takes ongoing ",orfeat(5,lambda x:x.mod("int")+5,"dark pact")," poison damage (save ends)"])],"warlock","attack",19),
     Power("Minions of Malbolge",["arcane","conjuration","fire","implement"],"daily","standard",
          [Effect("You conjure flames in the shape of diabolic imps that appear at your feat.  You gain 25 temporary hit points.  Any enemy that enters a square adjacent to you takes 2d10 fire damage and is pushed 3 squares.  This effect applies once per creature per round.  It ends when you have no temporary hit points remaining.")],"warlock","attack",19),
     Power("Passionate Betrayal",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", None),
          Hit(["The target is dominated (save ends).  The targets saving throw takes a -2 penalty for each unbloodied enemy (in other words, its allies) in the encounter, not counting minions.  The target immediately makes a saving throw against being dominated if it is the target of an attack by your or your allies.",orfeat("",["  All of the target's basic attacks while dominated receive a +",MOD("int")," power bonus to attack rolls."],"dark pact")]),
          Miss("The target is dazed (save ends)")],"warlock","attack",19),
     Power("Void Star",["arcane","healing","implement","necrotic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([4,8],[CONMOD])),
          Hit("The target takes ongoing 10 necrotic damage, and whenever the target would regain hit points, you regain the hit points instead (save ends both)."),
          Miss("Half damage, and ongoing 5 necrotic damage (save ends).")],"warlock","attack",19),
     Power("Wrath of Acamar",["arcane","implement","necrotic","teleportation"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"reflex", damage([4,10],[CHAMOD])),
          Hit("The target disappears into a starry realm (save ends)."),
          Special("While in the starry realm, the creature cannot take actions, cannot be targeted, and takes 1d10 necrotic damage at the start of its turn.  On a save, it returns to the space it was last in.  If that space is occupied, the target returns to the nearest unoccupied space of its choice.")],"warlock","attack",19),
],"warlockutility22":[
      Power("Entropic Ward",["arcane"],"encounter","minor",
          [Effect("Until the end of your next turn, anyone who attacks you must roll two dice and take the lower result.  Each time an attack misses due to this effect, you gain a cumulative +1 power bonus to your next attack.")],"warlock","utility",22),
      Power("Expedient Sacrifice",["arcane"],"daily","minor",
          [Target("one ally",("melee",1)),Effect("Until the end of the encounter, the target is slowed and you gain a +4 bonus to speed")],"warlock","utility",22),
      Power("Raven's Glamor",["arcane", "illusion","teleportation"],"daily","move",
          [Effect("You become invisible until the start of your next turn and teleport 20 squares.  You leave behind an illusory image of yourself that persists as long as you are invisible.  This image stands in place, takes no actions, and uses your defenses if it is attacked.  If the illusion is touched or takes any damage, it dissolves into a pile of dead leaves.  If you make an attack you become visible."),
           Sustain("standard","You remain invisible as long as you don't make an attack.")],"warlock","utility",22),
      Power("Wings of the Fiend",["arcane","polymorph"],"daily","minor",
          [Effect("You grow wings and gain a fly speed equal to your speed until the end of the encounter or for 5 minutes.")],"warlock","utility",22),
],"warlockencounter23":[
     Power("Blades of Vanquished Armies",["arcane","implement","necrotic"],"encounter","standard",
          [Target("each creature in burst",("close burst",1)),Atk([CHAMOD],"will", damage([2,6],[CHAMOD])),
           Hit(["The target is weakened until the end of your next turn.  In addition, until the end of your next turn, all creatures that you hit with a melee ",orfeat("","or ranged ","dark pact"),"attack take ",MOD("int")," necrotic damage"]),
           Other(["",orfeat("","Special:  You gain one type of resistance possessed by the target until the end of your next turn.","dark pact")])],"warlock","attack",23),
     Power("Dark Transport",["arcane","implement","teleportation"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([4,10],[CHAMOD])),
           Hit(["You can swap places with the target.",orfeat("",["After swapping places with the target you can teleport ",MOD("int")," squares."],"star pact")])],"warlock","attack",23),
     Power("Dreadtheft",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one or two creatures",("ranged",20)),Atk([CHAMOD,2],"reflex", damage([3,8],[CHAMOD])),
           Hit("If this attack drops a target to 0 hit points or fewer, the power is not expended."),
           Other(["",orfeat("","Special:  You gain one type of resistance possessed by the target until the end of your next turn.","dark pact")])],"warlock","attack",23),
     Power("Spiteful Darts",["arcane","implement"],"encounter","standard",
          [Target("each creature in blast",("close blast",5)),Atk([CONMOD],"reflex", damage([4,8],[CONMOD]))
          ,Hit(["Push the target ",lambda x:3+x.check("feature","infernal pact")*x.mod("int")," squares"])],"warlock","attack",23),
     Power("Thorns of Venom",["arcane","implement","poison"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"fortitude", damage([3,8],[CHAMOD])),
          Hit(["The target is immobilized and takes a -",orfeat(2,lambda x:1+ x.mod("int"),"star pact")," penatly to AC and reflex defense until the end of your next turn."])],"warlock","attack",23)
],"warlockdaily25":[
     Power("Curse of the Twin Princes",["arcane","illusion","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",5)),Atk([CHAMOD],"will", damage([4,10],[CHAMOD])),
          Hit("Until the end of the encounter, every time you take damage, you make another Charisma vs. Will attack against the target; if the attack hits, you take half damage and the target takes the other half."),
          Effect("Until the end of the encounter, whenever you are adjacent to the target, the images of you both begin to flow together, such that anyone who attacks one has a 50% chance of accidentally hitting the other instead.")],"warlock","attack",25),
     Power("Invisible Death",["arcane","force","implement"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"reflex", damage([4,8],[CHAMOD])),
          Hit(["If the target grants combat advantage to you, the target also takes ongoing ",orfeat(10,lambda x: 10+x.mod("int"),"dark pact")," force damage (save ends)."]),
          Miss("Half damage, and no ongoing damage.")],"warlock","attack",25),
     Power("Ring of Torment",["arcane","implement","necrotic","psychic"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"will", damage([4,8],[CHAMOD]),None,[],"necrotic"),
          Hit(["The target takes ongoing ",orfeat(10,lambda x:x.mod("int")+10,"dark pact")," psychic damage (save ends). "]),
          Aftereffect(["Aftereffect: You choose a second creature within 20 squares of you and deal ongoing ",orfeat(5,lambda x:x.mod("int")+5,"dark pact")," psychic damage to it (save ends).  The first time that creature fails a saving throw against this ongoing damage, you choose a third creature within 20 squares of you and deal ongoing ",orfeat(5,lambda x:x.mod("int")+5,"dark pact")," psychic damage to it (save ends)."]),
          Miss(["The target takes ongoing ",orfeat(10,lambda x:x.mod("int")+10,"dark pact")," psychic damage (save ends). This ongoing damage does not spread."]),],"warlock","attack",25),
     Power("Tartarean Tomb",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"reflex", damage([5,10],[CONMOD])),
          Hit("The target is entombed (save ends).  An entombed target immobilized and lacks line of sight and lin e of effect to any space other than its own.  All creatures other than you cannot gain line of sight or line of effect to the target."),
          Miss("Half damage, and the target is immobilized (save ends).")],"warlock","attack",25),
     Power("Thirteen Baleful Stars",["arcane","fear","fire","implement","psychic"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([5,10],[CONMOD])),
          Hit("The target is stunned until the end of your next turn."),
          Miss("Half damage, and the target is dazed until the end of your next turn.")],"warlock","attack",25)
],"warlockencounter27":[
     Power("Banish to the Void",["arcane","fear","implement","teleportation"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([2,10],[CONMOD])),
          Hit(["The target disappears to a starry realm.  At the start of its next turn, the target reappears in its original space.  If that space is occupied, the target returns to the nearest unoccupied space (its choice).  The target makes a melee basic attack against the nearest creature on its next turn.  Until the end of your next turn, all creatures treat the target as an enemy with respect to provoking opportunity attacks, and the target must take every opportunity attack possible.",orfeat("",["  The target gains a +",MOD("int")," power bonus to attack rolls it makes due to this power."],"star pact")," squares."])],"warlock","attack",27),
     Power("Curse of the Fey King",["arcane","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", damage([3,10],[CHAMOD]))
          ,Hit(["The first time the target rolls a d20 on its next turn, you can steal that result.  The target rerolls, and you use the stolen result for your next d20 roll.",orfeat("",["  You gain a +",MOD("int")," power bonus to the stolen result."],"fey pact")])],"warlock","attack",27),
     Power("Hellfire Curse",["arcane","fire","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([5,10],[CONMOD,orfeat(0,INTMOD,"infernal pact")]))],"warlock","attack",27),
     Power("Inevitable Undercut",["arcane","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"fortitude", damage([4,8],[CHAMOD])),
           Special(["If the target has more hit points than you do when you attack you gain a +",orfeat(2,4,"dark pact")," power bonus to the attack roll."])],"warlock","attack",27),
],"warlockdaily29":[
     Power("Curse of the Dark Doom",["arcane","charm","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CHAMOD],"will", None),
          Hit("On the target's next turn, you dictate its standard, move, and minor actions.  It can't use powers other than a basic attack and it can't take suicidal actions such as leaping off a cliff or attacking itself."),
          Miss("If the target is adjacent to one of its allies at the start of its next turn, it must begin its turn by using a standard action to make a melee basic attack against that ally."),
          Sustain("standard","Repeat the attack against the target as long as the target is within range.  On a miss, you can't sustain this power.")],"warlock","attack",29),
     Power("Doom of Delban",["arcane","cold","fear","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"fortitude", damage([5,10],[CONMOD])),
          Miss(),
          Sustain("standard","You can attack the same target or switch to a new target within range.  Make an attack (as above) and increase the cold damage by 1d10 each time this power hits.  Each time you sustain this power, you take 2d10 damage.")],"warlock","attack",29),
     Power("Hurl through Hell",["arcane","fear","fire","implement","teleportation"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([CONMOD],"will", damage([7,10],[CONMOD])),
          Hit("The target disappears into the Nine Hells until the end of your next turn.  The target returns to the same square it left, or the nearest occupied square, and is prone and stunned (save ends)."),
          Sustain("minor","If you spend a minor action to sustain th epower, the target's return is delayed until the end of your next turn.  You can sustain the power no more than three times."),
          Miss("Half damage, and the target does not disappear.")],"warlock","attack",29),
     Power("One Final Sacrifice",["arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([CHAMOD],"reflex", damage([4,8],[CHAMOD])),
          Miss(),
          Effect(["Each ally within 5 squares of you takes 10 damage.  for each ally damage, the target takes 1d",orfeat(8,12,"dark pact")," damage."])],"warlock","attack",29),
     Power("Spread the Corrosion",["acid","arcane","implement"],"daily","standard",
          [Effect("Before the attack you can shift 5 squares"),
           Target(orfeat("one, two, or three creatures you were adjacent to as you shifted",["up to ",lambda x:max(3,x.mod("int"))," creatures you were adjacent to as you shifted"],"dark pact"),("ranged",20)),Atk([CHAMOD],"reflex, one attack per target", damage([4,12],[CHAMOD]))],"warlock","attack",29),
]}
    addPowers(warlockList)

def warlord():
    warlordList={"warlordat-will1":[
      Power("Brash Assault",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(raising(1,20), [STRMOD]),["melee"])
          ,Effect("The target can make a melee basic attack against you as a free action and has combat advantage for the attack.  If the target makes this attack, an ally of your choice within 5 squares can make a basic attack against the target as a free action and has combat advantage for the attack.")],"warlord","at-will",1),
      Power("Commander's Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature",("melee","weapon")),
           Other(["Attack: An ally of your choice makes a basic melee attack against the target with ",plus(lambda x:x.mod("int"),1)," to damage"])],"warlord","at-will",1),
      Power("Furious Smash",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(0, [STRMOD]),["melee"])
          ,Hit(["One adjacent ally gains a ",plus(lambda x:x.mod("cha"),1)," power bonus to his next attack and damage roll against the target on his or her next turn."])],"warlord","at-will",1),
      Power("Opening Shove",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", None,["melee"])
          ,Hit(["You push the target 1 square.  Then choose an ally you can see.  That ally either shifts ",MOD("int")," squares or makes a melee basic attack against the target."])],"warlord","at-will",1),
      Power("Viper's Strike",["martial","weapon"],"at-will","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])
          ,Effect("If the target shifts before the start of your next turn, it provokes an opportunity attack from an ally of your choice")],"warlord","at-will",1),
      Power("Wolf Pack Tactics",["martial","weapon"],"at-will","standard",
          [Target("one creature")
          ,Special("Before you attack you let one ally adjacent to either you or the target shift 1 square as a free action.")
          ,Atk([STRMOD],"AC", damage(raising(1,20), [STRMOD]),["melee"])],"warlord","at-will",1)
],"warlordencounter1":[
      Power("Guarding Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Until the end of your next turn, one ally adjacent to either you or the target gains a +",orfeat(2,lambda x:x.mod("cha")+1,"inspiring presence")," power bonus to AC against the target's attacks"])],"warlord","attack",1),
      Power("Hammer and Anvil",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"ref", damage(1, [STRMOD]),["melee"])
          ,Hit(["One ally adjacent to the target makes a melee basic attack with a +",lambda x:x.mod("cha")," damage bonus against it as a free action."])],"warlord","attack",1),
      Power("Hammer Formation",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["ranged","heavy thrown"])
          ,Hit(["Each ally ",orfeat("adjacent to",["within ",MOD("cha")," squares of"],"resourceful presence")," you deals 1[W] extra damage on a hit with the next weapon attack he or she makes before the start of your next turn."])],"warlord","attack",1),
      Power("Leaf on the Wind",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit("You or an ally adjacent to the target swaps places with the target")],"warlord","attack",1),
      Power("Luring Focus",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"])
          ,Hit(["Choose another enemy within 5 squares of you and pull it ",orfeat("one square.",[CHAMOD," squares."],"bravura presence")]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",1),
      Power("Myrmidon Formation",["martial","weapon"],"encounter","standard",
          [Requirement("You must be using a shield"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee","one-handed"])
          ,Effect("At the start of your next turn, each ally adjacent to you gains 5 temporary hit points.")],"warlord","attack",1),
      Power("Nimble Footwork",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit("You can shift 1 square.  After you shift, one ally within 2 squares of you can shift 1 square as a free action.")],"warlord","attack",1),
      Power("Warlord's Favor",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit(["One ally within 5 squares of you gains a +",orfeat(2,lambda x:x.mod("int")+1,"tactical presence")
          ," bonus to attack rolls against that target until the end of your next turn"])],"warlord","attack",1)
],"warlorddaily1":[
      Power("Bastion of Defense",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])
          ,Hit("Allies within 5 squares of you gain a +1 power bonus to all defenses until the end of the encounter")
          ,Effect(["Allies within 5 squares of you gain ",lambda x:x.mod("cha")+5," temporary hit points"])],"warlord","attack",1),
      Power("Calculated Assault",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])
          ,Hit(["One of your allies within 5 squares of you gains a +",lambda x:x.mod("int")+1," power bonus to damage rolls until the end of the encounter.  You can transfer the bonus to another ally within 5 squares of you as a minor action."])],"warlord","attack",1),
      Power("Concentrated Attack",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Effect(["One ally within 10 squares of you can make a basic attack against the target as a free action.  The ally gains a +",MOD("int")," bonus to the attack roll and the damage roll."])],"warlord","attack",1),
      Power("Fearless Rescue",["healing","martial","weapon"],"daily","immediate reaction",
          [Trigger("An enemy within 5 squares of you reduces an ally to 0 hit points or fewer."),
           Target("the triggering enemy"),Effect("Before the attack, you can move to the nearest square from which you can attack the target."),
           Atk([STRMOD,1],"AC", damage(2, [STRMOD]),["melee"])
          ,Effect("The ally can spend a healing surge and regains an additional 1d6 hit points for every opportunity attack you provoke while moving to the target.")],"warlord","attack",1),
      Power("Lead by Example",["martial","weapon"],"daily","standard",
          [Target("one creature"),Effect("Before the attack, you can shift 1 square"),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"])
          ,Hit("Your allies gain combat advantage against the target until the start of your next turn.")
          ,Miss("Two allies within 5 squares of you can each shift 1 square and make a basic attack as a free action.")],"warlord","attack",1),
      Power("Lead the Attack",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])
          ,Hit(["Until the end of your next turn, you and each ally within 5 squares of you gain a +",lambda x:x.mod("int")+1," power bonus to attack rolls against the target"])
          ,Miss("Half damage.  Until the end of your next turn, you and each ally within 5 squares of you gain a +1 power bonus to attack rolls against the target")],"warlord","attack",1),
      Power("Pin the Foe",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])
          ,Effect("Until the end of the encounter, the target cannot shift if at least two of your allies (or you and one ally) are adjacent to it")],"warlord","attack",1),
      Power("White Raven Onslaught",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"])
          ,Hit("Slide an adjacent ally 1 square.  Until the end of the encounter, whenever you or an ally within 10 squares of you makes a successful attack the attacker slides an adjacent ally 1 square")
          ,Miss("Choose one ally within 10 squares.  Until the end of the encounter, the ally slides an adjacent ally 1 square after making a successful attack")],"warlord","attack",1)
],"warlordutility2":[
      Power("Adaptive Stratagem",["martial"],"encounter","minor",
          [Target("one ally in burst",("close burst",10)),
           Effect(["Until the end of your next turn, the ally gains ",orfeat("his or her choice of","both","resourceful presence")," a +",MOD("int")," power bonus to damage rolls ",orfeat("or","and","resourceful presence")," a +",MOD("cha")," power bonus to saving throws."])],"warlord","utility2"),
     
      Power("Aid the Injured",["healing","martial"],"encounter","standard",
          [Target("You or one adjacent ally"),
           Effect("The target can spend a healing surge")],"warlord","utility2"),
      Power("Covering Maneuver",["martial"],"encounter","free",
          [Trigger("You or an ally within 5 squares of you uses second wind"),
           Target("One ally in burst other than the triggering character",("close burst",5)),
          Effect("The target can shift 1 square as a free action.  In addition, an enemy in the burst is marked by the target until the end of the enemy's next turn.")],"warlord","utility2"),
      Power("Crescendo of Violence",["martial"],"encounter","immediate reaction",
          [Trigger("An ally within 5 squares scores a critical hit", ("ranged",5)),
          Effect(["The ally gains ",lambda x:x.mod("cha")," temporary hit points"])],"warlord","utility2"),
      Power("Heroic Effort",["martial"],"daily","minor",
          [Requirement("You must be bloodied."),
           Target("each ally in burst",("close burst",10)),
           Effect(["The ally can add ",MOD("cha")," to damage rolls until you are no longer bloodied.  Also, you gain ",lambda x:x.statret("level")+x.mod("cha"),"temporary hit points."])],"warlord","utility2"),
      Power("Inspired Belligerence",["martial"],"encounter","minor",
          [Target("One enemy in burst granting combat advantage to you or an ally",("close burst",5)),
           Effect(["Until the start of your next turn, all your allies gain combat advantage against the target",orfeat("",[", and add ",MOD("cha")," to all damage rolls against the target"],"inspiring presence"),"."])],"warlord","utility2"),
      Power("Knight's Move",["martial"],"encounter","move",
          [Target("one ally",("ranged",10)),
           Effect("The target takes a move as a free action")],"warlord","utility2"),
      Power("Knight's Move",["martial"],"daily","minor",
          [Target("one bloodied ally in burst",("close burst",5)),
           Effect(["The target regains use of second wind and gains a +",MOD("cha")," power bonus to his or her next attack roll."])],"warlord","utility2"),
      Power("Knight's Move",["martial"],"encounter","minor",
          [Target("One enmy in burst and you or one ally in burst",("close burst",5)),
           Effect(["The targets make opposed initiative checks.  The winner gains combat advantage against the loser until the end of the winner's next turn.",orfeat("",["  You or your ally gain a +",MOD("cha")," power bonus to the initiative check."],"bravura presence")])],"warlord","utility2"),
      Power("Repositioning Command",["martial"],"daily","move",
          [Target("You and each ally in burst",("close burst",orfeat(5,10,"tactical presence"))),
           Effect("Each target can shift 1 square.")],"warlord","utility2"),
      Power("Rub Some Dirt on It",["martial"],"encounter","minor",
          [Target("You if you're bloodied or one bloodied ally",("melee","touch")),
           Effect(["The target gains ",lambda x:x.mod("cha")+5," temporary hit points."])],"warlord","utility2"),
      Power("Shake It Off",["martial"],"encounter","minor",
          [Target("you or one ally",("ranged",10)),
           Effect(["The target makes a saving throw with a ",plus(lambda x:x.mod("cha"),1)," power bonus"])],"warlord","utility2"),
],"warlordencounter3":[
      Power("Bloody Ending",["martial","weapon"],"encounter","standard",
          [Target("one bloodied creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,INTMOD]),["melee"]),
          Other(["",orfeat("","Hit: Your allies gain a +2 power bonus to attack rolls against the enemy until the start of your next turn.","resourceful presence")])],"warlord","attack",3),
      Power("Dicey Predicament",["martial","weapon"],"encounter","standard",
          [Requirement("You must be flanked"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,orfeat(0,CHAMOD,"bravura presence")]),["melee"]),
          Hit("All enemies adjacent to you grant combat advantage to all your allies within 5 squares of you until the end of your next turn.")],"warlord","attack",3),
      Power("Flattening Charge",["martial","weapon"],"encounter","standard",
          [Requirement("You must charge and use this power in place of a melee basic attack."),
           Target("one creature"),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
          Hit(["You knock the target prone.",orfeat("","  This power is not expended.","bravura presence")]),
          Miss("The target gains combat advantage against you until the start of your next turn.")],"warlord","attack",3),
      Power("Follow Me In",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["One ally within 10 squares of you gains a +2 power bonus to speed until the end of your next turn.",orfeat("","  If the ally charges while the bonus to speed is in effect, the ally's movement during the charge does not provoke opportunity attacks.","tactical presence")]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",3),
      Power("Hold the Line",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Effect("Until the end of your next turn, allies adjacent to you gain a +2 power bonus to AC and cannot be pulled, pushed, or slid")],"warlord","attack",3),
      Power("Inspiring War Cry",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("One ally who can hear you and is within 5 squares of you makes a saving throw.")],"warlord","attack",3),
      Power("Shielding Retaliation",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An adjacent enemy hits an ally with an opportunity attack."),
           Effect("The opportunity attack hits you instead."),
           Target("The triggering enemy"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The ally can shift 2 squares.")],"warlord","attack",3),
      Power("Steel Monsoon",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["",orfeat("one ",lambda x:x.mod("int"),"tactical presence")," ally/ies within 5 squares of you can shift 1 square."])],"warlord","attack",3),
      Power("Warlord's Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Until the end of your next turn, all of your allies gain a +",orfeat(2,lambda x:x.mod("cha")+1,"inspiring presence")," bonus to damage rolls against the target."])],"warlord","attack",3)
],
"warlorddaily5":[
      Power("A Rock and a Hard Place",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, whenever an enemy adjacent to you attacks an ally of yours and misses, you deal ",MOD("int")," damage to the enemy as a free action.",orfeat("",["If the enemy is marked by an ally, deal 1[W] + ",dmg(INTMOD)," instead."],"tactical presence")])],"warlord","attack",5),
      Power("Pike Hedge",["martial","stance","weapon"],"daily","immediate reaction",
          [Trigger("An enemy enters a square within your reach"),
           Requirement("You must be wielding a reach weapon."),
           Target("The triggering enemy"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Effect(["Whenever an enemy enters a square adjacent to you or to an ally adjacent to you, you deal ",MOD("str")," damage to that enemy as an opportunity action.  This effect lasts until the end of the encounter."])],"warlord","attack",5),
      Power("Scent of Victory",["martial"],"daily","standard",
          [Target("each ally in burst",("close burst",5)),
          Effect("Each target can make a melee basic attack as a free action against a bloodied enemy adjacent to him or her.")],"warlord","attack",5),
      Power("Situational Advantage",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["ranged","heavy thrown"]),
           Miss(),
          Effect(["Until the end of your next turn, you ",orfeat("",[" deal 1[W] + ",MOD("int")," damage"],"resourceful presence")," and each ally within 10 squares of you ",orfeat("deal ","deals ","resourceful presense"),INTMOD," extra damage when hitting with combat advantage."])],"warlord","attack",5),
      Power("Staggering Spin",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
          Hit(["You push the target 1 square.  If the target is then adjacent to any of your allies, those allies can make a melee basic attack against the target as an opportunity action."]),
          Miss("Half damage, and no push.")],"warlord","attack",5),
      Power("Stand the Fallen",["healing","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect(["Allies within 10 squares of you can spend a healing surge and regain an additional ",lambda x:x.mod("cha")+5," hit points."])],"warlord","attack",5),
      Power("Turning Point",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You or one ally within 5 squares makes a saving throw."),
          Miss("You or one ally makes a saving throw against one effect that the target caused and a save can end.")],"warlord","attack",5),
      Power("Villain's Nightmare",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(3, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, when you are adjacent to the target and it walks or runs, you can cancel that movement as an immediate interrupt.")],"warlord","attack",5),
],"warlordutility6":[
      Power("Encouraging Stance",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, when you hit with a melee attack, choose a bloodied ally within 5 squares of you.  That ally gainst ",lambda x:x.mod("cha")+5," temporary hit points.",orfeat("","  You can choose to grant the temporary hit points when you miss with a melee attack, but that grants the target of the attack combat advantage against you until the end of your next turn.","bravura presence")])],"warlord","utility",6),
      Power("Forward Observer",["martial"],"at-will","minor",
          [Effect("Choose one enemy you can see.  Until the end of your next turn, any ally who can see or hear you doesn't take the normal penalty to attack rolls for cover or concealment when attacking that enemy (the penalties for superior cover or total concealment still apply).")],"warlord","utility",6),
      Power("Guide the Charge",["martial"],"encounter","immediate interrupt",
          [Trigger("An ally charges",("ranged",10)),
          Effect(["If the ally hits, he or she adds ",lambda x:x.mod("int")," to the damage roll and pushes the attack's target 2 squares.  The ally can shift 2 squares to remain adjacent to the target."])],"warlord","utility",6),
      Power("Guileful Switch",["martial"],"encounter","free",
          [Requirement("You must use this power during your turn before you take any other actions."),
           Effect("You and one ally you can see switch places in the initiative order.  Your turn ends when you use this power, and the ally takes his or her next turn immediately, even if he or she has already acted during this round.  You then act when your ally would have acted.")],"warlord","utility",6),
      Power("Inspiring Reaction",["healing","martial"],"encounter","immediate reaction",
          [Trigger("You or an adjacent ally takes damage", ("melee","touch")),
          Effect(["You or the ally can spend a healing surge and regain  ",lambda x:x.mod("cha")," additional hit points"])],"warlord","utility",6),
      Power("Phalanx Formation",["martial","stance"],"daily","minor",
          [Requirement("You must be using a shield"),
           Effect("Until the stance ends, whenever you are adjacent to any ally who is using a shield, you and the ally gain a +1 power bonus to AC and Reflex.")],"warlord","utility",6),
      Power("Quick Step",["martial"],"daily","minor",
          [Target("one ally",("ranged",10)),
           Effect("Increase the ally's speed by 2 until the end of the encounter.")],"warlord","utility",6),
      Power("Rousing Words",["healing","martial"],"encounter","minor",
          [Target("you or one ally in burst",("close burst",5)),
           Effect(["The target canb spend two healing surges",orfeat("",[", and regains ",lambda x:x.mod("cha")+5," additional hit points"],"inspiring presence"),"."])],"warlord","utility",6),
      Power("Stand Tough",["healing","martial"],"daily","minor",
          [Target("you and each ally in burst",("close burst",5)),
           Effect(["The targets regain ",lambda x:x.mod("cha")+10," hit points"])],"warlord","utility",6),
      Power("Tactical Supervision",["martial"],"encounter","immediate interrupt",
          [Trigger("An ally makes a basic attack, a bull rush, or a charge within 10 squares of you."),
           Target("the triggering ally in burst",("close burst",10)),
           Effect(["The target gains a +",MOD("int")," bonus to the attack roll."])],"warlord","utility",6),
      Power("Tempting Target",["healing","martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, you grant combat advantage to all enemies, but any enemies adjacent to you grant combat advantage to your allies.",orfeat("",["  When an enemy adjacent to you becomes bloodied or is reduced to 0 hit points, you regain ",MOD("cha")," hit points."],"bravura presence")])],"warlord","utility",6),
],"warlordencounter7":[
      Power("Deadly Returns",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Choose an ally within 5 squares of you.  Until the end of your next turn, if the target makes a melee attack against you or the ally, the ally can make an opportunity attack against the target.")],"warlord","attack",7),
            Power("Lion's Roar",["healing","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["You or one ally within 5 squares of you can spend a healing surge.  ",orfeat("",["Your ally (but not you) regains an additional ",lambda x: x.mod("cha")," hit points."],"inspiring presence")])],"warlord","attack",7),
      Power("Phalanx Assault",["martial","weapon"],"encounter","standard",
          [Requirement("You must be using a shield"),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Other([orfeat("Hit: ","Effect: ","resourceful presence"),"Allies adjacent to you gain a +2 power bonus to AC and Reflex until the end of your next turn."])],"warlord","attack",7),
      Power("Provoke Overextension",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["The target must make a basic attack against you as a free action.  If the basic attack misses, an ally of yours can make a basic attack against the target ",orfeat("",["with a +",MOD("cha")," bonus to the damage roll "],"bravura presence"),"as a free action.",orfeat("",["You gain a +",MOD("cha")," bonus to AC against the target's basic attack."],"bravura presence")])],"warlord","attack",7),
      Power("Sacrificial Lure",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD,CHAMOD]),["melee"]),
          Hit(["Until the start of your next turn, one ally within 5 squares of you gains a +",MOD("cha")," power bonus to his or her next attack roll."]),
          Effect("You take a -2 penalty to AC until the start of your next turn.")],"warlord","attack",7),
      Power("Stirring Force",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Any ally within 2 squares of you can make a saving throw",orfeat(".",[" with a +",MOD("int")," bonus to the roll."],"resourceful presence")])],"warlord","attack",7),
      Power("Sunder Armor",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Until the end of your next turn, any attack roll against the target can score a critical hit on a roll of 18-20.")],"warlord","attack",7),
      Power("Surprise Attack",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["An ally within 5 squares of you makes a basic melee attack with combat advangage",orfeat("",[" and a +",lambda x:x.mod("int")," bonus to the attack roll"],"tactical presence")," as a free action against a target of his or her choice."])],"warlord","attack",7),
      Power("Surround Foe",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("You slide one willing ally who is adjacent to the target to any other square adjacent to the target.  The ally can move through the target's square.")],"warlord","attack",7),
      Power("War of Attrition",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["Until the start of your next turn, any ally who you can see gains a +",orfeat(1,CHAMOD,"inspiring presence")," to attack rolls and damage rolls with basic attacks and at-will powers."])],"warlord","attack",7),
],"warlorddaily9":[
      Power("Blood Designation",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect(["The target takes ongoing ",orfeat(5,lambda x:x.mod("cha")+5,"inspiring presence")," damage (save ends).  As long as the ongoing damage persists, your allies gain combat advantage against the target."])],"warlord","attack",9),
      Power("Denying Mark",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("The target is marked (save ends)."),
           Miss("Half damage, and the target is marked until the end of its next turn."),
           Effect(["The target cannot recharge its powers ",orfeat("","or spend action points ","bravura presence"),"as long as it is marked by this power."])],"warlord","attack",9),
      Power("Disheartening Flurry",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Miss(),
          Effect("The target takes a -2 penalty to saving throws until the end o fthe encounter.")],"warlord","attack",9),
      Power("Iron Dragon Charge",["martial","weapon"],"daily","standard",
          [Target("one creature"),
           Special("You must charge as part of this attack"),
          Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, as an immediate reaction, an ally of your choice within 5 squares of you can charge a target that you charge.")],"warlord","attack",9),
      Power("Knock them Down",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is knocked prone.  Every ally within 10 squares of you can move 3 squares and make a melee basic attack against one target of his or her choice as a free action.  These attacks deal no damage but knock a target prone on a hit."),
          Miss("Half damage, and the target is knocked prone.")],"warlord","attack",9),
      Power("Stay on Target",["martial","weapon"],"daily","immediate reaction",
          [Trigger("An enemy enters a square within 3 squares of you"),
           Target("the triggering enemy",("ranged",3)),Atk([STRMOD],"AC", damage(1, [STRMOD,INTMOD]),["ranged","heavy thrown"]),
          Miss(),
          Effect(["Each ally within 2 squares of you can make a ranged basic attack against the target as an immediate reaction, with a +",MOD("int")," bonus to the damage roll."])],"warlord","attack",9),
      Power("White Raven Strike",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(3, [STRMOD]),["melee"]),
          Effect(["One or two allies within 10 squares gain 5 temporary hit points.  If you dropped the target to 0 hit points or fewer with this attack add ",lambda x:x.mod("cha")," to the temporary hit points gained."])],"warlord","attack",9),
      Power("Warlord's Recovery",["martial","weapon"],"daily","standard",
          [Target("one ally in burst",("close burst",5)),
          Effect(["As a free action, the target can make an attack using an encounter attack power that he or she ahs already used during this encounter.  Also, if you have used all your encounter attack powers, you regain the use of a warlord encounter attack power you have used during this encounter."])],"warlord","attack",9),
],"warlordutility10":[
      Power("Bolstering Shout",["healing","martial"],"encounter","minor",
          [Target("Each ally in burst",("close burst",5)),
           Effect(["Until the end of your next turn, each target regains an additional ",MOD("cha")," hit points when he or she uses second wind.  Each target can also choose to use second wind as a minor action but gain no bonus to defenses from it."])],"warlord","utility",10),
      Power("Defensive Rally",["healing","martial"],"daily","standard",
          [Target("Each ally in burst",("close burst",5)),
           Effect("Each target can spend a healing surge and make a saving throw against any single effect that a save can end.  In addition, all targets gain a +2 power bonus to all defenses until the end of your next turn.")],"warlord","utility",10),          
      Power("Ease Suffering",["martial"],"daily","minor",
          [Effect("Allies ignore ongoing damage on any turn they start adjacent to you, neither taking ongoing damage nor making saving throws to end it.  This effect persists until the end of the encounter or 5 minutes.")],"warlord","utility",10),
      Power("Instant Planning",["martial"],"daily","minor",
          [Target("You and each ally in burst",("close burst",5)),
           Effect(["Until the end of your next turn, ",orfeat("every","each","resourceful presence")," target gains your choice of a +",MOD("cha")," power bonus to attack rolls, a +",MOD("cha")," power bonus to speed, or a +",MOD("int")," power bonus to all defenses."])],"warlord","utility",10),          
      Power("Marked Revelation",["martial"],"encounter","standard",
          [Target("Each unmarked enemy in burst",("close burst",orfeat(3,5,"tactical presence"))),
           Effect("The targets are marked by an ally of your choice until the end of your next turn.")],"warlord","utility",10),          
      Power("Rallying Deflection",["martial"],"encounter","immediate interrupt",
          [Trigger("An enemy hits you with a ranged attack"),
           Requirement("You must be using a shield"),
          Effect(["Reduce the attack's damage by ",lambda x:x.statret("level")/2,".  One ally within 5 squares of the attacker can charge the attacker as a free action."])],"warlord","utility",10),
      Power("Strider Stance",["martial","stance"],"daily","minor",
          [Effect("Until the stance ends, once on each of your turns you can use a move action to shift 1 square and gain a +1 power bonus to damage rolls until the start of your next turn, or you can use a move action to allow an ally within 5 squares of you to do the same as a free action.")],"warlord","utility",10),          
      Power("Tactical Shift",["martial"],"daily","immediate interrupt",
          [Trigger("A creature hits your ally with a melee or ranged attack",("ranged",10)),
          Effect(["The ally can shift.",lambda x:x.mod("int")+1," squares"])],"warlord","utility",10),
      Power("Unintended Feint",["martial"],"daily","immediate reaction",
          [Trigger("An ally within 5 squares of you misses with an attack"),
           Target("The triggering ally in burst",("close burst",5)),
           Effect("The target can reroll the attack and has combat advantage for it.")],"warlord","utility",10),          
],"warlordencounter13":[
      Power("Beat Them into the Ground",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Hit(["The target is knocked prone.  Every ally within 5 squares of you makes a basic attack ",orfeat("",["with a +",MOD("int")," bonus to the attack roll "],"tactical presence"),"on one target of his or her choice as a free action.  These attacks deal no damage but knock a target prone on a hit."]),],"warlord","attack",13),
      Power("Befuddling Cry",["martial"],"encounter","immediate interrupt",
          [Trigger("An enemy within 5 squares of you hits an ally with an opportunity attack"),
           Target("the triggering ally in burst"),
          Effect(["The target makes a melee basic attack against the attacking enemy as a free action.  If this attack hits, the attacking enemy rerolls the opportunity attack against a different creature of your choice within its reach",orfeat("",[" with a +",MOD("cha")," bonus to the attack and damage rolls"],"resourceful presence"),"."])],"warlord","attack",13),
      Power("Bolstering Blow",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Grant ",orfeat(10,lambda x:10+x.mod("int"),"inspiring presence")," temporary hit points to an ally within 5 squares of you."])],"warlord","attack",13),
      Power("Denying Smite",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("Choose one ally within 5 squares of you.  The target cannot attack that ally with melee attacks or ranged attacks until the end of your next turn.")],"warlord","attack",13),
      Power("Fury of the Sirocco",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit("Slide the target 1 square")],"warlord","attack",13),
      Power("Grim Mark",["martial","weapon"],"encounter","standard",
          [Effect("Before the attack, you can shift 2 squares."),
           Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["The target is dazed and marked until the end of your next turn.",orfeat("",["  While the target is marked by this power, your allies gain a +",MOD("cha")," power bonus to damage rolls against the target."],"resourceful presence")])],"warlord","attack",13),
      Power("Headstrong Bravery",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(3, [STRMOD]),["melee"]),
           Hit(["You mark the target until the end of your next turn.  Until the start of your next turn, you grant combat advantage to all enemies, and your allies gain a +",orfeat(2,lambda x:x.mod("cha")+2,"bravura presence")," power bonus to damage rolls against the target."]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",13),
      Power("Pincer Maneuver",["martial"],"encounter","standard",
          [Target("one or two allies in burst",("close burst",5)),
          Effect(["Each target can shift 3 squares and make a melee basic attack against an adjacent enemy as a free action.  If the target is flanking the enemy, he or she gains a +",MOD("cha")," bonus to the damage roll.",orfeat("",["  The target gains a +",MOD("cha")," power bonus to the attack roll."],"bravura presence")])],"warlord","attack",13),
      Power("Unified in Blood",["martial","weapon"],"encounter","immediate interrupt",
          [Trigger("An enemy wtihin 5 squares of you bloodies an ally."),
           Target("the triggering enemy"),Effect("Before the attack, you can move your speed."),
           Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("The bloodied ally can make a basic attack against the target as a free action.")],"warlord","attack",13),
      Power("Ventured Gains",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
           Hit(["If this attack bloodies the target, two of your adjacent allies can each make a basic attack ",orfeat("",["with a +",MOD("cha")," power bonus to the attack roll "],"bravura presence"),"against the target as a free action."]),
          Effect("You grant combat advantage to all enemies until the start of your next turn.")],"warlord","attack",13),
      Power("Withdrawal Gambit",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Each of your allies adjacent to the target can make a saving throw ",orfeat("",["with a +",MOD("cha")," bonus "],"tactical presence"),"and then shift ",orfeat("1 square",[lambda x:x.mod("int")+1," squares"],"tactical presence")," as a free action."])],"warlord","attack",13),
],"warlorddaily15":[
      Power("Anticipate Attack",["martial","weapon"],"daily","immediate interrupt",
          [Trigger("An adjacent enemy hits you with a melee attack"),
           Target("The triggering enemy",("melee",1)),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
           Hit("you can shift 1 square"),
          Effect(["Each ally adjacent to the target can make an opportunity attack against it and has combat advantage",orfeat("",[" and gains a +",MOD("int")," bonus to the damage roll"],"tactical presence")," for the attack."])],"warlord","attack",15),
      Power("Arkhosia's Fury",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("You can shift 2 squares"),
           Miss("Half damage, and you can shift 1 square."),
          Effect("After you shift, you can make a basic attack against a different target."),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",15),
      Power("Formidable Smash",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("Until the end of the encounter, the target takes a -2 penalty to attack rolls against you or any ally who is adjacent to you when it attacks (the target takes no penalty if it is immune to fear)."),
          Miss("Half damage, and no penalty")],"warlord","attack",15),
      Power("Grim Instruction",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("The target takes a -2 penalty to attack rolls and grants combat advantage to you and your allies (save ends both).")],"warlord","attack",15),
      Power("Infectious Determination",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Miss(),
          Effect(["As a free action, each ally within 5 squares of you can make a saving throw",orfeat("",[" with a +",MOD("int")," bonus"],"resourceful presence"),".  Make a secondary attack against the target."]),
          Atk([STRMOD],"fortitude", damage(1, [STRMOD]),["melee"]),
          Hit(["You knock the target prone.  Each ally within 5 squares of you can spend a healing surge as a free action",orfeat("",[" and regains an additional ",MOD("cha")," hit points"],"resourceful presence"),"."])],"warlord","attack",15),
      Power("Make Them Bleed",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("ongoing 5 damage (save ends)"),
          Effect("Until the end of the encounter, whenever you or an ally hits the target, the attack also deals ongoing 5 damage (save ends).")],"warlord","attack",15),
      Power("Renew the Troops",["healing","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Each ally who has line of sight to you regains hit points as if he or she had spend a healing surge.  Add ",MOD("cha")," to the hit points regained."]),
          Miss(["Each ally who has line of sight to you regains ",lambda x:10+x.mod("cha")," hit points"])],"warlord","attack",15),
      Power("War Master's Assault",["martial"],"daily","standard",
          [Target("you and each ally in burst",("close burst",3)),
          Effect(["Each target can charge or make a basic attack as a free action, with a +",MOD("cha")," power bonus to the damage roll."])],"warlord","attack",15),
      Power("Warlord's Gambit",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Effect(["The target gains a +2 bonus to attack rolls and damage rolls against you until the end of the encounter.  When the target attacks you, an ally of your choice within ",MOD("int")," squares can make a basic attack against the target as an immediate interrupt."])],"warlord","attack",15),
],"warlordutility16":[
      Power("Decisive Timing",["martial"],"encounter","no",
          [Trigger("You and your allies make initiative checks at the beginning of an encounter."),
           Target("you and two allies in burst or three allies in burst",("close burst",5)),
           Effect(["You swap the initiative check results of the targets.",orfeat("",["  Until the end of his or her first turn in the encounter, the target with the lowest initiative result gains a +",MOD("int")," power bonus to damage rolls."],"tactical presence")])],"warlord","utility",16),
      Power("Encouraging Remark",["martial"],"encounter","standard",
          [Target("one ally",("melee",1)),
           Effect(["The target gains ",lambda x:x.mod("cha")+10," temporary hit points.  Until the end of your next turn, the target also gains a +",MOD("cha")," power bonus to damage rolls, one defense, or saving throws."])],"warlord","utility",16),
      Power("Flanking Stance",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, any enemy adjacent to you gains combat advantage against you but grants combat advantage to your allies.",orfeat("",["  Allies gain a +",MOD("cha")," bonus to melee damage rolls against enemies adjacent to you."],"bravura presence")])],"warlord","utility",16),      
      Power("Hero's Defiance",["martial"],"daily","standard",
          [Target("you or one ally",("ranged",10)),
           Effect("The target succeeds on a saving throw")],"warlord","utility",16),
      Power("Side by Side",["martial","stance"],"daily","minor",
          [Target("one ally",("melee",1)),
           Effect("Until the stance ends, you and teh target both gain a +2 power bonus to attack rolls, AC, and Reflex when you're adjacent to each other.")],"warlord","utility",16),
      Power("Warlord's Banner",["healing","martial"],"encounter","standard",
          [Target("each ally in burst",("close burst",5)),
           Effect("Each target can spend a healing surge.  Until the end of your next turn, each target gains a +2 power bonus to attack rolls.")],"warlord","utility",16),
      Power("Warlord's Banner",["martial"],"daily","standard",
          [Target("each ally in burst",("close burst",5)),
           Effect("Each target can take a move action")],"warlord","utility",16),
      Power("Warning Shout",["martial"],"daily","immediate interrupt",
          [Trigger("An ally within 5 squares of you is hit by a ranged or an area attack."),
           Target("the triggering ally in burst",("close burst",5)),
           Effect(["The target can shift ",lambda x:x.mod("int")+1," squares."])],"warlord","utility",16),
],"warlordencounter17":[
      Power("Battle On",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Every ally within 5 squares of you makes a saving throw",orfeat(".",["with a +",MOD("cha")," bonus to the roll."],"inspiring presence")])],"warlord","attack",17),
      Power("Bloody Termination",["martial","weapon"],"encounter","standard",
          [Target("one bloodied creature"),Atk([STRMOD],"AC", damage(3, [STRMOD,CHAMOD]),["melee"]),
          Other(["",orfeat("",["If the attack's damage doesn't reduce the target to 0 hit points, make a melee basic attack against the target, with a +",MOD("cha")," bonus to the attack roll and the damage roll."],"resourceful presence")])],"warlord","attack",17),
      Power("Deadly Inspiration",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit("All allies within 5 squares of you deal 1[W] extra damage with their at-will weapon attacks that hit until the start of your next turn.")],"warlord","attack",17),
      Power("Girding Strike",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["Each ally within 10 squares of you regains the use of second wind.",orfeat("",["  Any ally who uses second wind before the end of your next turn regains ",MOD("cha")," additional hit points."],"resourceful presence")])],"warlord","attack",17),
      Power("Hail of Steel",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Every ally within 5 squares of you makes a basic attack against the target.")],"warlord","attack",17),
      Power("Into the Breach!",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit(["One ally within 5 squares of you can charge the target as a free action.",orfeat("",["  The charging ally gains a +",MOD("cha")," power bonus to the attack roll and damage roll."],"inspiring presence")]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",17),
      Power("Thunderous Fury",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is dazed until the end of your next turn."),
          Other(["",orfeat("",["Effect: Until the end of your next turn, your allies gain a +",MOD("int")," power bonus to attack rolls against the target"],"tactical presence")])],"warlord","attack",17),
      Power("Warlord's Rush",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
           Hit("Allies who have line of sight can move their speed"),
          Miss("One ally who has line of sight to you (your choice) can move his or her speed.")],"warlord","attack",17)
],"warlorddaily19":[
      Power("Beak the Tempo",["martial","weapon"],"daily","standard",
          [Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Effect(["If the target attacks before the end of your next turn, you can use an immediate interrupt to move 4 squares and make a melee basic attack against the target.  If you deal damage, the target takes a -",MOD("int")," penalty to its attack roll."]),
          Sustain("minor","The effect continues until the end of your next turn.")],"warlord","attack",19),
      Power("Exhorted Counterattack",["healing","martial"],"daily","immediate reaction",
          [Trigger("An ally within 20 squares of you is hit by an enemy"),
           Target("The triggering ally in burst",("close burst",20)),
          Effect(["The target regains hit points as if he or she had spent a healing surge ",orfeat("",["and regains ",MOD("cha")," additional hit points"],"inspiring presence"),",and then makes two basic attacks ",orfeat("",["with a +",MOD("cha")," bonus to each damage roll "],"inspiring presence"),"against the attacking enemy as an opportunity action.  If either basic attack hits, the enemy is dazed."])],"warlord","attack",19),
      Power("Inspiring Charge",["healing","martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Effect(["As a free action, each ally within 10 squares of you can shift ",MOD("cha")," squares and then spend a healing surge."]),
          Special("When charging, you can use this power in place of a melee basic attack.")],"warlord","attack",19),
      Power("Storm of Carnage",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Miss("Make a melee basic attack against the target."),
          Effect("Until the end of the encounter, each time you or an adjacent ally misses with an encounter or daily melee attack power, that character can make a melee basic attack against the same target as a free action.")],"warlord","attack",19),
      Power("Unleash Hell",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["ranged","heavy thrown"]),
           Special("The attack can score a critical hit on a roll of 18-20"),
          Effect(["Each ally within 5 squares of you can make a ranged basic attack against an enemy as a free action, with a +",MOD("cha")," power bonus to the attack and damage rolls.  Until the end of your next turn, any ranged attack made by you or your allies can score a critical hit on a natural roll of 18-20."])],"warlord","attack",19),
      Power("Victory Surge",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("Until the start of your next turn, every ally within 10 squares of you can follow up a standard action  with a basic attack made as a free action."),
          Miss("Until the start of your next turn, one ally of your choice within 10 squares of you can follow up a standard action with a basic attack made as a free action."),
          Sustain("minor","Until the start of your next turn, one ally of your choice within 10 squares of you can follow up a standard action with a basic attack made as a free action.")],"warlord","attack",19),
      Power("Windmill of Doom",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("Each ally who is adjacent to the target makes a melee basic attack against it as a free action."),
          Miss("One ally of your choice adjacent to the target makes a melee basic attack against it as a free action.")],"warlord","attack",19),
],"warlordutility22":[
      Power("Avenge Me",["healing","martial"],"daily","immediate interrupt",
          [Trigger("You are reduced to 0 hit points or fewer by an enemy"),
           Target("Each ally in burst",("close burst",10)),
           Effect(["Each target can spend a healing surge and regain ",MOD("cha")," additional hit points.  Until the end of the encounter, the targets gain a +2 power bonus to attack rolls and damage rolls."])],"warlord","utility",22),
      Power("Bloodthirsty Offensive",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, you grant combat advantage to all enemies.  In addition, you and each ally within 10 squares of you gain a +2 power bonus to attack rolls ",orfeat("",["and a +",MOD("cha")," bonus to damage rolls "],"bravura presence"),"against bloodied enemies.  Alos, each time you or an ally within 10 squares of you spends an action point to take an extra action, that character can make a basic attack as a free action before taking the extra action."])],"warlord","utility",22),
      Power("Heart of the Titan",["martial"],"daily","standard",
          [Target("you or one ally",("ranged",10)),
           Effect(["The target gains a number of temporary hit points equal to his or her healing surge value +",MOD("cha"),". Until the target loses as many temporary hit points as he or she gained from this power, the target adds ",MOD("cha")," to damage rolls and can't be dazed, immoblilized, pulled, pushed, restrained, slid, slowed, stunned, or weakened."])],"warlord","utility",22),
      Power("Heroic Surge",["healing","martial"],"daily","immediate reaction",
          [Trigger("You or an ally within 5 squares takes damage", ("close burst",5)),
          Effect(["You and each ally in the burst can spend a healing surge and regain  ",MOD("cha")," additional hit points"])],"warlord","utility",22),
      Power("Own the Battlefield",["martial"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",10)),
           Effect(["You slide each target ",MOD("int")," squares"])],"warlord","utility",22),
      Power("Quickening Order",["martial"],"daily","no",
          [Trigger("You and your allies make initiative checks at the beginning of an encounter."),
           Target("you and each ally in burst",("close burst",10)),
           Effect(["Each target gains a +",MOD("int")," bonus to the  initiative check, and during each target's first turn, he or she gains a +",MOD("int")," bonus to attack rolls and damage rolls."])],"warlord","utility",22),
      Power("Rush of Battle",["martial"],"daily","minor",
          [Target("each ally in burst",("close burst",5)),
           Effect(["Until the start of your next turn, each target can make basic attacks as minor actions.",orfeat("",["  Each target gains a +",lambda x:max(x.mod("cha"),x.mod("int"))," bonus to the basic attack rolls."],"resourceful presence")])],"warlord","utility",22),
      Power("Stirring Declaration",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, each time you hit an enemy with an attack, allies within 10 squares of you gain ",lambda x:x.mod("cha")+5," temporary hit points.  You and your allies gain a +",MOD("cha")," bonus to saving throws against fear effects.",orfeat("","  Each time you hit an enemy with an attack, one ally within 10 squares of you can make a saving throw.","inspiring presence")])],"warlord","utility",22),
],"warlordencounter23":[
      Power("Blood Begets Blood",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit(["If the target is bloodied or reduced to 0 hit points by this attack, ",orfeat("two","three","resourceful presence")," allies within 5 squares of you can each make a basic attack as a free action."])],"warlord","attack",23),
      Power("Daring Display",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(4, [STRMOD,orfeat(0,CHAMOD,"bravura presence")]),["melee"]),
          Hit("Mark and grant combat advantage to every enemy within 2 squares of you until the end of your next turn.  Each of the enemies that attacks you grants combat advantage to your allies until the end of its next turn."),
          Other(["",orfeat("","Effect: You can shift 1 square","bravura presence")])],"warlord","attack",23),
      Power("Great Dragon War Cry",["fear","martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The target is weakened until the end of your next turn."),
          Other(["",orfeat("",["Effect: Until the end of the encounter, your allies gain a +",MOD("cha")," power bonus to their attack rolls against weakened creatures."],"inspiring presence")])],"warlord","attack",23),
      Power("Pillar to Post",["martial","weapon"],"encounter","standard",
          [Target("one creature flanked by you and an ally"),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Hit("The ally can make a melee basic attack against that target as a free action.  If the ally's attack hits, you make a secondary attack against the target."),
          Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"])],"warlord","attack",23),
      Power("Quickening Force",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["Each ally wtihin 5 squares of you can make a saving throw",orfeat("",["with a +",MOD("cha")," power bonus to the roll"],"resourceful presence"),"."])],"warlord","attack",23),
      Power("Rabbits and Wolves",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("Amy two allies of your choice within 10 squares can shift their speed")],"warlord","attack",23),
      Power("Ringing Clarity",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit("The marked condition ends on any ally within 10 squares of you.  Also, each ally within 10 squares of you automatically saves against a charm or fear effect that a save can end.")],"warlord","attack",23),
      Power("Shutdown Smite",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"will", damage(3, [STRMOD]),["melee"]),
          Hit(["The target cannot recharge any of its powers or use action points until the end of your next turn.",orfeat("",["  The target also takes a -",MOD("int")," penalty to saving throws until the end of your next turn."],"tactical presence")])],"warlord","attack",23),
      Power("Sudden Assault",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(1, [STRMOD]),["melee"]),
          Hit(["An ally of your choice within 5 squares of you takes a standard action.",orfeat("",["  Your ally gains a +",MOD("int")," power bonus to attacks against targets adjacent to you on attacks made using the standard action granted by this power."],"tactical presence")])],"warlord","attack",23),
      Power("Wounding Focus",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"reflex", damage(2, [STRMOD]),["melee"]),
          Hit(["Until the start of your next turn, your allies gain combat advantage against the target and a +",MOD("int")," power bonus to damage rolls against it."])],"warlord","attack",23),
],"warlorddaily25":[
      Power("Precision Stance",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, when an ally within 5 squares of you misses with an attack, you can take an immediate interrupt to allow the ally to reroll the attack roll with a +",MOD("int")," bonus."])],"warlord","attack",25),
      Power("Primordial Onslaught",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst",("close burst",1)),Atk([STRMOD],"will", damage(4, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, each time you or an ally attacks any target of this power, you can slide the target 1 square after resolving the attack.")],"warlord","attack",25),
     Power("Relentless Assault",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(5, [STRMOD]),["melee"]),
          Effect("Until the end of the encounter, when you or an ally scores a critical hit, you and each ally can make a basic attack as an opportunity action.")],"warlord","attack",25),
     Power("Sleeping Dragon Lure",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Effect("You grant combat advantage to enemies that make melee attacks against you until the start of your next turn.  If an enemy hits you with a melee attack whil ehtis effect lasts, you can make a secondary attack against the attacker as an immediate interrupt.  You can shift 1 square closer to the secondary target before making the secondary attack.  If no enemy attacks you in melee before the start of your next turn, you regain the use of this power."),
          Target("the attacking creature"),Atk([STRMOD,orfeat(0,CHAMOD,"bravura presence")],"AC", damage(4, [STRMOD,orfeat(0,CHAMOD,"bravura presence")]),["melee"]),],"warlord","attack",25),
      Power("Stir the Hornet's Nest",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["ranged"],["heavy thrown"]),
          Hit(["Until the end of the encounter, your allies add ",MOD("int")," to attack rolls and damage rolls when making ranged attacks against the target."]),
          Miss(["Each ally makes a ranged basic attack against the target as a free action, gaining a +",MOD("int")," bonus to the attack roll and the damage roll"])],"warlord","attack",25),
     Power("Victorious Destiny",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Hit("Allies gain a +2 bonus to attack rolls until the end of the encounter.")],"warlord","attack",25),
     Power("Warlord's Resurgence",["martial"],"daily","standard",
          [Target("one ally in burst"),
          Effect("As a free action, the target can make an attack using an encounter attack power that he or she has already used during this encounter, and the target gains a +2 bonus to the attack roll.  Also, if you have used all your encounter attack powers, you regain the use of a warlord encounter attack power you have used during this encounter.")],"warlord","attack",25),
     Power("Wave of Defeat",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"fortitude", damage(4, [STRMOD]),["melee"]),
           Hit("You push the target 2 squares."),
           Miss("Half damage, and no push."),
          Effect("Each ally within 5 squares of you can make a melee basic attack as a free action.  On a hit, the ally can push his or her target 1 square.")],"warlord","attack",25),
      Power("White Raven's Call",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Hit("You and all of your allies within 10 squares of you makes saving throws against any single effect that a save can end."),
          Miss("Each of your allies within 10 squares of you makes a saving throw against any effect the target caused and that a save can end.")],"warlord","attack",25),
],"warlordencounter27":[
      Power("Abrupt Skirmish",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",2)),Effect("You pull each target 1 square to a space adjacent to you.  You can't pull a target that can't end adjacent to you.  You then attack one of the targets."),
           Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
           Hit(["Each enemy adjacent to you can make a melee basic attack against you as a free action, but each of your allies can make a basic attack ",orfeat("",["with a +",MOD("cha")," power bonus to the attack roll and damage roll "],"bravura presence"),"against the enemy as an opportunity action triggered by the enemy's attack."])],"warlord","attack",27),
      Power("Brutal Setup",["martial","weapon"],"encounter","standard",
          [Effect("Before the attack, you can shift 3 squares"),
           Target("one or two creatures, one attack per target"),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
           Hit(["The target is dazed until the end of your next turn.",orfeat("",["  Until the end of the encounter, your allies gain a +",MOD("int")," power bonus to attack rolls against dazed enemies."],"tactical presence")])],"warlord","attack",27),
      Power("Chimera Battlestrike",["martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"reflex", damage(3, [STRMOD]),["melee"]),
           Hit(["You slide the target ",orfeat(2,lambda x:1+x.mod("int"),"tactical presence")," squares."])],"warlord","attack",27),
      Power("Devastating Charge",["martial","weapon"],"encounter","standard",
          [Special("You must charge as part of this attack"),
           Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["Until the end of your next turn, any ally who has line of sight you you gains a +",MOD("cha")," bonus to damage rolls when he or she makes a melee basic attack as part of a charge."])],"warlord","attack",27),
      Power("Eye of the Storm",["healing","martial","weapon"],"encounter","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(2, [STRMOD]),["melee"]),
          Hit("You mark the target until the end of your next turn."),
          Effect(["Until the end of your next turn, any of your allies who hit enemies marked by this power can use a free action either to make a saving throw ",orfeat("",["with a +",MOD("int")," power bonus to the roll,"],"resourceful presence")," or to spend a healing surge",orfeat(".",[" and regain ",MOD("cha")," additional hit points."],"resourceful presence")])],"warlord","attack",27),
      Power("Incite Heroism",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["Each ally in your line of sight gains ",orfeat(20,lambda x:20+x.mod("int"),"inspiring presence")," temporary hit points"])],"warlord","attack",27),
      Power("Uplifting Assault",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Hit(["You gain an additional use of Inspiring Word for this encounter.",orfeat("","  Until the start of your next turn, you can use Inspiring Word as an immediate reaction triggered by an ally taking damage.","inspiring presence")])],"warlord","attack",27),
      Power("Warlord's Doom",["martial","weapon"],"encounter","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(4, [STRMOD]),["melee"]),
          Effect("You can choose an effect currently on the target.  The target fails its next saving throw against that effect.")],"warlord","attack",27),
      Power("Warlord's Indignation",["martial","weapon"],"encounter","immediate reaction",
          [Trigger("An enemy hits you with a melee attack"),
           Target("the triggering enemy"),Atk([STRMOD],"fortitude", damage(2, [STRMOD]),["melee"]),
          Hit(["You knock the target prone.  Each of your allies can then make a basic attack against the target as an opportunity action."])],"warlord","attack",27),
],"warlorddaily29":[
      Power("Deific Rallying",["martial","weapon"],"daily","standard",
          [Target("each ally in burst",("close burst",20)),
          Effect(["Each target gains ",orfeat(20,lambda x:20+x.mod("cha"),"inspiring presence")," temporary hit points and can make a basic attack ",orfeat("",["with a +",MOD("cha")," bonus to the damage roll "],"inspiring presence"),"as a free action."])],"warlord","attack",29),
      Power("Defy Death",["healing","martial","weapon"],"daily","immediate interrupt",
          [Trigger("A creature attacks your ally"),
           Special("As part of this action, you can move twice your speed to reach the target without provoking opportunity attacks"),
          Target("the attacking creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Hit("The target's attack misses"),
          Miss("Half damage, and the target's attackj deals half damage if it hits"),
          Effect("As an immediate reaction, the attacked ally can spend a healing surge.")],"warlord","attack",29),
      Power("Flawless Snare",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(6, [STRMOD]),["melee"]),
          Effect(["You mark the target and grant combat advantage to it until the end of your next turn.  Whenever the target attacks you before the end of your next turn, each ally within 10 squares of you can make a basic attack ",orfeat("",["with a +",MOD("cha")," bonus to the attack roll and the damage roll "],"bravura presence"),"against it as an opportunity action triggered by its attack."]),
          Special("When charging, you can use this pwoer in place of a melee basic attack.")],"warlord","attack",29),
      Power("Inexorable Surge",["martial","reliable","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD,2],"AC", damage(6, [STRMOD]),["melee"]),
            Hit(["Until the end of the encounter, your allies gain a +",MOD("cha")," bonus to damage rolls against the target.  When the target is reduced to 0 hit points, choose another enemy within 5 squares of it, and your allies gain the bonus to damage rolls against that enemy.  Each time the chose enemy is reduced to 0 hit points, choose a different enemy within 5 squares of it."])],"warlord","attack",29),
      Power("Perfect Front",["martial","stance"],"daily","minor",
          [Effect(["Until the stance ends, as long as you are ",orfeat("adjacent to","within 2 squares of","tactical presence")," an ally, roll twice each time you make an attack roll and use the higher result.  Any ally ",orfeat("adjacent to","within 2 squares of","tactical presence")," you gains the same benefit."])],"warlord","attack",29),
      Power("Stand Invincible",["martial","weapon"],"daily","standard",
          [Target("one creature"),Atk([STRMOD],"AC", damage(7, [STRMOD]),["melee"]),
          Effect("You and each ally within 5 squares of you gain a +4 power bonus to all defenses and resist 5 to all damage until the end of your next turn"),
          Sustain("minor","The effect continues")],"warlord","attack",29),
      Power("Wake of Devastation",["martial","weapon"],"daily","standard",
          [Target("each enemy in burst you can see",("close burst",1)),Atk([STRMOD],"AC", damage(3, [STRMOD]),["melee"]),
          Effect("Each target takes ongoing 15 damage (save ends).  Each target taking ongoing damage grants combat advantage to you and your allies."),
          Other(["",orfeat("","Special:  You can reduce the damage to 1[W] to add 15 to the ongoing damage, or you can increase the damage to 5[W] by forgoing the ongoing damage.","resourceful presence")])],"warlord","attack",29),
]}
    addPowers(warlordList)

def wizard():
    wizardList={"wizardat-will1":[
    Power("Cloud of Daggers",["arcane","force","implement"],"at-will","standard",
          [Target("Each creature in square",("Area",1,10)),Atk([INTMOD],"reflex", damage([raising(1,20),6],[INTMOD])),
          Effect(["The power's area is filled with sharp daggers of force.  Any creature that enters the area or starts its turn there takes ",lambda x:max(1,x.mod("wis"))," damage.  The cloud remains in place until the end of your next turn.  You can dispel it earlier as a minor action"])],"wizard","at-will",1),

     Power("Illusory Ambush",["arcane","illusion","implement","psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"will", damage([raising(1,20),6],[INTMOD])),
          Hit("The target takes a -2 penalty to attack rolls until the end of your next turn.")],"wizard","at-will",1),

     Power("Magic Missile",["arcane","force","implement"],"at-will","standard",
          [Target("one creature",("ranged",20)),
           Effect(["",lambda x:x.mod("int")+raiselist(1,[1,11,21,21])(x)," force damage."]),
           Special("If the implement used with this power has an enhancement bonus, add that bonus to the damage.  In addition, you can use this power as a ranged basic attack.")],"wizard","at-will",1),

     Power("Phantom Bolt",["arcane","illusion","implement","psychic"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"will", damage([raising(1,20),8],[INTMOD])),
          Hit("Slide the target 1 square")],"wizard","at-will",1),

     Power("Ray of Frost",["arcane","cold","implement"],"at-will","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"fortitude", damage([raising(1,20),6],[INTMOD])),
          Hit("The target is slowed until your next turn")],"wizard","at-will",1),

     Power("Scorching Burst",["arcane","fire","implement"],"at-will","standard",
          [Target("Each creature in burst",("area burst",1,10)),Atk([INTMOD],"reflex", damage([raising(1,20),6],[INTMOD]))],"wizard","at-will",1),

     Power("Storm Pillar",["arcane","conjuration","implement","lightning"],"at-will","standard",
          [Target("one creature",("ranged",10)),
           Effect(["You conjure a pillar of crackling energy in an unoccupied square within range.  The pillar occupies 1 square and lasts until the end of your next turn.  Each enemy that moves into a square adjacent to the pillar takes ",dmg(INTMOD,raising(1,20),6)])],"wizard","at-will",1),

     Power("Thunderwave",["arcane","implement","thunder"],"at-will","standard",
          [Target("Each creature in blast",("close blast",3)),Atk([INTMOD],"fortitude", damage([raising(1,20),6],[INTMOD])),
          Hit(["Push the target ",MOD("wis")," square(s)"])],"wizard","at-will",1)
],"wizardencounter1":[
     Power("Burning Hands",["arcane","fire","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",5)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD]))],"wizard","attack",1),
     Power("Chill Strike",["arcane","cold","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"fortitude", damage([2,8],[INTMOD]))
          ,Hit("The target is dazed until the end of your next turn")],"wizard","attack",1),
     Power("Force Orb",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"reflex", damage([2,8],[INTMOD])),
          Hit("Make a secondary attack"),
          Target("Each enemy adjacent to the primary target"),Atk([INTMOD],"reflex", damage([1,10],[INTMOD]))],"wizard","attack",1),
    Power("Icy Terrain",["arcane","cold","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",1,10)),Atk([INTMOD],"reflex", damage([1,6],[INTMOD]))
          ,Hit("The target is knocked prone.")
          ,Effect("The power's area is difficult terrain until the end of your next turn.  You can end this effect as a minor action")],"wizard","attack",1),
     Power("Ray of Enfeeblement",["arcane","implement","necrotic"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"fortitude", damage([1,10],[INTMOD])),
          Hit("The target is weakened until the end of your next turn")],"wizard","attack",1)
],"wizarddaily1":[
     Power("Acid Arrow",["acid","arcane","implement"],"daily","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"reflex", damage([2,8],[INTMOD])),
          Hit("Target takes ongoing 5 acid damage (save ends).  Make a secondary attack."),
          Target("Each enemy adjacent to the primary target"),Atk([INTMOD],"reflex", damage([1,8],[INTMOD])),
          Hit("Target takes ongoing 5 acid damage (save ends)."),
          Miss("Half damage, and ongoing 2 acid damage to primary target (save ends), and no secondary attack")],"wizard","attack",1),
     Power("Flaming Sphere",["arcane","fire","implement"],"daily","standard",
          [Effect(["You conjure a Medium flaming sphere that occupies a square within range, and the sphere attacks.  Any creature that starts its turn adjacent to the flaming sphere takes ",dmg(INTMOD,1,4),".  As a move action, you can move the sphere 6 squares"]),
           Target("one creature adjacent to the flaming sphere",("ranged",10)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD])),
          Sustain("minor","You can sustain this power until the end of the encounter.  As a standard action, you can make another attack with the sphere")],"wizard","attack",1),
     Power("Freezing Cloud",["arcane","cold","implement"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,10)),Atk([INTMOD],"fortitude", damage([1,8],[INTMOD])),
          Miss(),
          Effect("The cloud lasts until the end of your next turn.  Any creature that enters the cloud or starts its turn there is subject to another attack.  You can dismiss the cloud as a minor action.")],"wizard","attack",1),
      Power("Sleep",["arcane","implement","sleep"],"daily","standard",
          [Target("Each creature in burst",("Area burst",2,20)),Atk([INTMOD],"will", None),
          Hit("The target is slowed (save ends).  If the target fails its first saving throw against this power, the target becomes unconcious (save ends)"),
          Miss("The target is slowed (save ends).")],"wizard","attack",1)
],"wizardutility2":[
      Power("Expeditious Retreat",["arcane"],"daily","move",
          [Effect("Shift up to twice your speed")],"wizard","utility2"),
      Power("Feather Fall",["arcane"],"daily","free action",
          [Trigger("You or one creature in range falls", ("ranged",10)),
          Effect(["You or the creature takes no damage from the fall, regardless of its distance., and does not fall prone at the end of the fall."])],"wizard","utility2"),
      Power("Jump",["arcane"],"encounter","move",
          [Target("you or one creature",("ranged",10)),
           Effect("The target makes an Athletics check as a free action to jump with a +10 power bonus. The target can move as many squares as the check allows and is considered to have a running start.")],"wizard","utility2"),
      Power("Shield",["arcane","force"],"encounter","immediate interrupt",
          [Trigger("You are hit by an attack"),
          Effect("You gain a +4 power bonus to AC and Reflex defense until the end of your next turn")],"wizard","utility2")
],"wizardencounter3":[
     Power("Color Spray",["arcane","implement","radiant"],"encounter","standard",
          [Target("Each creature in blast",("close blast",5)),Atk([INTMOD],"will", damage([1,6],[INTMOD])),
          Hit("The target is dazed until the end of your next turn.")],"wizard","attack",3),
     Power("Fire Shroud",["arcane","fire","implement"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",3)),Atk([INTMOD],"fortitude", damage([1,8],[INTMOD]))
          ,Hit("Ongoing 5 fire damage (save ends)")],"wizard","attack",3),
     Power("Icy Rays",["arcane","cold","implement"],"encounter","standard",
          [Target("One or two creatures",("ranged",10)),Atk([INTMOD],"reflex", damage([1,10],[INTMOD])),
          Hit("The target is immobilized until the end of your next turn.")],"wizard","attack",3),
     Power("Shock Sphere",["arcane","implement","lightning"],"encounter","standard",
          [Target("Each creature in burst",("area burst",2,10)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD]))],"wizard","attack",3),
],"wizarddaily5":[
     Power("Bigby's Icy Grasp",["arcane","cold","conjuration","implement"],"daily","standard",
          [Effect("You conjure a 5-foot tall hand of ice in an unoccupied square within range, and the hand attacks.  As a move action, you can move the hand up to 6 squares.",("ranged",20)),
          Target("one creature"),Atk([INTMOD],"reflex", damage([2,8],[INTMOD])),
          Hit("The hand grabs the target.  If the target tries to escape, the hand uses your Fortitude or Reflex defense."),
          Sustain("minor",["A target grabbed by the hand takes 1d8+",lambda x:x.mod("int")," cold damage when you sustain this power.  As a standard action, you can attack another target with the hand, but it must release a target it has grabbed."])],"wizard","attack",5),
     Power("Fireball",["arcane","fire","implement"],"daily","standard",
          [Target("Each creature in burst",("area burst",3,20)),Atk([INTMOD],"reflex", damage([3,6],[INTMOD])),
          Miss("Half damage.")],"wizard","attack",5),
     Power("Stinking Cloud",["arcane","implement","poison","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),Atk([INTMOD],"fortitude", damage([1,8],[INTMOD])),
          Effect(["The burst creates a zone of poisonous vapor that blocks line of sight until the end of your next turn.  Creatures that enter the zone or start their turns there take 1d10+",lambda x:x.mod("int")," poison damage.  As a move action, you can move the zone up to 6 squares."]),
          Sustain()],"wizard","attack",5),
      Power("Web",["arcane","implement","sleep"],"daily","standard",
          [Target("Each creature in burst",("area burst",2,20)),Atk([INTMOD],"reflex", None),
          Hit("The target is immobilized (safe ends)."),
          Effect("The burst creates a zone of webs that fills the area until the end of the encounter or for 5 minutes.  The zone is considered difficult terrain.  Any creature that ends its move in the web is immobilized (save ends).")],"wizard","attack",5)
],"wizardutility6":[
      Power("Dimension Door",["arcane","teleportation"],"daily","move",
          [Effect("Teleport 10 squares.  You can't take other creatures with you.")],"wizard","utility",6),
      Power("Disguise Self",["arcane","illusion"],"daily","minor",
          [Effect("You make yourself, your cloting, and your equipment look different.  You can take on the appearance of any creature of similar build and size, including a specific individual whom you've seen.  You gain neither the abilities or mannerisms of the chosen form, nor the tactile or audiable properties of your form or gear.  For example, if you took on the illusion of a dwarf fighter in plate armor, anyone touching you would realize you weren't wearing plate armor, and you would not clank, creak, or jingle as you walked.  The illusion lasts for 1 hour, although you can end it as a minor action.  You must keep the same appearance for the entire duration.  Anyone who attempts to see through your ruse makes an Insight check opposed by your Bluff check, and you gain a +5 power bonus to your check.")],"wizard","utility",6),
      Power("Dispel Magic",["arcane","implement"],"daily","encounter",
          [Effect("Make an attack against the creator of the conjuration or the zone."),
          Target("one conjuration or zone",("ranged",10)),Atk([INTMOD],"will", None),
          Hit("The conjuration or the zone is destroyed.  All its effects end, including those that normally last until a target saves.")],"wizard","utility",6),
      Power("Invisibility",["arcane","illusion"],"daily","standard",
          [Target("you or one creature",("ranged",5)),
           Effect("The target is invisible until the end of your next turn.  If the target attacks, the target becomes invisibile."),
          Sustain("standard","If the target is within range, you can sustain the effect.")],"wizard","utility",6),
      Power("Levitate",["arcane"],"daily","move",
          [Effect("You can move 4 squares vertically and remain there, hovering above the ground.  While aloft, you are unsteady, taking a -2 penalty to AC and Reflex defense.  If some effect, such as a pit opening below you, causes you to be more than 4 squares above the ground, you drop down to 4 squares above the ground.  You do not take damage from such a fall."),
          Sustain("move","You can sustain this power until the end of the encounter or for 5 minutes.  When you sustain this power, you can move 3 squares up or down 1 square horizontally.  You cannot go higher than 4 squares above the ground.  If you don't sustain this power, you descend to the ground without taking falling damage.")],"wizard","utility",6),
      Power("Wall of Fog",["arcane","conjuration"],"daily","standard",
          [Effect("You conjure a wall that consists of contiguous squares filled with arcane fog.  The wall lasts until the end of your next turn.  It can be up to 8 squares long and up to 4 squares high.  The fog's area is heavily obscured and blocks line of sight.",("area wall",8,10)),
          Sustain("minor","The wall persists.")],"wizard","utility",6)
],"wizardencounter7":[
     Power("Fire Burst",["arcane","fire","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([INTMOD],"reflex", damage([3,6],[INTMOD]))],"wizard","attack",7),
     Power("Lightning Bolt",["arcane","implement","lightning"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"reflex", damage([2,6],[INTMOD])),
          Target("two creatures within 10 squares of primary target"),Atk([INTMOD],"reflex", damage([1,6],[INTMOD]))],"wizard","attack",7),
     Power("Spectral Ram",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"fortitude", damage([2,10],[INTMOD])),
          Hit("You push the target 3 squares and it is knocked prone.")],"wizard","attack",7),
     Power("Winter's Wrath",["arcane","cold","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",2,10)),Atk([INTMOD],"fortitude", damage([2,8],[INTMOD])),
          Effect(["A blizzard erupts in the designated area and continutes until the end of your next turn.  It grants concealment, and any creature that starts its turn in the storm takes ",lambda x:x.mod("int")," cold damage.  You can end this effect as a minor action."])],"wizard","attack",7),
],"wizarddaily9":[
     Power("Ice Storm",["arcane","cold","implement","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",3,20)),Atk([INTMOD],"fortitude", damage([2,8],[INTMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is slowed (save ends)."),
          Effect("The burst creates a zone of ice.  The zone is difficult terrain until the end of the encounter or for 5 minutes.")],"wizard","attack",9),
     Power("Lightning Serpent",["arcane","implement","lightning","poison"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"reflex", damage([2,12],[INTMOD])),
          Hit("The target takes ongoing 5 poison damage and is slowed (save ends both)"),
          Miss("Half damage, and the target is slowed (save ends).")],"wizard","attack",9),
     Power("Mordenkainen's Sword",["arcane","conjuration","force","implement"],"daily","standard",
          [Effect("You conjure a sword of force in an unoccupied square within range, and it attacks.  As a move action, you can move the sword to a new target within range.  The sword lasts until the end of your next turn.",("ranged",10)),
          Target("one creature adjacent to the sword",("ranged",10)),Atk([INTMOD],"reflex", damage([1,10],[INTMOD])),
          Sustain("minor","When you sustain the sword, it attacks again.")],"wizard","attack",9),
     Power("Wall of Fire",["arcane","conjuration","fire","implement"],"daily","standard",
          [Effect(["You conjure a wall that consists of contiguous squares filled with arcane fire.  It can be up to 8 squares long and up to 4 squares high.  The wall lasts until the end of your next turn.  Any creature that starts its turn adjacent to the wall takes ",dmg(INTMOD,1,6),".  If a creature moves into the wall's space or starts its turn there, the creature takes ",dmg(INTMOD,3,6),".  Entering a square occupied by the wall costs 3 extra squares of movement.  The wall blocks line of sight."],("area wall",8,10)),
          Sustain("minor","The wall persists.")],"wizard","attack",9)
],"wizardutility10":[
      Power("Arcane Gate",["arcane","teleportation"],"daily","minor",
          [Target("two unoccupied squares",("ranged",20)),
           Effect("You create a dimensional rift between the two target squares that lasts until the end of your next turn.  Any creature that enters one of the target squares can move to the other target square as if it were adjacent to that square.  A creature cannot pass through the rift if either square is occupied by another creature.")],"wizard","utility",10),
      Power("Blur",["arcane","illusion"],"daily","minor",
          [Effect("Until the end of the encounter, you gain a +2 power bonus to all defenses, and enemies 5 or more squares away from you cannot  see you.")],"wizard","utility",10),
      Power("Mirror Image",["arcane","illusion"],"daily","minor",
          [Effect("Three duplicate images of yourself appear in your space, and you gain a +6 power bonus to AC.  Each time an attack misses you, one of your duplicate images dissapears and the bonus granted by this power decreases by 2.  When the bonus reaches 0, all your images are gone and this power ends.  Otherwise, this effect lasts 1 hour.")],"wizard","utility",10),
      Power("Resistance",["arcane"],"daily","minor",
          [Target("you or one creature",("ranged",10)),
           Effect(["Against a particular damage type chosen by you, the target gains ",lambda x:x.mod("int")+x.mod("level")," resistance until the end of the encounter or for 5 minutes.  Choose the damage type from the following list: acid, cold, fire, force, lightning, necrotic, poison, psychic, radiant, or thunder."])],"wizard","utility",10)
],"wizardencounter13":[
     Power("Frostburn",["arcane","cold","fire","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",2,20)),Atk([INTMOD],"fortitude", damage([3,6],[INTMOD])),
          Effect("This power's area is difficult terrain until the end of your next turn.  Any creature that starts its turn in the area takes 5 cold and fire damage.  You can dismiss the effect as a minor action.")],"wizard","attack",13),
     Power("Mesmeric Hold",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("one, two, or three creatures",("ranged",10)),Atk([INTMOD],"will", damage([2,6],[INTMOD]))
           ,Special("If you target only one creature with this power, you gain a +4 power bonus on the attack roll")
          ,Hit("The target is immobilized until the end of your next turn.")],"wizard","attack",13),
     Power("Prismatic Burst",["arcane","implement","radiant"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,10)),Atk([INTMOD],"will", damage([3,6],[INTMOD])),
          Hit("The target is blinded until the end of your next turn.")],"wizard","attack",13),
     Power("Thunderlance",["arcane","implement","thunder"],"encounter","standard",
          [Target("each creature in blast",("close blast",5)),Atk([INTMOD],"reflex", damage([4,6],[INTMOD]))
           ,Hit("You push the target 4 squares")],"wizard","attack",13),
],"wizarddaily15":[
     Power("Bigby's Grasping Hands",["arcane","conjuration","force","implement"],"daily","standard",
          [Effect("You conjure two 5-foot-tall hands of force, each one occupying 1 square within range.  Each hand attacks one adjacent creature.  A hand that is not grabbing a target can be moved and made to attack a new target within range as a move action.  The hands last until the end of your next turn.",("ranged",20)),
          Target("one or two creatures"),Atk([INTMOD],"reflex", damage([2,10],[INTMOD])),
          Hit("The hand grabs the target.  If the target tries to escape, the hand uses your Fortitude or Reflex defense."),
          Special("If the hands have each grabbed an enemy, you can slam the enemies into each other as a standard action, dealing damage as above to each grabbed target.  After the attack each hand returns to its original square, with its grabbed target."),
          Sustain("minor",["The hands persist"])],"wizard","attack",15),
     Power("Blast of Cold",["arcane","cold","implement"],"daily","standard",
          [Target("Each enemy in blast",("close blast",5)),Atk([INTMOD],"reflex", damage([6,6],[INTMOD])),
           Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is slowed (save ends).")],"wizard","attack",15),
     Power("Otiluke's Resilient Sphere",["arcane","conjuration","force","implement"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"reflex", None),
          Hit("You conjure a sphere of force that fills the target's entire space until the end of your next turn.  The target is immobilized and can't attack anything outside its own space.  Creatures outside the sphere can't attack the target, and the sphere blocks objects and creatures attempting to pass through it."),
          Line("","The Sphere, though impenetrable, is not impervious to damage.  Attacks against the sphere automatically hit, and it has 100 hit points."),
          Sustain(),
          Miss("The target is immobilized (save ends)"),
          Special("Instead of attacking an enemy, you can put the sphere around yourself or a willing ally within range without making an attack roll.")],"wizard","attack",15),
     Power("Prismatic Beams",["arcane","fire","implement","poison"],"daily","standard",
          [Target("Each creature in burst",("close burst",5)),Atk([INTMOD],"Fortitude, Reflex, Will", damage([2,6],[INTMOD])),
          Other("","Hit (Fortitude): If the attack hits the target's Fortitude defense, the target takes poison damage (as above), and ongoing 5 poison damage (save ends)."),
          Other("","Hit (Reflex): If the attack hits the target's Reflex defense, the target takes fire damage (as above), and ongoing 5 fire damage (save ends)."),
          Other("","Hit (Will): If the attack hits the target's Will defense, the target is dazed (save ends)."),
          Special("You make only one attack per target, but compare that attack result against all three defenses.  A target might be subject to any, all, or none of the effects depending on how many of its defenses were hit.  The target must make a saving throw against each ongoing effect seperately.")],"wizard","attack",15),
     Power("Wall of Ice",["arcane","cold","conjuration","implement"],"daily","standard",
          [Effect("You conjure a solid wall of contiguous squares filled with arcane ice.  The wall can be up to 12 squares long and up to 6 squares high.",("area wall",12,10)),
           Line(["Any creature that starts its turn adjacent to the wall takes ",dmg(INTMOD,2,6),".  The wall blocks line of sight and prevents movement.  No creature can enter a square containing a wall."]),
          Special(["A creature can attack the wall.  Each square has 50 hit points.  Any creature that makes a melee attack against the wall takes ",dmg(0,2,6),".  The wall has vulnerability 25 to fire.  If the wall is not destroyed, it melts away after 1 hour."])],"wizard","attack",15)
],"wizardutility16":[
      Power("Displacement",["arcane","illusion"],"encounter","immediate interrupt",
          [Trigger("A ranged or melee attack hits you ore one ally in range",("ranged",5)),
           Effect("The attacker must reroll the attack roll")],"wizard","utility",16),
      Power("Fly",["arcane"],"daily","standard",
          [Effect("You gain a fly speed of 8 until the end of your next turn"),
           Sustain("minor","You can sustain this power until the end of the encounter or for 5 minutes.  If you don't sustain it, you float to the ground without taking falling damage.")],"wizard","utility",16),
      Power("Greater Invisibility",["arcane","illusion"],"daily","standard",
          [Target("you or one creature",("ranged",5)),
           Effect("The target is invisible until the end of your next turn.  If the target attacks, the power ends."),
          Sustain("minor","If thet target is within range, you can sustain the effect.")],"wizard","utility",16),
      Power("Stoneskin",["arcane"],"daily","standard",
          [Target("you or one ally",("melee","touch")),
           Effect("The target gains resist 10 to all damage until the end of the encounter or for 5 minutes"),
          Sustain("standard","If the target is within range, you can sustain the effect.")],"wizard","utility",16)
],"wizardencounter17":[
     Power("Combust",["arcane","fire","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([INTMOD],"reflex", damage([5,6],[INTMOD]))],"wizard","attack",17),
     Power("Crushing Titan's Fist",["arcane","force","implement"],"encounter","standard",
          [Target("each creature in burst",("area burst",2,20)),Atk([INTMOD],"reflex", damage([3,8],[INTMOD])),
          Hit("The target is immobilized until the end of your next turn"),
          Effect("Entering a square within this power's area costs 4 extra squares of movement.  This effect ends at the end of your next turn, and you can dismiss it as a minor action.")],"wizard","attack",17),
     Power("Force Volley",["arcane","force","implement"],"encounter","standard",
          [Target("one, two, or three creature, one attack per target",("ranged",20)),Atk([INTMOD],"reflex", damage([3,6],[INTMOD])),
           Special("If you target only one creature with this pwoer, you gain a +4 power bonus to the attack roll."),
          Hit("The target is dazed until the end of your next turn")],"wizard","attack",17),
     Power("Ice Tomb",["arcane","cold","implement"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"reflex", damage([3,10],[INTMOD])),
          Hit("The target is entombed in ice.  While entombed, the target is stunned, and attacks cannot gain line of effect against it.  This effect lasts until the end of your next turn.")],"wizard","attack",17),
],"wizarddaily19":[
     Power("Acid Wave",["acid","arcane","implement"],"daily","standard",
          [Target("each creature in blast",("close blast",5)),Atk([INTMOD],"reflex", damage([5,6],[INTMOD])),
          Hit("Ongoing 10 acid damage (save ends)."),
          Miss("Half damage, and ongoing 5 acid damage (save ends).")],"wizard","attack",19),
     Power("Cloudkill",["arcane","implement","poison","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",5,20)),Atk([INTMOD],"fortitude", damage([1,10],[INTMOD])),
          Effect("The burst creates a zone of poisonous vapors that lasts until the end of your next turn.  A creature that enters the zone or starts its turn there takes damage from the attack as above.  As a move action, you can move the zone 3 squares."),
          Sustain()],"wizard","attack",19),
     Power("Disintegrate",["arcane","implement"],"daily","standard",
          [Target("one creature or object",("ranged",10)),Atk([INTMOD],"reflex", damage([5,10],[INTMOD])),
          Hit("Ongoing 10 damage (save ends).  If the target saves, it takes ongoing 5 damage (save ends)."),
          Miss("3d10 instead of 5d10 damage, and ongoing 5 damage (save ends).")],"wizard","attack",19),
     Power("Evard's Black Tentacles",["arcane","implement","necrotic","zone"],"daily","standard",
          [Target("each creature in burst",("area burst",4,10)),Atk([INTMOD],"reflex", damage([2,10],[INTMOD])),
           Hit("The target is immobilized (save ends)."),
           Effect("The burst creates a zone of difficult terrain that lasts until the end of your next turn."),
          Sustain("minor","When you sustain the power, repeat the attack against any creature within the zone that is not immobilized, and deal 1d10 necrotic damage to creatures that are immobilized.")],"wizard","attack",19)
],"wizardutility22":[
      Power("Mass Fly",["arcane"],"daily","standard",
          [Target("you and each ally in burst",("close burst",5)),
           Effect("All targets gain a speed of fly 8 until the end of your next turn"),
           Sustain("minor","You can sustain this pwoer until the end of the encounter or for 5 minutes.  If you don't sustain this power, all targets float to the ground without taking falling damage.")],"wizard","utility",22),
      Power("Mordenkainen's Mansion",["arcane","conjuration","teleportation"],"daily","standard",
          [Effect("You conjure a spacious extradimensional dwelling that can hold up to fifty Medium creatures.  It is reached through a single doorway that you trace on a surface or in the air.  Only you and those you designate can pass through it.  You can close the entrance and make it invisible after you enter the mansion, and only someone inside the mansion can open the portal once it's closed.  The mansion contains comfortable furnishings and enough food and drink to satisfy its denizens.  The furniture and food disappear if removed fromt he mansion.  The mansion lasts for 8 hours, and any creatures reappear in unoccupied squares outsied the entrance portal.")],"wizard","utility",22),
      Power("Time Stop",["arcane"],"daily","minor",
          [Effect("You gain two extra standard actions, which you can't use to attack other creatures.")],"wizard","utility",22)
],"wizardencounter23":[
     Power("Acid Storm",["acid","arcane","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",4,10)),Atk([INTMOD],"fortitude", damage([4,6],[INTMOD])),
          Effect("The cloud blocks line of sight, providing total concealment to creatures inside it.  Any creature that enters the cloud or starts its turn there takes 10 acid damage.  The cloud lasts until the end of your next turn, or you can dismiss it as a minor action.")],"wizard","attack",23),
     Power("Chain Lightning",["arcane","implement","lightning"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"reflex", damage([4,6],[INTMOD])),
           Target("two creatues within 5 squares of the primary target"),Atk([INTMOD],"reflex", damage([2,6],[INTMOD])),
           Target("all other enemies within 20 squares of you"),Atk([INTMOD],"reflex", damage([1,6],[INTMOD]))],"wizard","attack",23),
     Power("Thunderclap",["arcane","implement","thunder"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"fortitude", damage([3,6],[INTMOD])),
          Hit("The target is stunned until the end of your next turn.")],"wizard","attack",23),
],"wizarddaily25":[
     Power("Elemental Maw",["arcane","implement","teleporation",";","acid","cold","fire","lightning","or","thunder"],"daily","standard",
          [Target("each creature in burst"),Atk([INTMOD],"reflex", damage([6,6],[INTMOD])),
          Hit("Choose damage type from the following list: acid, cold, fire, lightning, or thunder.  In addition, the target is pulled 2 squares toward the maw's origin square."),
          Miss("Half damage and no pull."),
          Effect(["This attack's origin square becomes a vortex of energy.  The burst creates an area of difficult terrain,  The effect remains until the end of your next turn.  Any creature that is pulled into the vortex takes ",dmg(INTMOD,3,6)," of a type chosen from the following list: acid, cold, fire, lightning, or thunder.  In addition, you teleport that creature to a square within 20 squares of you.  The creature arrives at its destiantion prone and dazed until the start of your next turn."])],"wizard","attack",25),
     Power("Maze",["arcane","implement","psychic","teleportation"],"daily","standard",
          [Target("one creature",("ranged",10)),Atk([INTMOD],"will", damage([3,12],[INTMOD])),
          Effect("You trap the target in an extradimensional maze.  While caught in th emaze, the target cannot see, move, or affect the world outside in any way.  Similarly, no one can see or attack the creature in the maze.  The maze remains visible as a faintly glowing sigil or rune in the square the trapped creature occupied; it is harmless to all other beings, and creatures can move through or attack through that square without penalty.  On its turn each round, the creature can attempt an Intelligene check against your Will defense to escape as a standard action.  The target gains a cumulative +5 bonus to this check each time it fails.  Upon leaving the maze, the creature returns to the space it occupied (or, if occupied, the nearest available unoccupied space of its choice), and the maze ends.")],"wizard","attack",25),
     Power("Necrotic Web",["arcane","implement","necrotic","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",3,20)),Atk([INTMOD],"reflex", damage([4,6],[INTMOD])),
          Hit("The target is immobilized"),
          Effect("The burst creates a web-filled zone until the end of the encoutner or for 5 minutes.  The zone is difficult terrain.  Any creature in the web at the start of its turn takes 4d6 necrotic damage.  Any creature that ends its move int he web is immobilized (save ends).")],"wizard","attack",25),
      Power("Prismatic Spray",["arcane","fear","fire","implement","poison"],"daily","standard",
          [Target("each enemy in burst",("close burst",5)),Atk([INTMOD],"Fortitude, Reflex, Will", damage([3,6],[INTMOD])),
          Other("","Hit (Fortitude): If the attack hits the target's Fortitude defense, the target takes poison damage (as above), and is slowed (save ends)."),
          Other("","Hit (Reflex): If the attack hits the target's Reflex defense, the target takes fire damage (as above), and ongoing 15 fire damage (save ends)."),
          Other("","Hit (Will): If the attack hits the target's Will defense, the target is stunned (save ends)."),
          Special("You only make one attack per target, but compare the attack result against all three defenses.  A target might be subject to any, all, or none of the effects depending on how many of its defenses were hit.  The target must make a saving throw against each ongoing effect seperately.")],"wizard","attack",25)
],"wizardencounter27":[
     Power("Black Fire",["arcane","fire","implement","necrotic"],"encounter","standard",
          [Target("each enemy in blast",("close blast",5)),Atk([INTMOD],"reflex", damage([6,6],[INTMOD]))],"wizard","attack",27),
     Power("Confusion",["arcane","charm","implement","psychic"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"will", damage([3,10],[INTMOD])),
          Hit(["On the targets next turn, you control its actions: You can move it ",MOD("wis")," squares, and it them makes a basic attack against its nearest ally."])],"wizard","attack",27),
     Power("Forcecage",["arcane","force","implement"],"encounter","standard",
          [Target("one creature",("ranged",20)),Atk([INTMOD],"reflex", damage([3,10],[INTMOD])),
          Hit("The target is confined in the forcecage until the end of your next turn.  While confined, it is immobilized, grants combat advantage, and cannot gain line of effect against nonadjacent enemies.")],"wizard","attack",27)
],"wizarddaily29":[
     Power("Greater Ice Storm",["arcane","cold","implement","zone"],"daily","standard",
          [Target("Each creature in burst",("area burst",5,20)),Atk([INTMOD],"fortitude", damage([4,8],[INTMOD])),
          Hit("The target is immobilized (save ends)."),
          Miss("Half damage, and the target is slowed (save ends)."),
          Effect("The burst creates a zone of ice.  The zone is difficult terrain until the end of the encounter or for 5 minutes.")],"wizard","attack",29),
     Power("Legion's Hold",["arcane","charm","implement","psychic"],"daily","standard",
          [Target("each enemy in burst",("close burst",20)),Atk([INTMOD],"will", damage([2,10],[INTMOD])),
          Hit("The target is dazed and immobilized (save ends)"),
          Miss("Half damage, and the target is immobilized (save ends).")],"wizard","attack",29),
     Power("Meteor Swarm",["arcane","fire","implement"],"daily","standard",
          [Target("each creature in burst",("area burst",5,20)),Atk([INTMOD],"reflex", damage([8,6],[INTMOD])),
          Miss("Half damage.")],"wizard","attack",29),
]}
    addPowers(wizardList)

def spellscarred():
    spellscarredList={"spellscarredencounter1":[
     Power("Horrific Maw Bite",[],"encounter","standard",
          [Target("one creature",("melee",1)),Atk([choosestat("horrific maw bite",["str","con","dex"]),raising(2,10)],"AC", damage([1,12],[choosestat("horrific maw bite",["str","con","dex"],False)]))],"spellscarred","attack",1),
     Power("Plague Lash",["arcane","implement","necrotic","psychic"],"encounter","standard",
          [Target("one creature",("melee",1)),Atk([choosestat("plague lash",["int","wis","cha"])],"AC", damage([1,12],[choosestat("plague lash",["int","wis","cha"],False)]),None,[],"psychic"),
           Hit("Each time the target attacks on its next turn, it also coughs up sickly blue-black blood, taking 5 necrotic damage.")],"spellscarred","attack",1),
],"spellscarreddaily1":[
      Power("Burning Focus",["arcane","fire","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([choosestat("burning focus",["str","dex","con"])],"AC",damage(2,[choosestat("burning focus",["str","dex","con"],False)]),["melee"]),
          Miss("Half damage."),
          Effect(["All creatures adjacent to you take ",dmg(choosestat("burning focus",["str","dex","con"],False),1,6),"."])],"spellscarred","attack","1"),
      Power("Spellmirror",["arcane","implement"],"daily","immediate reaction",
          [Trigger("A creature misses you with an attack",("close burst",20)),
          Target("The triggering creature in burst",("close burst",20)),
          Atk([choosestat("spellmirror",["int","wis","cha"])],"reflex",damage([2,10],[choosestat("spellmirror",["int","wis","cha"],False)])),
          Hit("This damage is of the same type (or types) as the attack that missed. the target also gains any effect (and its duration) that its attack would have inflicted on you."),
          Miss("Half damage, and the attack does not produce any effects.")],"spellscarred","attack","1"),                        
],"spellscarredutility2":[
       Power("Spelleater",["arcane"],"encounter","immediate interrupt",
          [Trigger("An attack targets you"),
          Effect("Add 4 to your Fortitude, Reflex, and Will defenses against this attack. If the attack misses, you regain hit points equal to one-half the level of the attacker or effect.")],"spellscarred","utility","2"),
      Power("Plague Of Rooted Majesty",["arcane"],"encounter","minor",
          [Effect("Until the end of the encounter, you reduce pull, push, and slide effects by 1 and cannot be knocked prone. Your speed drops by 2, and you gain a climb speed equal to your adjusted speed.")],"spellscarred","utility","2"),                        
],"spellscarredencounter3":[
      Power("Scar-Carving Blade",["arcane","fire","necrotic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([choosestat("scar-carving blade",["str","dex","con"])],"AC",damage(1,[choosestat("scar-carving blade",["str","dex","con"],False)]),["melee"],[],""),
          Hit("The target is smeared with your burning spellscarred blood. your next successful attack against the target before the end of your next turn causes 5 extra fire and necrotic damage.")],"spellscarred","attack","3"),
      Power("Call Of The Plague",["arcane","fire","implement"],"encounter","standard",
          [Target("Each creature in burst",("close burst",5)),
          Atk([choosestat("call of the plague",["int","wis","cha"])],"fortitude",None),
          Hit("You pull each target 1d6 squares."),
          Effect("Make a secondary attack."),
          Target("Each creature within 2 squares of you"),
          Atk([choosestat("call of the plague",["int","wis","cha"])],"reflex",damage([1,10],[choosestat("call of the plague",["int","wis","cha"],False)])),
          Hit("+1d10 damage.  You push the target 1d6 squares.")],"spellscarred","attack","3"),                        
],"spellscarreddaily5":[
      Power("Blurring Blade",["arcane","fire","necrotic","stance"],"daily","minor",
          [Effect("Any enemy that starts its turn adjacent to you takes ongoing 5 fire and necrotic damage (save ends).")],"spellscarred","attack","5"),
       Power("Terrible Imposition",["arcane","fire","teleportation"],"daily","standard",
          [Target("One creature of your size or larger",("ranged",10)),
          Atk([choosestat("terrible imposition",["int","wis","cha"]),raising(2,10)],"fortitude",None),
          Hit("You disappear into a distortion of space you create inside the target. You have line of sight and line of effect only to the target, and no creature has line of sight or line of effect to you. The target is slowed and takes 10 damage at the start of its turn. On your next turn, you can deal 5 fire damage to the target as a minor action, and you can attack the target as though you were adjacent to it (though it cannot make opportunity attacks against you). At the end of that turn, you appear in a space of your choice adjacent to the target."),
          Miss("5 damage, and the target is slowed until the end of its next turn.")],"spellscarred","attack","5"),
],"spellscarredutility6":[
      Power("Haunting Reception",["arcane","teleportation"],"daily","immediate reaction",
          [Trigger("You take damage from an attack"),
          Effect("You disappear. At the start of your next turn, you reappear in any unoccupied space within 5 squares of the creature that attacked you, and the creature that attacked you grants combat advantage to you until the end of your next turn.")],"spellscarred","utility","6"),
      Power("Plaguefire Body",["arcane"],"encounter","free",
          [Effect("End one poison, disease, charm, or fear effect that currently affects you.")],"spellscarred","utility","6"),                        
],"spellscarredencounter7":[
      Power("Reach Of The Doomed",["arcane","poison","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([choosestat("reach of the doomed",["str","dex","con"])],"AC",damage(2,[choosestat("reach of the doomed",["str","dex","con"],False)]),[]),
          Hit("You can spend a healing surge to make a secondary attack against the target."),
          Atk([choosestat("reach of the doomed",["str","dex","con"],False)],"fortitude",damage([2,10],[],False)),
          Hit("The target is dazed until the end of your next turn.")],"spellscarred","attack","7"),
      Power("Cursed Grasping Air",["arcane","implement"],"encounter","standard",
          [Target("Two creatures",("ranged",15)),
          Atk([choosestat("cursed grasping air",["int","wis","cha"])],"reflex",damage([2,6],[choosestat("cursed grasping air",["int","wis","cha"],False)])),
          Special("One attack per target"),
          Hit("If you hit both targets, you slide one target to be adjacent to the other.")],"spellscarred","attack","7"),
      Power("Venomous Bloodfang",["arcane","necrotic","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([choosestat("venomous bloodfang",["str","dex","con"])],"AC",damage(1,[choosestat("venomous bloodfang",["str","dex","con"],False)]),["melee"],[],""),
          Hit("+ 2d6 necrotic damage. you regain hit points equal to twice the necrotic damage you dealt.")],"spellscarred","attack","7"),                        
],"spellscarreddaily9":[
      Power("Burning The Plagued Bellows",["arcane","fire","implement"],"encounter","standard",
          [Target("Each creature in blast",("close blast",3)),
          Atk([choosestat("burning the plagued bellows",["int","wis","cha"])],"reflex",damage([3,8],[choosestat("burning the plagued bellows",["int","wis","cha"],False)])),
          Miss("Half damage."),
           Sustain("minor",["Each target you hit burns with arcane fire (save ends). Until a target saves, you can repeat the attack against it when you sustain the power. On a hit, the attack instead deals ",damage(0,1,8)," to the target and to each creature adjacent to it."])],"spellscarred","attack","9"),
      Power("Submission Of The Earth",["arcane","fire","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("submission of the earth",["str","dex","con"])],"AC",damage(3,[choosestat("submission of the earth",["str","dex","con"],False)]),["melee"],[],""),
          Hit("Ongoing 5 fire damage and the target is immobilized (save ends both)."),
          Miss("Half damage, no ongoing fire damage, and the target is not immobilized.")],"spellscarred","attack","9"),                        
],"spellscarredutility10":[
      Power("Scar Of Blue Wings",["arcane"],"encounter","move",
          [Effect("You gain a fly speed of twice your speed for this move action.")],"spellscarred","utility","10"),
      Power("Tears Of Fire And Blood",["arcane"],"encounter","free",
          [Trigger("You miss with an attack"),
          Effect(["You take ",MOD("level")," fire damage. If the missed attack would have hit with a +4 power bonus, the attack hits instead."])],"spellscarred","utility","10"),                        
],"spellscarredencounter13":[
      Power("Lines In Burning Sand",["arcane","fire","implement"],"encounter","standard",
          [Target("Each creature in burst",("area burst",2,20)),
          Atk([choosestat("lines in burning sand",["int","wis","cha"])],"AC",damage([2,10],[choosestat("lines in burning sand",["int","wis","cha"],False)])),
          Effect(["The burst creates an area of fire until the end of your next turn. A creature must spend an extra 3 squares of movement to go from a square in the area to one outside it. When a creature leaves the area, it takes ",dmg(0,1,10),"."])],"spellscarred","attack","13"),
      Power("Spellmother's Embrace",["acid","arcane","polymorph"],"encounter","standard",
          [Requirement("You must have an empty hand."),
          Target("One creature",("melee",1)),
          Atk([choosestat("spellmother's embrace",["str","dex","con"])],raising(2,10),"fortitude",None),
          Hit("You grab the target. It takes 5 acid damage at the end of each of its turns until it is no longer grabbed by you.")],"spellscarred","attack","13"),                                                
],"spellscarreddaily15":[
       Power("Infliction Of The Flamemist",["arcane","fire","implement","polymorph"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([choosestat("infliction of the flamemist",["int","wis","cha"])],"fortitude",damage([2,10],[],False)),
          Hit("The target becomes insubstantial, deals half damage with its attacks, gains vulnerable 10 fire and ongoing 5 fire damage (save ends all). Fire damage ignores the target's insubstantial quality."),
          Miss("Half damage, and the target is not insubstantial, does not deal half damage, is not vulnerable to fire, and takes no ongoing fire damage.")],"spellscarred","attack","15"),
      Power("Rabid Chain Of Steel",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("rabid chain of steel",["str","dex","con"])],"AC",damage(3,[choosestat("rabid chain of steel",["str","dex","con"],False)]),["melee"]),
          Hit("The target makes a melee basic attack against an adjacent creature of your choice that has not been attacked this turn. On a hit, that creature does likewise, and so on until an attack misses."),
          Miss("Half damage, and no additional attacks.")],"spellscarred","attack","15"),                        
],"spellscarredutility16":[
      Power("Body, No Body",["arcane"],"encounter","minor",
          [Effect("You gain insubstantial and phasing until the end of this turn.")],"spellscarred","utility","16"),
      Power("Healing Flesh Of The Infected",["arcane","healing"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Effect("You spend a healing surge but regain no hit points from it. Instead, the target can regain hit points as if it had spent a healing surge and gains an equal number of temporary hit points.")],"spellscarred","utility","16"),                        
],"spellscarredencounter17":[
      Power("Iron Tooth Of Bloodlust",["arcane","healing","weapon"],"encounter","standard",
          [Target("One creature"),
          Atk([choosestat("iron tooth of bloodlust",["str","dex","con"])],"AC",damage(2,[choosestat("iron tooth of bloodlust",["str","dex","con"],False)]),["melee"],[],""),
          Hit("+ 2d6 necrotic damage. You regain hit points equal to twice the necrotic damage you dealt.")],"spellscarred","attack","17"),
      Power("Mask Of Midnight",["arcane","implement","psychic"],"encounter","standard",
          [Target("Each creature in blast",("close blast",4)),
          Atk([choosestat("mask of midnight",["int","wis","cha"])],"will",damage([1,10],[],False)),
          Hit("The target is blinded until the end of your next turn.")],"spellscarred","attack","17"),
],"spellscarreddaily19":[
      Power("Spellcurse",["arcane","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("spellcurse",["str","dex","con"])],"AC",damage(2,[choosestat("spellcurse",["str","dex","con"],False)]),["melee"]),
          Hit("The target is immobilized and dazed (save ends both)."),
          Miss("Half damage, and the target is not immobilized or dazed.")],"spellscarred","attack","19"),
      Power("Gravity Of Moment",["arcane","implement"],"daily","standard",
          [Target("One creature",("ranged",20)),
          Atk([choosestat("gravity of moment",["int","wis","cha"])],"will",None),
          Hit("Slide the target 15 squares."),
          Miss("Slide the target 10 squares."),
          Sustain("minor"," If the target is in range of the power, slide the target 10 squares.")],"spellscarred","attack","19"),                        
],"spellscarredutility22":[
      Power("Donning The Mudflesh",["arcane","polymorph","stance"],"daily","minor",
          [Effect("You become insubstantial. This stance ends if you are bloodied.")],"spellscarred","utility","22"),
      Power("Spellplague Guardians",["arcane","conjuration"],"daily","standard",
          [Effect("You conjure five human-shaped creatures. Each occupies 1 square. When you take a move action, you can move each conjuration 3 squares. Enemies can't enter a square occupied by a conjured guardian, but allies can move through the guardians' spaces as if the guardians were allies. The conjured guardians grant cover to allies but not enemies.",("ranged",10))],"spellscarred","utility","22"),                        
],"spellscarredencounter23":[
      Power("Hideous Tether",["acid","arcane","weapon"],"encounter","standard",
          [Target("One creature",("melee","touch")),
          Atk([choosestat("hideous tether",["str","dex","con"])],"AC",damage([1,10],[choosestat("hideous tether",["str","dex","con"],False)])),
          Hit("The target takes ongoing 10 acid damage and cannot move more than 3 squares from you (save ends both).")],"spellscarred","attack","23"),
      Power("Tongues Of The Earth",["acid","arcane","implement"],"encounter","standard",
          [Target("One creature",("ranged",10)),
          Atk([choosestat("tongues of the earth",["int","wis","cha"])],"reflex",damage([1,10],[choosestat("tongues of the earth",["int","wis","cha"],False)])),
          Hit("+ 2d10 damage, and the target is immobilized until the end of your next turn.")],"spellscarred","attack","23"),
],"spellscarreddaily25":[
      Power("Malignant Growth",["arcane","implement","polymorph"],"daily","standard",
          [Target("One creature",("ranged",10)),
          Atk([choosestat("malignant growth",["int","wis","cha"])],"fortitude",damage([4,10],[choosestat("malignant growth",["int","wis","cha"],False)])),
          Hit(["Two devouring mouths sprout on the target. At the start of the target's turn, the mouths attack two creatures of your choice adjacent to the target. The attacks use the target's melee basic attack bonus and deal ",dmg(0,1,10),". one save by the target reduces the number of mouths (and attacks) to one, and a second save ends the effect."]),
          Miss("Half damage, and one mouth attacks one creature of your choice adjacent to the target at the start of the creature's next turn.")],"spellscarred","attack","25"),
      Power("Contagion Flame",["arcane","fire","necrotic","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("contagion flame",["str","dex","con"])],"AC",damage([2,10],[choosestat("contagion flame",["str","dex","con"],False)])),
          Hit("Ongoing 10 fire and necrotic damage (save ends). at the start of the target's turn, any creature adjacent to the target takes ongoing 10 fire and necrotic damage (save ends). Creatures that take ongoing damage from this power communicate it in the same manner."),
          Miss("Half damage, and ongoing 10 fire and necrotic damage (save ends). This ongoing damage is not contagious.")],"spellscarred","attack","25"),                        
],"spellscarredencounter27":[
      Power("Shifting Wave",["arcane","fire","implement","psychic","teleportation"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([choosestat("shifting wave",["int","wis","cha"])],"will",damage([3,10],[choosestat("shifting wave",["int","wis","cha"],False)])),
          Hit("You teleport the target 4 squares. You can teleport each of your allies in the burst 4 squares.")],"spellscarred","attack","27"),
      Power("Impossible Flurry",["arcane","weapon"],"encounter","standard",
          [Target("Each enemy in burst",("close burst",3)),
          Atk([choosestat("impossible flurry",["str","dex","con"])],"AC",damage([2,10],[choosestat("impossible flurry",["str","dex","con"],False)])),
          Effect("Shift to any square in the burst.")],"spellscarred","attack","27"),                        
],"spellscarreddaily29":[
      Power("Echoes Of Valor",["arcane","reliable","weapon"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("echoes of valor",["str","dex","con"])],"AC",damage([5,10],[choosestat("echoes of valor",["str","dex","con"],False)])),
           Sustain("minor"," Repeat this attack against the target. You need not be within melee reach of the target. You can continue to sustain this attack until you miss.")],"spellscarred","attack","29"),
      Power("Metamorphosis",["arcane","fire","implement","psychic"],"daily","standard",
          [Target("One creature"),
          Atk([choosestat("metamorphosis",["int","wis","cha"])],"fortitude or will",damage([2,10],[choosestat("metamorphosis",["int","wis","cha"],False)]),["melee"]),
          Special("If the attack hits either Fortitude or Will, it hits."),
          Hit("Ongoing 10 fire and psychic damage (save ends). Each time the target fails its saving throw against this power, the ongoing damage increases by 10. If the ongoing damage kills the target, it dissolves into a mass of blue fire.")],"spellscarred","attack","29"),                        
]}
    addPowers(spellscarredList)            
if "ardent" in classes: ardent()
if "artificer" in classes: artificer()
if "avenger" in classes: avenger()
if "barbarian" in classes: barbarian()
if "bard" in classes: bard()
if "battlemind" in classes: battlemind()
if "cleric" in classes: cleric()
if "druid" in classes: druid()
if "fighter" in classes: fighter()
if "invoker" in classes: invoker()
if "monk" in classes: monk()
if "paladin" in classes: paladin()
if "psion" in classes: psion()
if "ranger" in classes: ranger()
if "rogue" in classes: rogue()
if "runepriest" in classes: runepriest()
if "seeker" in classes: seeker()
if "shaman" in classes: shaman()
if "sorcerer" in classes: sorcerer()
if "swordmage" in classes: swordmage()
if "warden" in classes: warden()
if "warlock" in classes: warlock()
if "warlord" in classes: warlord()
if "wizard" in classes: wizard()
spellscarred()
def findclasslevel(name):
	for x in powerList.keys():
		for y in powerList[x]:
			if y==name: return x